
Hardcoding Violation Incident Report â€“ Root Cause & Permanent Prevention
=========================================================================

ğŸ“Œ Purpose:
-----------
This document outlines the critical violations found in the implementation of the RCA engine regarding hardcoded logic and provides permanent enforcement guidelines to ensure universal, schema-driven, symptom-based logic without fallback to hardcoded equipment or failure mode lists.

ğŸš« VIOLATION SUMMARY:
----------------------
Incident: #70 (Pump Seal Failure)
Issue Observed: Despite user instructions, the system was still showing irrelevant failure modes like "Bearing Failure", "Casing Crack", and "Impeller Damage" based on equipment-type preloading.

Root Cause:
âœ” Use of `generateEquipmentSpecificFailureModes()`
âœ” Existence of `equipmentFailureModes` hardcoded dictionary
âœ” Search fallback was based on group/type/subtype, not symptom keywords
âœ” Logs showed loading of "Reagent Pump Failure" and other unrelated modes

ğŸ§± VIOLATED INSTRUCTIONS:
-------------------------
âŒ Do NOT preload failure modes based on Equipment Group / Type / Subtype
âŒ Do NOT use fallback templates or generic equipment-specific suggestions
âŒ Do NOT match evidence library using group/type â€“ only symptom pattern

âœ… UNIVERSAL LOGIC ENFORCEMENT:
-------------------------------
1. All filtering and investigation prompts MUST begin with the Incident Description.
2. Use NLP-driven extraction of symptom keywords ONLY (e.g., 'seal leak', 'dripping', 'burnt', 'rotor').
3. Match these keywords against:
   â€¢ faultSignaturePattern
   â€¢ failureModeDescription
   â€¢ requiredEvidence fields in the Evidence Library
4. Generate failure mode shortlist based on pattern match score (â‰¥ threshold).
5. Eliminate ALL fallback failure mode loading based on:
   - Group
   - Type
   - Subtype
   - Component Templates
6. Prompt user only for relevant evidence (e.g., "Please upload IR scan", etc.) based on matched failure mode entries.

ğŸ”’ ZERO HARDCODING RULE:
------------------------
- No fixed dictionary allowed (e.g., `equipmentFailureModes`)
- No static template-based lists for Pumps, Motors, Generators, etc.
- No preloading by group/type â€” system must start from incident text

ğŸ“‘ REQUIRED AUDIT LOG FORMAT:
-----------------------------
Every filtering decision must be logged as JSON:
```
{
  "incidentID": 70,
  "keywordExtracted": ["seal", "dripping"],
  "matchedFailureModes": [
    {
      "failureMode": "Seal Face Wear",
      "matchedPattern": "dripping",
      "source": "faultSignaturePattern",
      "libraryRowID": "FM001"
    }
  ],
  "eliminatedFailureModes": [
    "Bearing Failure",
    "Casing Crack",
    "Impeller Damage"
  ]
}
```

ğŸ” PERMANENT PREVENTION TEST CASES:
-----------------------------------
âœ” Incident #70 (Seal leak): Must match only seal-related modes (e.g., Face Wear, Flush Line Blocked)
âœ” Incident #65 (Burnt Rotor): Must match only winding/rotor failures (e.g., Rotor Bar Crack)
âœ” Incident with vague symptom: Must ask clarifying questions FIRST

ğŸ”„ FINAL STATEMENT:
-------------------
Under no circumstance should ANY logic be hardcoded for any equipment group, type, subtype, or component. All analysis MUST be driven dynamically from incident description + evidence library pattern matching.

Any fallback to equipment-based templates, failure mode preloading, or static lists is strictly prohibited and will violate RCA architecture principles.

-- END OF ENFORCEMENT DOCUMENT --
