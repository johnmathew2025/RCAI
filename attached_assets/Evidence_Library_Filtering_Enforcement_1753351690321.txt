
ğŸ“„ RCA Evidence Library Filtering Compliance Enforcement

ğŸ›‘ Root Cause of Current Failure:
Despite claims of universal NLP filtering, failure modes like "Bearing Failure", "Impeller Damage", and "Casing Crack" are still shown by default for pumps â€” even when not contextually relevant. This clearly indicates:

âŒ Hardcoded or equipment-type-tied failure modes are still being preloaded from the Evidence Library.
âŒ Filtering is not based solely on symptoms extracted from the incident description.
âŒ Symptom-to-failure mode matching is NOT dynamically validated per incident.

---

âœ… REQUIRED: UNIVERSAL, DYNAMIC RCA FILTERING LOGIC

1. ğŸš« ABSOLUTE RULE: NO HARDCODED FAILURE MODES
   - Do not preload or default any failure modes based on Equipment Group, Type, or Subtype.
   - The system must work for any industrial asset, even those not in the library yet.

2. âœ… PRIMARY INDEX: INCIDENT SYMPTOMS (NOT EQUIPMENT TYPE)
   - Use NLP to extract keywords from incident description and symptom fields.
   - Search the Evidence Library for matching symptom patterns or triggers â€” not for equipment type.

3. ğŸ” FAILURE MODE DISPLAY RULES:
   - Only display failure modes where:
     a. Keyword match exists between incident and Evidence Library
     b. Match is logged with traceable justification

4. ğŸ“š EVIDENCE LIBRARY QUERY EXAMPLE:
   Instead of:
     SELECT * FROM library WHERE EquipmentType = "Pump"

   Use:
     SELECT * FROM library WHERE Symptoms LIKE ANY(KEYWORDS_FROM_INCIDENT)

5. ğŸ§  LOGGING REQUIREMENT (FOR QA AND AUDIT):
   For every failure mode surfaced, log:
   ```json
   {
     "IncidentID": "70",
     "FailureMode": "Bearing Failure",
     "MatchedKeyword": "vibration",
     "MatchSource": "incident.description",
     "LibraryRowID": 88
   }
   ```

6. âš™ï¸ REJECTION OF NON-MATCHED FAILURE MODES:
   If no match exists between incident keywords and Evidence Library symptom triggers:
   â†’ No failure modes should be surfaced at that stage.

7. ğŸ“Œ NO FALLBACK OR DEFAULT MODES:
   - Do not load equipment-typical failures just because symptom parsing is weak.
   - If NLP confidence is low, prompt user to improve symptom description instead.

8. ğŸ” DYNAMIC OPERATION ONLY:
   - The entire flow must work for any equipment type, even hypothetical ones.
   - Schema must support adding new types without code change.

---

ğŸ§ª Example of Incorrect Behavior (currently observed):
Incident: Pump seal failure
  âœ… Incident mentions: "seal", "leak", "dripping"
  âŒ System shows: "Bearing Failure", "Casing Crack" (not mentioned, irrelevant)
  ğŸ” Logs show evidence library pulled all pump-type rows by default

âœ”ï¸ Correct behavior:
  - NLP extracts: "seal", "leak"
  - Library filtered for those symptom triggers only
  - Only â€œSeal Face Wearâ€ and â€œSeal Flush Blockedâ€ modes are shown

---

ğŸ“£ FINAL WARNING: HARD CODING PROHIBITED UNDER ALL CIRCUMSTANCES
â†’ Any use of static failure mode lists, default templates, or hardcoded EquipmentType logic is a violation of universal RCA principles.

ALL FILTERING MUST BE DONE DYNAMICALLY, BASED ON INCIDENT CONTENT ONLY.
