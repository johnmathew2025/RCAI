
FINAL UNIVERSAL RCA INSTRUCTION â€” AI-DRIVEN, NO HARDCODING (v1.0)

=======================
ðŸ”’ NO HARDCODING â€” EVER
=======================
Replit must NOT hardcode any:
- Equipment group, type, or subtype
- Failure modes or symptoms
- Symptom-to-cause mappings
- Scoring values

All logic MUST be:
âœ“ AI-driven (e.g., GPT)
âœ“ Schema-based
âœ“ Dynamic
âœ“ Evidence-Library-verified

=================================================================
âœ… STEP 1: INCIDENT INGESTION & NLP CONTEXT EXTRACTION
=================================================================
AI parses incident free-text + structured fields:
- Incident Title / Description
- Component involved
- Frequency, Severity, First observed date
- Operating conditions (pressure, temperature)
- Symptom description
- Maintenance history if available

AI must:
âœ“ Perform NLP tokenization
âœ“ Generate enriched symptom list
âœ“ Detect component context from unstructured text

=================================================================
âœ… STEP 2: AI-DRIVEN HYPOTHESIS GENERATION (No Hardcoding)
=================================================================
AI should:
âœ“ Generate 4â€“6 most likely causes using GPT
âœ“ Use internal engineering knowledge (no preloaded templates)
âœ“ Examples: "Seal Face Wear", "Flush Port Blockage", etc.

DO NOT preload dictionary-based mappings.

=================================================================
âœ… STEP 3: EVIDENCE LIBRARY CROSS-MATCH
=================================================================
For each hypothesis:
âœ“ Match with fault signature patterns
âœ“ Pull required:
  - Trend evidence (e.g., Vibration, IR, DCS logs)
  - Prompt questions
  - Expected detection logic

Confidence scores must be dynamically computed.

=================================================================
âœ… STEP 4: HUMAN CONFIRMATION FLOW
=================================================================
Show investigator:
- âœ… Agree
- âŒ Disagree
- âž• Add More

If investigator modifies the list, AI must:
âœ“ Update hypotheses
âœ“ Re-filter evidence
âœ“ Re-calculate priority

=================================================================
âœ… STEP 5: EVIDENCE COLLECTION INTERFACE
=================================================================
For each hypothesis:
âœ“ Show required evidence
âœ“ Ask clarifying prompts
âœ“ Allow:
  - File upload
  - Mark "Not Available"
  - Add custom notes

Scoring must degrade gracefully if evidence is missing.

=================================================================
âœ… STEP 6: AI CONFIDENCE ANALYSIS
=================================================================
âœ“ Analyze uploaded data
âœ“ Compare with fault signature
âœ“ Calculate dynamic confidence:

>80% â†’ Confirmed
60â€“80% â†’ Probable
<60% â†’ Inconclusive / More Data Needed

=================================================================
âœ… STEP 7: RCA OUTPUT STRUCTURE
=================================================================
Output:
- Primary Root Cause
- Contributing Factor
- Latent Cause
- Detection Gaps
- AI Confidence
- Fault Signature Match
- Recommendation
- Suggested Actions
- PSM Elements (Optional): PHA, MOC, SIS compliance

=================================================================
âœ… STEP 8: OPTIONAL EVIDENCE LIBRARY UPDATE
=================================================================
If human confirms root cause or new insights are validated:
âœ“ Ask Admin whether to update:
  - Fault Signature Patterns
  - Required Evidence
  - Prompt Questions

Always require admin approval before library update.

=================================================================
âœ… BACKGROUND ENRICHMENT (Optional Data)
=================================================================
Use the following sources for AI context (but not hard filtering):

| Category              | Data Source                  |
|----------------------|------------------------------|
| DCS/SCADA Data        | Historian, trends            |
| Maintenance Records   | CMMS, SAP                    |
| Human Logs            | Operator shift log           |
| Environmental Factors | Weather, blackout, seismic   |
| Safety Systems        | SIS logs, trip diagnostics   |
| Regulatory            | MOC, PHA, permits            |

=================================================================
ðŸš« DO NOT DO THE FOLLOWING
=================================================================
ðŸš« IF equipmentType === "Pump"
ðŸš« Use symptom-to-mode dictionary
ðŸš« Hardcode failure mode list
ðŸš« Generate only 1 top match
ðŸš« Skip human review flow

=================================================================
âœ… IMPLEMENTATION CHECKLIST
=================================================================
âœ“ No hardcoded keywords
âœ“ Multiple dynamic hypotheses
âœ“ Human review enabled
âœ“ All confidence thresholds applied
âœ“ AI inference confirmed via GPT
âœ“ Audit logging enabled
âœ“ Schema-driven & portable logic
âœ“ Working for ANY INCIDENT, ANY EQUIPMENT

