var gC=e=>{throw TypeError(e)};var cy=(e,t,n)=>t.has(e)||gC("Cannot "+n);var Y=(e,t,n)=>(cy(e,t,"read from private field"),n?n.call(e):t.get(e)),rt=(e,t,n)=>t.has(e)?gC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ie=(e,t,n,i)=>(cy(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),vt=(e,t,n)=>(cy(e,t,"access private method"),n);var rm=(e,t,n,i)=>({set _(s){Ie(e,t,s,n)},get _(){return Y(e,t,i)}});function bq(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OT={exports:{}},gv={},IT={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=Symbol.for("react.element"),jq=Symbol.for("react.portal"),wq=Symbol.for("react.fragment"),Nq=Symbol.for("react.strict_mode"),Sq=Symbol.for("react.profiler"),Cq=Symbol.for("react.provider"),Eq=Symbol.for("react.context"),kq=Symbol.for("react.forward_ref"),Aq=Symbol.for("react.suspense"),_q=Symbol.for("react.memo"),Pq=Symbol.for("react.lazy"),yC=Symbol.iterator;function Tq(e){return e===null||typeof e!="object"?null:(e=yC&&e[yC]||e["@@iterator"],typeof e=="function"?e:null)}var RT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MT=Object.assign,$T={};function Md(e,t,n){this.props=e,this.context=t,this.refs=$T,this.updater=n||RT}Md.prototype.isReactComponent={};Md.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Md.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DT(){}DT.prototype=Md.prototype;function tN(e,t,n){this.props=e,this.context=t,this.refs=$T,this.updater=n||RT}var nN=tN.prototype=new DT;nN.constructor=tN;MT(nN,Md.prototype);nN.isPureReactComponent=!0;var bC=Array.isArray,LT=Object.prototype.hasOwnProperty,rN={current:null},FT={key:!0,ref:!0,__self:!0,__source:!0};function qT(e,t,n){var i,s={},a=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)LT.call(t,i)&&!FT.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:_p,type:e,key:a,ref:o,props:s,_owner:rN.current}}function Oq(e,t){return{$$typeof:_p,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iN(e){return typeof e=="object"&&e!==null&&e.$$typeof===_p}function Iq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jC=/\/+/g;function dy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iq(""+e.key):t.toString(36)}function Jm(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _p:case jq:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+dy(o,0):i,bC(s)?(n="",e!=null&&(n=e.replace(jC,"$&/")+"/"),Jm(s,t,n,"",function(d){return d})):s!=null&&(iN(s)&&(s=Oq(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",bC(e))for(var l=0;l<e.length;l++){a=e[l];var c=i+dy(a,l);o+=Jm(a,t,n,c,s)}else if(c=Tq(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=i+dy(a,l++),o+=Jm(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sm(e,t,n){if(e==null)return e;var i=[],s=0;return Jm(e,i,"","",function(a){return t.call(n,a,s++)}),i}function Rq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},eh={transition:null},Mq={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:eh,ReactCurrentOwner:rN};function zT(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:sm,forEach:function(e,t,n){sm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sm(e,function(){t++}),t},toArray:function(e){return sm(e,function(t){return t})||[]},only:function(e){if(!iN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=Md;St.Fragment=wq;St.Profiler=Sq;St.PureComponent=tN;St.StrictMode=Nq;St.Suspense=Aq;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mq;St.act=zT;St.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=MT({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=rN.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)LT.call(t,c)&&!FT.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:_p,type:e.type,key:s,ref:a,props:i,_owner:o}};St.createContext=function(e){return e={$$typeof:Eq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cq,_context:e},e.Consumer=e};St.createElement=qT;St.createFactory=function(e){var t=qT.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:kq,render:e}};St.isValidElement=iN;St.lazy=function(e){return{$$typeof:Pq,_payload:{_status:-1,_result:e},_init:Rq}};St.memo=function(e,t){return{$$typeof:_q,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=eh.transition;eh.transition={};try{e()}finally{eh.transition=t}};St.unstable_act=zT;St.useCallback=function(e,t){return br.current.useCallback(e,t)};St.useContext=function(e){return br.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return br.current.useDeferredValue(e)};St.useEffect=function(e,t){return br.current.useEffect(e,t)};St.useId=function(){return br.current.useId()};St.useImperativeHandle=function(e,t,n){return br.current.useImperativeHandle(e,t,n)};St.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return br.current.useMemo(e,t)};St.useReducer=function(e,t,n){return br.current.useReducer(e,t,n)};St.useRef=function(e){return br.current.useRef(e)};St.useState=function(e){return br.current.useState(e)};St.useSyncExternalStore=function(e,t,n){return br.current.useSyncExternalStore(e,t,n)};St.useTransition=function(){return br.current.useTransition()};St.version="18.3.1";IT.exports=St;var b=IT.exports;const q=Rt(b),sN=bq({__proto__:null,default:q},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $q=b,Dq=Symbol.for("react.element"),Lq=Symbol.for("react.fragment"),Fq=Object.prototype.hasOwnProperty,qq=$q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zq={key:!0,ref:!0,__self:!0,__source:!0};function BT(e,t,n){var i,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)Fq.call(t,i)&&!zq.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Dq,type:e,key:a,ref:o,props:s,_owner:qq.current}}gv.Fragment=Lq;gv.jsx=BT;gv.jsxs=BT;OT.exports=gv;var r=OT.exports,UT={exports:{}},Qr={},VT={exports:{}},WT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,I){var U=z.length;z.push(I);e:for(;0<U;){var Z=U-1>>>1,$=z[Z];if(0<s($,I))z[Z]=I,z[U]=$,U=Z;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var I=z[0],U=z.pop();if(U!==I){z[0]=U;e:for(var Z=0,$=z.length,ie=$>>>1;Z<ie;){var ne=2*(Z+1)-1,J=z[ne],se=ne+1,ue=z[se];if(0>s(J,U))se<$&&0>s(ue,J)?(z[Z]=ue,z[se]=U,Z=se):(z[Z]=J,z[ne]=U,Z=ne);else if(se<$&&0>s(ue,U))z[Z]=ue,z[se]=U,Z=se;else break e}}return I}function s(z,I){var U=z.sortIndex-I.sortIndex;return U!==0?U:z.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,x=!1,h=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var I=n(d);I!==null;){if(I.callback===null)i(d);else if(I.startTime<=z)i(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(d)}}function N(z){if(m=!1,v(z),!h)if(n(c)!==null)h=!0,M(w);else{var I=n(d);I!==null&&G(N,I.startTime-z)}}function w(z,I){h=!1,m&&(m=!1,j(C),C=-1),x=!0;var U=p;try{for(v(I),f=n(c);f!==null&&(!(f.expirationTime>I)||z&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var $=Z(f.expirationTime<=I);I=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&i(c),v(I)}else i(c);f=n(c)}if(f!==null)var ie=!0;else{var ne=n(d);ne!==null&&G(N,ne.startTime-I),ie=!1}return ie}finally{f=null,p=U,x=!1}}var S=!1,E=null,C=-1,k=5,R=-1;function P(){return!(e.unstable_now()-R<k)}function A(){if(E!==null){var z=e.unstable_now();R=z;var I=!0;try{I=E(!0,z)}finally{I?_():(S=!1,E=null)}}else S=!1}var _;if(typeof g=="function")_=function(){g(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){y(A,0)};function M(z){E=z,S||(S=!0,_())}function G(z,I){C=y(function(){z(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){h||x||(h=!0,M(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var U=p;p=I;try{return z()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=p;p=z;try{return I()}finally{p=U}},e.unstable_scheduleCallback=function(z,I,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,z={id:u++,callback:I,priorityLevel:z,startTime:U,expirationTime:$,sortIndex:-1},U>Z?(z.sortIndex=U,t(d,z),n(c)===null&&z===n(d)&&(m?(j(C),C=-1):m=!0,G(N,U-Z))):(z.sortIndex=$,t(c,z),h||x||(h=!0,M(w))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var I=p;return function(){var U=p;p=I;try{return z.apply(this,arguments)}finally{p=U}}}})(WT);VT.exports=WT;var Bq=VT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uq=b,Yr=Bq;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HT=new Set,af={};function _l(e,t){Gc(e,t),Gc(e+"Capture",t)}function Gc(e,t){for(af[e]=t,e=0;e<t.length;e++)HT.add(t[e])}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L0=Object.prototype.hasOwnProperty,Vq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wC={},NC={};function Wq(e){return L0.call(NC,e)?!0:L0.call(wC,e)?!1:Vq.test(e)?NC[e]=!0:(wC[e]=!0,!1)}function Hq(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gq(e,t,n,i){if(t===null||typeof t>"u"||Hq(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jr(e,t,n,i,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var aN=/[\-:]([a-z])/g;function oN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aN,oN);Gn[t]=new jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aN,oN);Gn[t]=new jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aN,oN);Gn[t]=new jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new jr(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function lN(e,t,n,i){var s=Gn.hasOwnProperty(t)?Gn[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gq(t,n,s,i)&&(n=null),i||s===null?Wq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var ma=Uq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,am=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),cN=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),KT=Symbol.for("react.context"),dN=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),z0=Symbol.for("react.suspense_list"),uN=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),YT=Symbol.for("react.offscreen"),SC=Symbol.iterator;function su(e){return e===null||typeof e!="object"?null:(e=SC&&e[SC]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,uy;function Tu(e){if(uy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uy=t&&t[1]||""}return`
`+uy+e}var fy=!1;function py(e,t){if(!e||fy)return"";fy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=i.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tu(e):""}function Kq(e){switch(e.tag){case 5:return Tu(e.type);case 16:return Tu("Lazy");case 13:return Tu("Suspense");case 19:return Tu("SuspenseList");case 0:case 2:case 15:return e=py(e.type,!1),e;case 11:return e=py(e.type.render,!1),e;case 1:return e=py(e.type,!0),e;default:return""}}function B0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ec:return"Fragment";case Jl:return"Portal";case F0:return"Profiler";case cN:return"StrictMode";case q0:return"Suspense";case z0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KT:return(e.displayName||"Context")+".Consumer";case GT:return(e._context.displayName||"Context")+".Provider";case dN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uN:return t=e.displayName||null,t!==null?t:B0(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return B0(e(t))}catch{}}return null}function Yq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B0(t);case 8:return t===cN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function no(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qq(e){var t=QT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function om(e){e._valueTracker||(e._valueTracker=Qq(e))}function XT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=QT(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function wh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U0(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function CC(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=no(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZT(e,t){t=t.checked,t!=null&&lN(e,"checked",t,!1)}function V0(e,t){ZT(e,t);var n=no(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W0(e,t.type,n):t.hasOwnProperty("defaultValue")&&W0(e,t.type,no(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function W0(e,t,n){(t!=="number"||wh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ou=Array.isArray;function vc(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+no(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function H0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ge(92));if(Ou(n)){if(1<n.length)throw Error(ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:no(n)}}function JT(e,t){var n=no(t.value),i=no(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function AC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lm,tO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lm=lm||document.createElement("div"),lm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function of(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xq=["Webkit","ms","Moz","O"];Object.keys(qu).forEach(function(e){Xq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qu[t]=qu[e]})});function nO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qu.hasOwnProperty(e)&&qu[e]?(""+t).trim():t+"px"}function rO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=nO(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var Zq=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K0(e,t){if(t){if(Zq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Y0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=null;function fN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var X0=null,gc=null,yc=null;function _C(e){if(e=Op(e)){if(typeof X0!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Nv(t),X0(e.stateNode,e.type,t))}}function iO(e){gc?yc?yc.push(e):yc=[e]:gc=e}function sO(){if(gc){var e=gc,t=yc;if(yc=gc=null,_C(e),t)for(e=0;e<t.length;e++)_C(t[e])}}function aO(e,t){return e(t)}function oO(){}var my=!1;function lO(e,t,n){if(my)return e(t,n);my=!0;try{return aO(e,t,n)}finally{my=!1,(gc!==null||yc!==null)&&(oO(),sO())}}function lf(e,t){var n=e.stateNode;if(n===null)return null;var i=Nv(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ge(231,t,typeof n));return n}var Z0=!1;if(ea)try{var au={};Object.defineProperty(au,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Z0=!1}function Jq(e,t,n,i,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var zu=!1,Nh=null,Sh=!1,J0=null,e6={onError:function(e){zu=!0,Nh=e}};function t6(e,t,n,i,s,a,o,l,c){zu=!1,Nh=null,Jq.apply(e6,arguments)}function n6(e,t,n,i,s,a,o,l,c){if(t6.apply(this,arguments),zu){if(zu){var d=Nh;zu=!1,Nh=null}else throw Error(ge(198));Sh||(Sh=!0,J0=d)}}function Pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PC(e){if(Pl(e)!==e)throw Error(ge(188))}function r6(e){var t=e.alternate;if(!t){if(t=Pl(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return PC(s),e;if(a===i)return PC(s),t;a=a.sibling}throw Error(ge(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(n.alternate!==i)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?e:t}function dO(e){return e=r6(e),e!==null?uO(e):null}function uO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uO(e);if(t!==null)return t;e=e.sibling}return null}var fO=Yr.unstable_scheduleCallback,TC=Yr.unstable_cancelCallback,i6=Yr.unstable_shouldYield,s6=Yr.unstable_requestPaint,yn=Yr.unstable_now,a6=Yr.unstable_getCurrentPriorityLevel,pN=Yr.unstable_ImmediatePriority,pO=Yr.unstable_UserBlockingPriority,Ch=Yr.unstable_NormalPriority,o6=Yr.unstable_LowPriority,mO=Yr.unstable_IdlePriority,yv=null,fs=null;function l6(e){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(yv,e,void 0,(e.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:u6,c6=Math.log,d6=Math.LN2;function u6(e){return e>>>=0,e===0?32:31-(c6(e)/d6|0)|0}var cm=64,dm=4194304;function Iu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eh(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=Iu(l):(a&=o,a!==0&&(i=Iu(a)))}else o=n&~s,o!==0?i=Iu(o):a!==0&&(i=Iu(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Li(t),s=1<<n,i|=e[n],t&=~s;return i}function f6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p6(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Li(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&i)&&(s[o]=f6(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function eb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hO(){var e=cm;return cm<<=1,!(cm&4194240)&&(cm=64),e}function hy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Li(t),e[t]=n}function m6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Li(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}function mN(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Li(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Ft=0;function xO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vO,hN,gO,yO,bO,tb=!1,um=[],Wa=null,Ha=null,Ga=null,cf=new Map,df=new Map,_a=[],h6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OC(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(t.pointerId)}}function ou(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Op(t),t!==null&&hN(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function x6(e,t,n,i,s){switch(t){case"focusin":return Wa=ou(Wa,e,t,n,i,s),!0;case"dragenter":return Ha=ou(Ha,e,t,n,i,s),!0;case"mouseover":return Ga=ou(Ga,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return cf.set(a,ou(cf.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,df.set(a,ou(df.get(a)||null,e,t,n,i,s)),!0}return!1}function jO(e){var t=qo(e.target);if(t!==null){var n=Pl(t);if(n!==null){if(t=n.tag,t===13){if(t=cO(n),t!==null){e.blockedOn=t,bO(e.priority,function(){gO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function th(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Q0=i,n.target.dispatchEvent(i),Q0=null}else return t=Op(n),t!==null&&hN(t),e.blockedOn=n,!1;t.shift()}return!0}function IC(e,t,n){th(e)&&n.delete(t)}function v6(){tb=!1,Wa!==null&&th(Wa)&&(Wa=null),Ha!==null&&th(Ha)&&(Ha=null),Ga!==null&&th(Ga)&&(Ga=null),cf.forEach(IC),df.forEach(IC)}function lu(e,t){e.blockedOn===t&&(e.blockedOn=null,tb||(tb=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,v6)))}function uf(e){function t(s){return lu(s,e)}if(0<um.length){lu(um[0],e);for(var n=1;n<um.length;n++){var i=um[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Wa!==null&&lu(Wa,e),Ha!==null&&lu(Ha,e),Ga!==null&&lu(Ga,e),cf.forEach(t),df.forEach(t),n=0;n<_a.length;n++)i=_a[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<_a.length&&(n=_a[0],n.blockedOn===null);)jO(n),n.blockedOn===null&&_a.shift()}var bc=ma.ReactCurrentBatchConfig,kh=!0;function g6(e,t,n,i){var s=Ft,a=bc.transition;bc.transition=null;try{Ft=1,xN(e,t,n,i)}finally{Ft=s,bc.transition=a}}function y6(e,t,n,i){var s=Ft,a=bc.transition;bc.transition=null;try{Ft=4,xN(e,t,n,i)}finally{Ft=s,bc.transition=a}}function xN(e,t,n,i){if(kh){var s=nb(e,t,n,i);if(s===null)Cy(e,t,i,Ah,n),OC(e,i);else if(x6(s,e,t,n,i))i.stopPropagation();else if(OC(e,i),t&4&&-1<h6.indexOf(e)){for(;s!==null;){var a=Op(s);if(a!==null&&vO(a),a=nb(e,t,n,i),a===null&&Cy(e,t,i,Ah,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Cy(e,t,i,null,n)}}var Ah=null;function nb(e,t,n,i){if(Ah=null,e=fN(i),e=qo(e),e!==null)if(t=Pl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ah=e,null}function wO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a6()){case pN:return 1;case pO:return 4;case Ch:case o6:return 16;case mO:return 536870912;default:return 16}default:return 16}}var Ba=null,vN=null,nh=null;function NO(){if(nh)return nh;var e,t=vN,n=t.length,i,s="value"in Ba?Ba.value:Ba.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[a-i];i++);return nh=s.slice(e,1<i?1-i:void 0)}function rh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fm(){return!0}function RC(){return!1}function Xr(e){function t(n,i,s,a,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fm:RC,this.isPropagationStopped=RC,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),t}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gN=Xr($d),Tp=pn({},$d,{view:0,detail:0}),b6=Xr(Tp),xy,vy,cu,bv=pn({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cu&&(cu&&e.type==="mousemove"?(xy=e.screenX-cu.screenX,vy=e.screenY-cu.screenY):vy=xy=0,cu=e),xy)},movementY:function(e){return"movementY"in e?e.movementY:vy}}),MC=Xr(bv),j6=pn({},bv,{dataTransfer:0}),w6=Xr(j6),N6=pn({},Tp,{relatedTarget:0}),gy=Xr(N6),S6=pn({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),C6=Xr(S6),E6=pn({},$d,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k6=Xr(E6),A6=pn({},$d,{data:0}),$C=Xr(A6),_6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T6[e])?!!t[e]:!1}function yN(){return O6}var I6=pn({},Tp,{key:function(e){if(e.key){var t=_6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yN,charCode:function(e){return e.type==="keypress"?rh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R6=Xr(I6),M6=pn({},bv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DC=Xr(M6),$6=pn({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yN}),D6=Xr($6),L6=pn({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),F6=Xr(L6),q6=pn({},bv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z6=Xr(q6),B6=[9,13,27,32],bN=ea&&"CompositionEvent"in window,Bu=null;ea&&"documentMode"in document&&(Bu=document.documentMode);var U6=ea&&"TextEvent"in window&&!Bu,SO=ea&&(!bN||Bu&&8<Bu&&11>=Bu),LC=" ",FC=!1;function CO(e,t){switch(e){case"keyup":return B6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tc=!1;function V6(e,t){switch(e){case"compositionend":return EO(t);case"keypress":return t.which!==32?null:(FC=!0,LC);case"textInput":return e=t.data,e===LC&&FC?null:e;default:return null}}function W6(e,t){if(tc)return e==="compositionend"||!bN&&CO(e,t)?(e=NO(),nh=vN=Ba=null,tc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SO&&t.locale!=="ko"?null:t.data;default:return null}}var H6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H6[e.type]:t==="textarea"}function kO(e,t,n,i){iO(i),t=_h(t,"onChange"),0<t.length&&(n=new gN("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Uu=null,ff=null;function G6(e){LO(e,0)}function jv(e){var t=ic(e);if(XT(t))return e}function K6(e,t){if(e==="change")return t}var AO=!1;if(ea){var yy;if(ea){var by="oninput"in document;if(!by){var zC=document.createElement("div");zC.setAttribute("oninput","return;"),by=typeof zC.oninput=="function"}yy=by}else yy=!1;AO=yy&&(!document.documentMode||9<document.documentMode)}function BC(){Uu&&(Uu.detachEvent("onpropertychange",_O),ff=Uu=null)}function _O(e){if(e.propertyName==="value"&&jv(ff)){var t=[];kO(t,ff,e,fN(e)),lO(G6,t)}}function Y6(e,t,n){e==="focusin"?(BC(),Uu=t,ff=n,Uu.attachEvent("onpropertychange",_O)):e==="focusout"&&BC()}function Q6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jv(ff)}function X6(e,t){if(e==="click")return jv(t)}function Z6(e,t){if(e==="input"||e==="change")return jv(t)}function J6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bi=typeof Object.is=="function"?Object.is:J6;function pf(e,t){if(Bi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!L0.call(t,s)||!Bi(e[s],t[s]))return!1}return!0}function UC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function VC(e,t){var n=UC(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UC(n)}}function PO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TO(){for(var e=window,t=wh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wh(e.document)}return t}function jN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e8(e){var t=TO(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&PO(n.ownerDocument.documentElement,n)){if(i!==null&&jN(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=VC(n,a);var o=VC(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t8=ea&&"documentMode"in document&&11>=document.documentMode,nc=null,rb=null,Vu=null,ib=!1;function WC(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ib||nc==null||nc!==wh(i)||(i=nc,"selectionStart"in i&&jN(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vu&&pf(Vu,i)||(Vu=i,i=_h(rb,"onSelect"),0<i.length&&(t=new gN("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=nc)))}function pm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rc={animationend:pm("Animation","AnimationEnd"),animationiteration:pm("Animation","AnimationIteration"),animationstart:pm("Animation","AnimationStart"),transitionend:pm("Transition","TransitionEnd")},jy={},OO={};ea&&(OO=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function wv(e){if(jy[e])return jy[e];if(!rc[e])return e;var t=rc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in OO)return jy[e]=t[n];return e}var IO=wv("animationend"),RO=wv("animationiteration"),MO=wv("animationstart"),$O=wv("transitionend"),DO=new Map,HC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(e,t){DO.set(e,t),_l(t,[e])}for(var wy=0;wy<HC.length;wy++){var Ny=HC[wy],n8=Ny.toLowerCase(),r8=Ny[0].toUpperCase()+Ny.slice(1);xo(n8,"on"+r8)}xo(IO,"onAnimationEnd");xo(RO,"onAnimationIteration");xo(MO,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo($O,"onTransitionEnd");Gc("onMouseEnter",["mouseout","mouseover"]);Gc("onMouseLeave",["mouseout","mouseover"]);Gc("onPointerEnter",["pointerout","pointerover"]);Gc("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ru));function GC(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,n6(i,t,void 0,e),e.currentTarget=null}function LO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;GC(s,l,d),a=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;GC(s,l,d),a=c}}}if(Sh)throw e=J0,Sh=!1,J0=null,e}function Zt(e,t){var n=t[cb];n===void 0&&(n=t[cb]=new Set);var i=e+"__bubble";n.has(i)||(FO(t,e,2,!1),n.add(i))}function Sy(e,t,n){var i=0;t&&(i|=4),FO(n,e,i,t)}var mm="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[mm]){e[mm]=!0,HT.forEach(function(n){n!=="selectionchange"&&(i8.has(n)||Sy(n,!1,e),Sy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mm]||(t[mm]=!0,Sy("selectionchange",!1,t))}}function FO(e,t,n,i){switch(wO(t)){case 1:var s=g6;break;case 4:s=y6;break;default:s=xN}n=s.bind(null,t,n,e),s=void 0,!Z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Cy(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qo(l),o===null)return;if(c=o.tag,c===5||c===6){i=a=o;continue e}l=l.parentNode}}i=i.return}lO(function(){var d=a,u=fN(n),f=[];e:{var p=DO.get(e);if(p!==void 0){var x=gN,h=e;switch(e){case"keypress":if(rh(n)===0)break e;case"keydown":case"keyup":x=R6;break;case"focusin":h="focus",x=gy;break;case"focusout":h="blur",x=gy;break;case"beforeblur":case"afterblur":x=gy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=MC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=w6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=D6;break;case IO:case RO:case MO:x=C6;break;case $O:x=F6;break;case"scroll":x=b6;break;case"wheel":x=z6;break;case"copy":case"cut":case"paste":x=k6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=DC}var m=(t&4)!==0,y=!m&&e==="scroll",j=m?p!==null?p+"Capture":null:p;m=[];for(var g=d,v;g!==null;){v=g;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,j!==null&&(N=lf(g,j),N!=null&&m.push(hf(g,N,v)))),y)break;g=g.return}0<m.length&&(p=new x(p,h,null,n,u),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==Q0&&(h=n.relatedTarget||n.fromElement)&&(qo(h)||h[ta]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(h=n.relatedTarget||n.toElement,x=d,h=h?qo(h):null,h!==null&&(y=Pl(h),h!==y||h.tag!==5&&h.tag!==6)&&(h=null)):(x=null,h=d),x!==h)){if(m=MC,N="onMouseLeave",j="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=DC,N="onPointerLeave",j="onPointerEnter",g="pointer"),y=x==null?p:ic(x),v=h==null?p:ic(h),p=new m(N,g+"leave",x,n,u),p.target=y,p.relatedTarget=v,N=null,qo(u)===d&&(m=new m(j,g+"enter",h,n,u),m.target=v,m.relatedTarget=y,N=m),y=N,x&&h)t:{for(m=x,j=h,g=0,v=m;v;v=ql(v))g++;for(v=0,N=j;N;N=ql(N))v++;for(;0<g-v;)m=ql(m),g--;for(;0<v-g;)j=ql(j),v--;for(;g--;){if(m===j||j!==null&&m===j.alternate)break t;m=ql(m),j=ql(j)}m=null}else m=null;x!==null&&KC(f,p,x,m,!1),h!==null&&y!==null&&KC(f,y,h,m,!0)}}e:{if(p=d?ic(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var w=K6;else if(qC(p))if(AO)w=Z6;else{w=Q6;var S=Y6}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=X6);if(w&&(w=w(e,d))){kO(f,w,n,u);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&W0(p,"number",p.value)}switch(S=d?ic(d):window,e){case"focusin":(qC(S)||S.contentEditable==="true")&&(nc=S,rb=d,Vu=null);break;case"focusout":Vu=rb=nc=null;break;case"mousedown":ib=!0;break;case"contextmenu":case"mouseup":case"dragend":ib=!1,WC(f,n,u);break;case"selectionchange":if(t8)break;case"keydown":case"keyup":WC(f,n,u)}var E;if(bN)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else tc?CO(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(SO&&n.locale!=="ko"&&(tc||C!=="onCompositionStart"?C==="onCompositionEnd"&&tc&&(E=NO()):(Ba=u,vN="value"in Ba?Ba.value:Ba.textContent,tc=!0)),S=_h(d,C),0<S.length&&(C=new $C(C,e,null,n,u),f.push({event:C,listeners:S}),E?C.data=E:(E=EO(n),E!==null&&(C.data=E)))),(E=U6?V6(e,n):W6(e,n))&&(d=_h(d,"onBeforeInput"),0<d.length&&(u=new $C("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=E))}LO(f,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _h(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=lf(e,n),a!=null&&i.unshift(hf(e,a,s)),a=lf(e,t),a!=null&&i.push(hf(e,a,s))),e=e.return}return i}function ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function KC(e,t,n,i,s){for(var a=t._reactName,o=[];n!==null&&n!==i;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&d!==null&&(l=d,s?(c=lf(n,a),c!=null&&o.unshift(hf(n,c,l))):s||(c=lf(n,a),c!=null&&o.push(hf(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var s8=/\r\n?/g,a8=/\u0000|\uFFFD/g;function YC(e){return(typeof e=="string"?e:""+e).replace(s8,`
`).replace(a8,"")}function hm(e,t,n){if(t=YC(t),YC(e)!==t&&n)throw Error(ge(425))}function Ph(){}var sb=null,ab=null;function ob(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lb=typeof setTimeout=="function"?setTimeout:void 0,o8=typeof clearTimeout=="function"?clearTimeout:void 0,QC=typeof Promise=="function"?Promise:void 0,l8=typeof queueMicrotask=="function"?queueMicrotask:typeof QC<"u"?function(e){return QC.resolve(null).then(e).catch(c8)}:lb;function c8(e){setTimeout(function(){throw e})}function Ey(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),uf(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);uf(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dd=Math.random().toString(36).slice(2),os="__reactFiber$"+Dd,xf="__reactProps$"+Dd,ta="__reactContainer$"+Dd,cb="__reactEvents$"+Dd,d8="__reactListeners$"+Dd,u8="__reactHandles$"+Dd;function qo(e){var t=e[os];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ta]||n[os]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XC(e);e!==null;){if(n=e[os])return n;e=XC(e)}return t}e=n,n=e.parentNode}return null}function Op(e){return e=e[os]||e[ta],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ic(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Nv(e){return e[xf]||null}var db=[],sc=-1;function vo(e){return{current:e}}function nn(e){0>sc||(e.current=db[sc],db[sc]=null,sc--)}function Yt(e,t){sc++,db[sc]=e.current,e.current=t}var ro={},or=vo(ro),Tr=vo(!1),ul=ro;function Kc(e,t){var n=e.type.contextTypes;if(!n)return ro;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Or(e){return e=e.childContextTypes,e!=null}function Th(){nn(Tr),nn(or)}function ZC(e,t,n){if(or.current!==ro)throw Error(ge(168));Yt(or,t),Yt(Tr,n)}function qO(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(ge(108,Yq(e)||"Unknown",s));return pn({},n,i)}function Oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ro,ul=or.current,Yt(or,e),Yt(Tr,Tr.current),!0}function JC(e,t,n){var i=e.stateNode;if(!i)throw Error(ge(169));n?(e=qO(e,t,ul),i.__reactInternalMemoizedMergedChildContext=e,nn(Tr),nn(or),Yt(or,e)):nn(Tr),Yt(Tr,n)}var Ds=null,Sv=!1,ky=!1;function zO(e){Ds===null?Ds=[e]:Ds.push(e)}function f8(e){Sv=!0,zO(e)}function go(){if(!ky&&Ds!==null){ky=!0;var e=0,t=Ft;try{var n=Ds;for(Ft=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Ds=null,Sv=!1}catch(s){throw Ds!==null&&(Ds=Ds.slice(e+1)),fO(pN,go),s}finally{Ft=t,ky=!1}}return null}var ac=[],oc=0,Ih=null,Rh=0,ii=[],si=0,fl=null,qs=1,zs="";function Po(e,t){ac[oc++]=Rh,ac[oc++]=Ih,Ih=e,Rh=t}function BO(e,t,n){ii[si++]=qs,ii[si++]=zs,ii[si++]=fl,fl=e;var i=qs;e=zs;var s=32-Li(i)-1;i&=~(1<<s),n+=1;var a=32-Li(t)+s;if(30<a){var o=s-s%5;a=(i&(1<<o)-1).toString(32),i>>=o,s-=o,qs=1<<32-Li(t)+s|n<<s|i,zs=a+e}else qs=1<<a|n<<s|i,zs=e}function wN(e){e.return!==null&&(Po(e,1),BO(e,1,0))}function NN(e){for(;e===Ih;)Ih=ac[--oc],ac[oc]=null,Rh=ac[--oc],ac[oc]=null;for(;e===fl;)fl=ii[--si],ii[si]=null,zs=ii[--si],ii[si]=null,qs=ii[--si],ii[si]=null}var Wr=null,Ur=null,an=!1,ki=null;function UO(e,t){var n=oi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wr=e,Ur=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wr=e,Ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fl!==null?{id:qs,overflow:zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=oi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wr=e,Ur=null,!0):!1;default:return!1}}function ub(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fb(e){if(an){var t=Ur;if(t){var n=t;if(!eE(e,t)){if(ub(e))throw Error(ge(418));t=Ka(n.nextSibling);var i=Wr;t&&eE(e,t)?UO(i,n):(e.flags=e.flags&-4097|2,an=!1,Wr=e)}}else{if(ub(e))throw Error(ge(418));e.flags=e.flags&-4097|2,an=!1,Wr=e}}}function tE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wr=e}function xm(e){if(e!==Wr)return!1;if(!an)return tE(e),an=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ob(e.type,e.memoizedProps)),t&&(t=Ur)){if(ub(e))throw VO(),Error(ge(418));for(;t;)UO(e,t),t=Ka(t.nextSibling)}if(tE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ur=Ka(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ur=null}}else Ur=Wr?Ka(e.stateNode.nextSibling):null;return!0}function VO(){for(var e=Ur;e;)e=Ka(e.nextSibling)}function Yc(){Ur=Wr=null,an=!1}function SN(e){ki===null?ki=[e]:ki.push(e)}var p8=ma.ReactCurrentBatchConfig;function du(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var i=n.stateNode}if(!i)throw Error(ge(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,e))}return e}function vm(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nE(e){var t=e._init;return t(e._payload)}function WO(e){function t(j,g){if(e){var v=j.deletions;v===null?(j.deletions=[g],j.flags|=16):v.push(g)}}function n(j,g){if(!e)return null;for(;g!==null;)t(j,g),g=g.sibling;return null}function i(j,g){for(j=new Map;g!==null;)g.key!==null?j.set(g.key,g):j.set(g.index,g),g=g.sibling;return j}function s(j,g){return j=Za(j,g),j.index=0,j.sibling=null,j}function a(j,g,v){return j.index=v,e?(v=j.alternate,v!==null?(v=v.index,v<g?(j.flags|=2,g):v):(j.flags|=2,g)):(j.flags|=1048576,g)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,g,v,N){return g===null||g.tag!==6?(g=Ry(v,j.mode,N),g.return=j,g):(g=s(g,v),g.return=j,g)}function c(j,g,v,N){var w=v.type;return w===ec?u(j,g,v.props.children,N,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ca&&nE(w)===g.type)?(N=s(g,v.props),N.ref=du(j,g,v),N.return=j,N):(N=dh(v.type,v.key,v.props,null,j.mode,N),N.ref=du(j,g,v),N.return=j,N)}function d(j,g,v,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=My(v,j.mode,N),g.return=j,g):(g=s(g,v.children||[]),g.return=j,g)}function u(j,g,v,N,w){return g===null||g.tag!==7?(g=nl(v,j.mode,N,w),g.return=j,g):(g=s(g,v),g.return=j,g)}function f(j,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ry(""+g,j.mode,v),g.return=j,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case am:return v=dh(g.type,g.key,g.props,null,j.mode,v),v.ref=du(j,null,g),v.return=j,v;case Jl:return g=My(g,j.mode,v),g.return=j,g;case Ca:var N=g._init;return f(j,N(g._payload),v)}if(Ou(g)||su(g))return g=nl(g,j.mode,v,null),g.return=j,g;vm(j,g)}return null}function p(j,g,v,N){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:l(j,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case am:return v.key===w?c(j,g,v,N):null;case Jl:return v.key===w?d(j,g,v,N):null;case Ca:return w=v._init,p(j,g,w(v._payload),N)}if(Ou(v)||su(v))return w!==null?null:u(j,g,v,N,null);vm(j,v)}return null}function x(j,g,v,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return j=j.get(v)||null,l(g,j,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case am:return j=j.get(N.key===null?v:N.key)||null,c(g,j,N,w);case Jl:return j=j.get(N.key===null?v:N.key)||null,d(g,j,N,w);case Ca:var S=N._init;return x(j,g,v,S(N._payload),w)}if(Ou(N)||su(N))return j=j.get(v)||null,u(g,j,N,w,null);vm(g,N)}return null}function h(j,g,v,N){for(var w=null,S=null,E=g,C=g=0,k=null;E!==null&&C<v.length;C++){E.index>C?(k=E,E=null):k=E.sibling;var R=p(j,E,v[C],N);if(R===null){E===null&&(E=k);break}e&&E&&R.alternate===null&&t(j,E),g=a(R,g,C),S===null?w=R:S.sibling=R,S=R,E=k}if(C===v.length)return n(j,E),an&&Po(j,C),w;if(E===null){for(;C<v.length;C++)E=f(j,v[C],N),E!==null&&(g=a(E,g,C),S===null?w=E:S.sibling=E,S=E);return an&&Po(j,C),w}for(E=i(j,E);C<v.length;C++)k=x(E,j,C,v[C],N),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?C:k.key),g=a(k,g,C),S===null?w=k:S.sibling=k,S=k);return e&&E.forEach(function(P){return t(j,P)}),an&&Po(j,C),w}function m(j,g,v,N){var w=su(v);if(typeof w!="function")throw Error(ge(150));if(v=w.call(v),v==null)throw Error(ge(151));for(var S=w=null,E=g,C=g=0,k=null,R=v.next();E!==null&&!R.done;C++,R=v.next()){E.index>C?(k=E,E=null):k=E.sibling;var P=p(j,E,R.value,N);if(P===null){E===null&&(E=k);break}e&&E&&P.alternate===null&&t(j,E),g=a(P,g,C),S===null?w=P:S.sibling=P,S=P,E=k}if(R.done)return n(j,E),an&&Po(j,C),w;if(E===null){for(;!R.done;C++,R=v.next())R=f(j,R.value,N),R!==null&&(g=a(R,g,C),S===null?w=R:S.sibling=R,S=R);return an&&Po(j,C),w}for(E=i(j,E);!R.done;C++,R=v.next())R=x(E,j,C,R.value,N),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?C:R.key),g=a(R,g,C),S===null?w=R:S.sibling=R,S=R);return e&&E.forEach(function(A){return t(j,A)}),an&&Po(j,C),w}function y(j,g,v,N){if(typeof v=="object"&&v!==null&&v.type===ec&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case am:e:{for(var w=v.key,S=g;S!==null;){if(S.key===w){if(w=v.type,w===ec){if(S.tag===7){n(j,S.sibling),g=s(S,v.props.children),g.return=j,j=g;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ca&&nE(w)===S.type){n(j,S.sibling),g=s(S,v.props),g.ref=du(j,S,v),g.return=j,j=g;break e}n(j,S);break}else t(j,S);S=S.sibling}v.type===ec?(g=nl(v.props.children,j.mode,N,v.key),g.return=j,j=g):(N=dh(v.type,v.key,v.props,null,j.mode,N),N.ref=du(j,g,v),N.return=j,j=N)}return o(j);case Jl:e:{for(S=v.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(j,g.sibling),g=s(g,v.children||[]),g.return=j,j=g;break e}else{n(j,g);break}else t(j,g);g=g.sibling}g=My(v,j.mode,N),g.return=j,j=g}return o(j);case Ca:return S=v._init,y(j,g,S(v._payload),N)}if(Ou(v))return h(j,g,v,N);if(su(v))return m(j,g,v,N);vm(j,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(j,g.sibling),g=s(g,v),g.return=j,j=g):(n(j,g),g=Ry(v,j.mode,N),g.return=j,j=g),o(j)):n(j,g)}return y}var Qc=WO(!0),HO=WO(!1),Mh=vo(null),$h=null,lc=null,CN=null;function EN(){CN=lc=$h=null}function kN(e){var t=Mh.current;nn(Mh),e._currentValue=t}function pb(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function jc(e,t){$h=e,CN=lc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ar=!0),e.firstContext=null)}function fi(e){var t=e._currentValue;if(CN!==e)if(e={context:e,memoizedValue:t,next:null},lc===null){if($h===null)throw Error(ge(308));lc=e,$h.dependencies={lanes:0,firstContext:e}}else lc=lc.next=e;return t}var zo=null;function AN(e){zo===null?zo=[e]:zo.push(e)}function GO(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,AN(t)):(n.next=s.next,s.next=n),t.interleaved=n,na(e,i)}function na(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ea=!1;function _N(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,_t&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,na(e,n)}return s=i.interleaved,s===null?(t.next=t,AN(i)):(t.next=s.next,s.next=t),i.interleaved=t,na(e,n)}function ih(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,mN(e,n)}}function rE(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dh(e,t,n,i){var s=e.updateQueue;Ea=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,u=d=c=null,l=a;do{var p=l.lane,x=l.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(p=t,x=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(x,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,p=typeof h=="function"?h.call(x,f,p):h,p==null)break e;f=pn({},f,p);break e;case 2:Ea=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=f):u=u.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ml|=o,e.lanes=o,e.memoizedState=f}}function iE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(ge(191,s));s.call(i)}}}var Ip={},ps=vo(Ip),vf=vo(Ip),gf=vo(Ip);function Bo(e){if(e===Ip)throw Error(ge(174));return e}function PN(e,t){switch(Yt(gf,t),Yt(vf,e),Yt(ps,Ip),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G0(t,e)}nn(ps),Yt(ps,t)}function Xc(){nn(ps),nn(vf),nn(gf)}function YO(e){Bo(gf.current);var t=Bo(ps.current),n=G0(t,e.type);t!==n&&(Yt(vf,e),Yt(ps,n))}function TN(e){vf.current===e&&(nn(ps),nn(vf))}var un=vo(0);function Lh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ay=[];function ON(){for(var e=0;e<Ay.length;e++)Ay[e]._workInProgressVersionPrimary=null;Ay.length=0}var sh=ma.ReactCurrentDispatcher,_y=ma.ReactCurrentBatchConfig,pl=0,fn=null,An=null,Dn=null,Fh=!1,Wu=!1,yf=0,m8=0;function Qn(){throw Error(ge(321))}function IN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bi(e[n],t[n]))return!1;return!0}function RN(e,t,n,i,s,a){if(pl=a,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sh.current=e===null||e.memoizedState===null?g8:y8,e=n(i,s),Wu){a=0;do{if(Wu=!1,yf=0,25<=a)throw Error(ge(301));a+=1,Dn=An=null,t.updateQueue=null,sh.current=b8,e=n(i,s)}while(Wu)}if(sh.current=qh,t=An!==null&&An.next!==null,pl=0,Dn=An=fn=null,Fh=!1,t)throw Error(ge(300));return e}function MN(){var e=yf!==0;return yf=0,e}function ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?fn.memoizedState=Dn=e:Dn=Dn.next=e,Dn}function pi(){if(An===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var t=Dn===null?fn.memoizedState:Dn.next;if(t!==null)Dn=t,An=e;else{if(e===null)throw Error(ge(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Dn===null?fn.memoizedState=Dn=e:Dn=Dn.next=e}return Dn}function bf(e,t){return typeof t=="function"?t(e):t}function Py(e){var t=pi(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var i=An,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((pl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=i):c=c.next=f,fn.lanes|=u,ml|=u}d=d.next}while(d!==null&&d!==a);c===null?o=i:c.next=l,Bi(i,t.memoizedState)||(Ar=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do a=s.lane,fn.lanes|=a,ml|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ty(e){var t=pi(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Bi(a,t.memoizedState)||(Ar=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function QO(){}function XO(e,t){var n=fn,i=pi(),s=t(),a=!Bi(i.memoizedState,s);if(a&&(i.memoizedState=s,Ar=!0),i=i.queue,$N(eI.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,jf(9,JO.bind(null,n,i,s,t),void 0,null),Fn===null)throw Error(ge(349));pl&30||ZO(n,t,s)}return s}function ZO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JO(e,t,n,i){t.value=n,t.getSnapshot=i,tI(t)&&nI(e)}function eI(e,t,n){return n(function(){tI(t)&&nI(e)})}function tI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bi(e,n)}catch{return!0}}function nI(e){var t=na(e,1);t!==null&&Fi(t,e,1,-1)}function sE(e){var t=ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:e},t.queue=e,e=e.dispatch=v8.bind(null,fn,e),[t.memoizedState,e]}function jf(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function rI(){return pi().memoizedState}function ah(e,t,n,i){var s=ns();fn.flags|=e,s.memoizedState=jf(1|t,n,void 0,i===void 0?null:i)}function Cv(e,t,n,i){var s=pi();i=i===void 0?null:i;var a=void 0;if(An!==null){var o=An.memoizedState;if(a=o.destroy,i!==null&&IN(i,o.deps)){s.memoizedState=jf(t,n,a,i);return}}fn.flags|=e,s.memoizedState=jf(1|t,n,a,i)}function aE(e,t){return ah(8390656,8,e,t)}function $N(e,t){return Cv(2048,8,e,t)}function iI(e,t){return Cv(4,2,e,t)}function sI(e,t){return Cv(4,4,e,t)}function aI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oI(e,t,n){return n=n!=null?n.concat([e]):null,Cv(4,4,aI.bind(null,t,e),n)}function DN(){}function lI(e,t){var n=pi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&IN(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function cI(e,t){var n=pi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&IN(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function dI(e,t,n){return pl&21?(Bi(n,t)||(n=hO(),fn.lanes|=n,ml|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ar=!0),e.memoizedState=n)}function h8(e,t){var n=Ft;Ft=n!==0&&4>n?n:4,e(!0);var i=_y.transition;_y.transition={};try{e(!1),t()}finally{Ft=n,_y.transition=i}}function uI(){return pi().memoizedState}function x8(e,t,n){var i=Xa(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},fI(e))pI(t,n);else if(n=GO(e,t,n,i),n!==null){var s=gr();Fi(n,e,i,s),mI(n,t,i)}}function v8(e,t,n){var i=Xa(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(fI(e))pI(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Bi(l,o)){var c=t.interleaved;c===null?(s.next=s,AN(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=GO(e,t,s,i),n!==null&&(s=gr(),Fi(n,e,i,s),mI(n,t,i))}}function fI(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function pI(e,t){Wu=Fh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mI(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,mN(e,n)}}var qh={readContext:fi,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},g8={readContext:fi,useCallback:function(e,t){return ns().memoizedState=[e,t===void 0?null:t],e},useContext:fi,useEffect:aE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ah(4194308,4,aI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ah(4194308,4,e,t)},useInsertionEffect:function(e,t){return ah(4,2,e,t)},useMemo:function(e,t){var n=ns();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ns();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=x8.bind(null,fn,e),[i.memoizedState,e]},useRef:function(e){var t=ns();return e={current:e},t.memoizedState=e},useState:sE,useDebugValue:DN,useDeferredValue:function(e){return ns().memoizedState=e},useTransition:function(){var e=sE(!1),t=e[0];return e=h8.bind(null,e[1]),ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=fn,s=ns();if(an){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=t(),Fn===null)throw Error(ge(349));pl&30||ZO(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,aE(eI.bind(null,i,a,e),[e]),i.flags|=2048,jf(9,JO.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=ns(),t=Fn.identifierPrefix;if(an){var n=zs,i=qs;n=(i&~(1<<32-Li(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=yf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=m8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y8={readContext:fi,useCallback:lI,useContext:fi,useEffect:$N,useImperativeHandle:oI,useInsertionEffect:iI,useLayoutEffect:sI,useMemo:cI,useReducer:Py,useRef:rI,useState:function(){return Py(bf)},useDebugValue:DN,useDeferredValue:function(e){var t=pi();return dI(t,An.memoizedState,e)},useTransition:function(){var e=Py(bf)[0],t=pi().memoizedState;return[e,t]},useMutableSource:QO,useSyncExternalStore:XO,useId:uI,unstable_isNewReconciler:!1},b8={readContext:fi,useCallback:lI,useContext:fi,useEffect:$N,useImperativeHandle:oI,useInsertionEffect:iI,useLayoutEffect:sI,useMemo:cI,useReducer:Ty,useRef:rI,useState:function(){return Ty(bf)},useDebugValue:DN,useDeferredValue:function(e){var t=pi();return An===null?t.memoizedState=e:dI(t,An.memoizedState,e)},useTransition:function(){var e=Ty(bf)[0],t=pi().memoizedState;return[e,t]},useMutableSource:QO,useSyncExternalStore:XO,useId:uI,unstable_isNewReconciler:!1};function wi(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mb(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ev={isMounted:function(e){return(e=e._reactInternals)?Pl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=gr(),s=Xa(e),a=Ws(i,s);a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,s),t!==null&&(Fi(t,e,s,i),ih(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=gr(),s=Xa(e),a=Ws(i,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,s),t!==null&&(Fi(t,e,s,i),ih(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gr(),i=Xa(e),s=Ws(n,i);s.tag=2,t!=null&&(s.callback=t),t=Ya(e,s,i),t!==null&&(Fi(t,e,i,n),ih(t,e,i))}};function oE(e,t,n,i,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!pf(n,i)||!pf(s,a):!0}function hI(e,t,n){var i=!1,s=ro,a=t.contextType;return typeof a=="object"&&a!==null?a=fi(a):(s=Or(t)?ul:or.current,i=t.contextTypes,a=(i=i!=null)?Kc(e,s):ro),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ev,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function lE(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ev.enqueueReplaceState(t,t.state,null)}function hb(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_N(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=fi(a):(a=Or(t)?ul:or.current,s.context=Kc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(mb(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ev.enqueueReplaceState(s,s.state,null),Dh(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zc(e,t){try{var n="",i=t;do n+=Kq(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Oy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var j8=typeof WeakMap=="function"?WeakMap:Map;function xI(e,t,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Bh||(Bh=!0,Eb=i),xb(e,t)},n}function vI(e,t,n){n=Ws(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){xb(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){xb(e,t),typeof i!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cE(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new j8;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=M8.bind(null,e,t,n),t.then(e,e))}function dE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uE(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ws(-1,1),t.tag=2,Ya(n,t,1))),n.lanes|=1),e)}var w8=ma.ReactCurrentOwner,Ar=!1;function pr(e,t,n,i){t.child=e===null?HO(t,null,n,i):Qc(t,e.child,n,i)}function fE(e,t,n,i,s){n=n.render;var a=t.ref;return jc(t,s),i=RN(e,t,n,i,a,s),n=MN(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ra(e,t,s)):(an&&n&&wN(t),t.flags|=1,pr(e,t,i,s),t.child)}function pE(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!WN(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,gI(e,t,a,i,s)):(e=dh(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:pf,n(o,i)&&e.ref===t.ref)return ra(e,t,s)}return t.flags|=1,e=Za(a,i),e.ref=t.ref,e.return=t,t.child=e}function gI(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(pf(a,i)&&e.ref===t.ref)if(Ar=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(Ar=!0);else return t.lanes=e.lanes,ra(e,t,s)}return vb(e,t,n,i,s)}function yI(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(dc,Lr),Lr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(dc,Lr),Lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Yt(dc,Lr),Lr|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,Yt(dc,Lr),Lr|=i;return pr(e,t,s,n),t.child}function bI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vb(e,t,n,i,s){var a=Or(n)?ul:or.current;return a=Kc(t,a),jc(t,s),n=RN(e,t,n,i,a,s),i=MN(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ra(e,t,s)):(an&&i&&wN(t),t.flags|=1,pr(e,t,n,s),t.child)}function mE(e,t,n,i,s){if(Or(n)){var a=!0;Oh(t)}else a=!1;if(jc(t,s),t.stateNode===null)oh(e,t),hI(t,n,i),hb(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=fi(d):(d=Or(n)?ul:or.current,d=Kc(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==d)&&lE(t,o,i,d),Ea=!1;var p=t.memoizedState;o.state=p,Dh(t,i,o,s),c=t.memoizedState,l!==i||p!==c||Tr.current||Ea?(typeof u=="function"&&(mb(t,n,u,i),c=t.memoizedState),(l=Ea||oE(t,n,l,i,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=d,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,KO(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:wi(t.type,l),o.props=d,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=fi(c):(c=Or(n)?ul:or.current,c=Kc(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&lE(t,o,i,c),Ea=!1,p=t.memoizedState,o.state=p,Dh(t,i,o,s);var h=t.memoizedState;l!==f||p!==h||Tr.current||Ea?(typeof x=="function"&&(mb(t,n,x,i),h=t.memoizedState),(d=Ea||oE(t,n,d,i,p,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),o.props=i,o.state=h,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return gb(e,t,n,i,a,s)}function gb(e,t,n,i,s,a){bI(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&JC(t,n,!1),ra(e,t,a);i=t.stateNode,w8.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Qc(t,e.child,null,a),t.child=Qc(t,null,l,a)):pr(e,t,l,a),t.memoizedState=i.state,s&&JC(t,n,!0),t.child}function jI(e){var t=e.stateNode;t.pendingContext?ZC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZC(e,t.context,!1),PN(e,t.containerInfo)}function hE(e,t,n,i,s){return Yc(),SN(s),t.flags|=256,pr(e,t,n,i),t.child}var yb={dehydrated:null,treeContext:null,retryLane:0};function bb(e){return{baseLanes:e,cachePool:null,transitions:null}}function wI(e,t,n){var i=t.pendingProps,s=un.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Yt(un,s&1),e===null)return fb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=_v(o,i,0,null),e=nl(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bb(n),t.memoizedState=yb,e):LN(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return N8(e,t,o,i,l,s,n);if(a){a=i.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=Za(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Za(l,a):(a=nl(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=e.child.memoizedState,o=o===null?bb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=yb,i}return a=e.child,e=a.sibling,i=Za(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function LN(e,t){return t=_v({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gm(e,t,n,i){return i!==null&&SN(i),Qc(t,e.child,null,n),e=LN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N8(e,t,n,i,s,a,o){if(n)return t.flags&256?(t.flags&=-257,i=Oy(Error(ge(422))),gm(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=_v({mode:"visible",children:i.children},s,0,null),a=nl(a,s,o,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Qc(t,e.child,null,o),t.child.memoizedState=bb(o),t.memoizedState=yb,a);if(!(t.mode&1))return gm(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,a=Error(ge(419)),i=Oy(a,i,void 0),gm(e,t,o,i)}if(l=(o&e.childLanes)!==0,Ar||l){if(i=Fn,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,na(e,s),Fi(i,e,s,-1))}return VN(),i=Oy(Error(ge(421))),gm(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$8.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ur=Ka(s.nextSibling),Wr=t,an=!0,ki=null,e!==null&&(ii[si++]=qs,ii[si++]=zs,ii[si++]=fl,qs=e.id,zs=e.overflow,fl=t),t=LN(t,i.children),t.flags|=4096,t)}function xE(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),pb(e.return,t,n)}function Iy(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function NI(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(pr(e,t,i.children,n),i=un.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xE(e,n,t);else if(e.tag===19)xE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Yt(un,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Lh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Iy(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Lh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Iy(t,!0,n,null,a);break;case"together":Iy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ra(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ml|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,n=Za(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Za(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S8(e,t,n){switch(t.tag){case 3:jI(t),Yc();break;case 5:YO(t);break;case 1:Or(t.type)&&Oh(t);break;case 4:PN(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Yt(Mh,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Yt(un,un.current&1),t.flags|=128,null):n&t.child.childLanes?wI(e,t,n):(Yt(un,un.current&1),e=ra(e,t,n),e!==null?e.sibling:null);Yt(un,un.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return NI(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Yt(un,un.current),i)break;return null;case 22:case 23:return t.lanes=0,yI(e,t,n)}return ra(e,t,n)}var SI,jb,CI,EI;SI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jb=function(){};CI=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Bo(ps.current);var a=null;switch(n){case"input":s=U0(e,s),i=U0(e,i),a=[];break;case"select":s=pn({},s,{value:void 0}),i=pn({},i,{value:void 0}),a=[];break;case"textarea":s=H0(e,s),i=H0(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ph)}K0(n,i);var o;n=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(af.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var c=i[d];if(l=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(af.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Zt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};EI=function(e,t,n,i){n!==i&&(t.flags|=4)};function uu(e,t){if(!an)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function C8(e,t,n){var i=t.pendingProps;switch(NN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(t),null;case 1:return Or(t.type)&&Th(),Xn(t),null;case 3:return i=t.stateNode,Xc(),nn(Tr),nn(or),ON(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ki!==null&&(_b(ki),ki=null))),jb(e,t),Xn(t),null;case 5:TN(t);var s=Bo(gf.current);if(n=t.type,e!==null&&t.stateNode!=null)CI(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ge(166));return Xn(t),null}if(e=Bo(ps.current),xm(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[os]=t,i[xf]=a,e=(t.mode&1)!==0,n){case"dialog":Zt("cancel",i),Zt("close",i);break;case"iframe":case"object":case"embed":Zt("load",i);break;case"video":case"audio":for(s=0;s<Ru.length;s++)Zt(Ru[s],i);break;case"source":Zt("error",i);break;case"img":case"image":case"link":Zt("error",i),Zt("load",i);break;case"details":Zt("toggle",i);break;case"input":CC(i,a),Zt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",i);break;case"textarea":kC(i,a),Zt("invalid",i)}K0(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?i.textContent!==l&&(a.suppressHydrationWarning!==!0&&hm(i.textContent,l,e),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&hm(i.textContent,l,e),s=["children",""+l]):af.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zt("scroll",i)}switch(n){case"input":om(i),EC(i,a,!0);break;case"textarea":om(i),AC(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Ph)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[os]=t,e[xf]=i,SI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Y0(n,i),n){case"dialog":Zt("cancel",e),Zt("close",e),s=i;break;case"iframe":case"object":case"embed":Zt("load",e),s=i;break;case"video":case"audio":for(s=0;s<Ru.length;s++)Zt(Ru[s],e);s=i;break;case"source":Zt("error",e),s=i;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=i;break;case"details":Zt("toggle",e),s=i;break;case"input":CC(e,i),s=U0(e,i),Zt("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=pn({},i,{value:void 0}),Zt("invalid",e);break;case"textarea":kC(e,i),s=H0(e,i),Zt("invalid",e);break;default:s=i}K0(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?rO(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tO(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&of(e,c):typeof c=="number"&&of(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(af.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Zt("scroll",e):c!=null&&lN(e,a,c,o))}switch(n){case"input":om(e),EC(e,i,!1);break;case"textarea":om(e),AC(e);break;case"option":i.value!=null&&e.setAttribute("value",""+no(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?vc(e,!!i.multiple,a,!1):i.defaultValue!=null&&vc(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ph)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xn(t),null;case 6:if(e&&t.stateNode!=null)EI(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ge(166));if(n=Bo(gf.current),Bo(ps.current),xm(t)){if(i=t.stateNode,n=t.memoizedProps,i[os]=t,(a=i.nodeValue!==n)&&(e=Wr,e!==null))switch(e.tag){case 3:hm(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hm(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[os]=t,t.stateNode=i}return Xn(t),null;case 13:if(nn(un),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(an&&Ur!==null&&t.mode&1&&!(t.flags&128))VO(),Yc(),t.flags|=98560,a=!1;else if(a=xm(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[os]=t}else Yc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xn(t),a=!1}else ki!==null&&(_b(ki),ki=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||un.current&1?Tn===0&&(Tn=3):VN())),t.updateQueue!==null&&(t.flags|=4),Xn(t),null);case 4:return Xc(),jb(e,t),e===null&&mf(t.stateNode.containerInfo),Xn(t),null;case 10:return kN(t.type._context),Xn(t),null;case 17:return Or(t.type)&&Th(),Xn(t),null;case 19:if(nn(un),a=t.memoizedState,a===null)return Xn(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)uu(a,!1);else{if(Tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Lh(e),o!==null){for(t.flags|=128,uu(a,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yt(un,un.current&1|2),t.child}e=e.sibling}a.tail!==null&&yn()>Jc&&(t.flags|=128,i=!0,uu(a,!1),t.lanes=4194304)}else{if(!i)if(e=Lh(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),uu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!an)return Xn(t),null}else 2*yn()-a.renderingStartTime>Jc&&n!==1073741824&&(t.flags|=128,i=!0,uu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=yn(),t.sibling=null,n=un.current,Yt(un,i?n&1|2:n&1),t):(Xn(t),null);case 22:case 23:return UN(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Lr&1073741824&&(Xn(t),t.subtreeFlags&6&&(t.flags|=8192)):Xn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function E8(e,t){switch(NN(t),t.tag){case 1:return Or(t.type)&&Th(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xc(),nn(Tr),nn(or),ON(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return TN(t),null;case 13:if(nn(un),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Yc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nn(un),null;case 4:return Xc(),null;case 10:return kN(t.type._context),null;case 22:case 23:return UN(),null;case 24:return null;default:return null}}var ym=!1,er=!1,k8=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function cc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){hn(e,t,i)}else n.current=null}function wb(e,t,n){try{n()}catch(i){hn(e,t,i)}}var vE=!1;function A8(e,t){if(sb=kh,e=TO(),jN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||i!==0&&f.nodeType!==3||(c=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===n&&++d===s&&(l=o),p===a&&++u===i&&(c=o),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ab={focusedElem:e,selectionRange:n},kh=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,y=h.memoizedState,j=t.stateNode,g=j.getSnapshotBeforeUpdate(t.elementType===t.type?m:wi(t.type,m),y);j.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(N){hn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return h=vE,vE=!1,h}function Hu(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&wb(t,n,a)}s=s.next}while(s!==i)}}function kv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Nb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kI(e){var t=e.alternate;t!==null&&(e.alternate=null,kI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[xf],delete t[cb],delete t[d8],delete t[u8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AI(e){return e.tag===5||e.tag===3||e.tag===4}function gE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sb(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ph));else if(i!==4&&(e=e.child,e!==null))for(Sb(e,t,n),e=e.sibling;e!==null;)Sb(e,t,n),e=e.sibling}function Cb(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Cb(e,t,n),e=e.sibling;e!==null;)Cb(e,t,n),e=e.sibling}var Vn=null,Si=!1;function ya(e,t,n){for(n=n.child;n!==null;)_I(e,t,n),n=n.sibling}function _I(e,t,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(yv,n)}catch{}switch(n.tag){case 5:er||cc(n,t);case 6:var i=Vn,s=Si;Vn=null,ya(e,t,n),Vn=i,Si=s,Vn!==null&&(Si?(e=Vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(Si?(e=Vn,n=n.stateNode,e.nodeType===8?Ey(e.parentNode,n):e.nodeType===1&&Ey(e,n),uf(e)):Ey(Vn,n.stateNode));break;case 4:i=Vn,s=Si,Vn=n.stateNode.containerInfo,Si=!0,ya(e,t,n),Vn=i,Si=s;break;case 0:case 11:case 14:case 15:if(!er&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&wb(n,t,o),s=s.next}while(s!==i)}ya(e,t,n);break;case 1:if(!er&&(cc(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){hn(n,t,l)}ya(e,t,n);break;case 21:ya(e,t,n);break;case 22:n.mode&1?(er=(i=er)||n.memoizedState!==null,ya(e,t,n),er=i):ya(e,t,n);break;default:ya(e,t,n)}}function yE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k8),t.forEach(function(i){var s=D8.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function yi(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vn=l.stateNode,Si=!1;break e;case 3:Vn=l.stateNode.containerInfo,Si=!0;break e;case 4:Vn=l.stateNode.containerInfo,Si=!0;break e}l=l.return}if(Vn===null)throw Error(ge(160));_I(a,o,s),Vn=null,Si=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){hn(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PI(t,e),t=t.sibling}function PI(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yi(t,e),es(e),i&4){try{Hu(3,e,e.return),kv(3,e)}catch(m){hn(e,e.return,m)}try{Hu(5,e,e.return)}catch(m){hn(e,e.return,m)}}break;case 1:yi(t,e),es(e),i&512&&n!==null&&cc(n,n.return);break;case 5:if(yi(t,e),es(e),i&512&&n!==null&&cc(n,n.return),e.flags&32){var s=e.stateNode;try{of(s,"")}catch(m){hn(e,e.return,m)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&ZT(s,a),Y0(l,o);var d=Y0(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?rO(s,f):u==="dangerouslySetInnerHTML"?tO(s,f):u==="children"?of(s,f):lN(s,u,f,d)}switch(l){case"input":V0(s,a);break;case"textarea":JT(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?vc(s,!!a.multiple,x,!1):p!==!!a.multiple&&(a.defaultValue!=null?vc(s,!!a.multiple,a.defaultValue,!0):vc(s,!!a.multiple,a.multiple?[]:"",!1))}s[xf]=a}catch(m){hn(e,e.return,m)}}break;case 6:if(yi(t,e),es(e),i&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){hn(e,e.return,m)}}break;case 3:if(yi(t,e),es(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uf(t.containerInfo)}catch(m){hn(e,e.return,m)}break;case 4:yi(t,e),es(e);break;case 13:yi(t,e),es(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(zN=yn())),i&4&&yE(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(er=(d=er)||u,yi(t,e),er=d):yi(t,e),es(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ue=e,u=e.child;u!==null;){for(f=Ue=u;Ue!==null;){switch(p=Ue,x=p.child,p.tag){case 0:case 11:case 14:case 15:Hu(4,p,p.return);break;case 1:cc(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){i=p,n=p.return;try{t=i,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){hn(i,n,m)}}break;case 5:cc(p,p.return);break;case 22:if(p.memoizedState!==null){jE(f);continue}}x!==null?(x.return=p,Ue=x):jE(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nO("display",o))}catch(m){hn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){hn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yi(t,e),es(e),i&4&&yE(e);break;case 21:break;default:yi(t,e),es(e)}}function es(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AI(n)){var i=n;break e}n=n.return}throw Error(ge(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(of(s,""),i.flags&=-33);var a=gE(e);Cb(e,a,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=gE(e);Sb(e,l,o);break;default:throw Error(ge(161))}}catch(c){hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _8(e,t,n){Ue=e,TI(e)}function TI(e,t,n){for(var i=(e.mode&1)!==0;Ue!==null;){var s=Ue,a=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||ym;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||er;l=ym;var d=er;if(ym=o,(er=c)&&!d)for(Ue=s;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?wE(s):c!==null?(c.return=o,Ue=c):wE(s);for(;a!==null;)Ue=a,TI(a),a=a.sibling;Ue=s,ym=l,er=d}bE(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ue=a):bE(e)}}function bE(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||kv(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!er)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wi(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&iE(t,a,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iE(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&uf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}er||t.flags&512&&Nb(t)}catch(p){hn(t,t.return,p)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function jE(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function wE(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kv(4,t)}catch(c){hn(t,n,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(c){hn(t,s,c)}}var a=t.return;try{Nb(t)}catch(c){hn(t,a,c)}break;case 5:var o=t.return;try{Nb(t)}catch(c){hn(t,o,c)}}}catch(c){hn(t,t.return,c)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var P8=Math.ceil,zh=ma.ReactCurrentDispatcher,FN=ma.ReactCurrentOwner,di=ma.ReactCurrentBatchConfig,_t=0,Fn=null,Sn=null,Hn=0,Lr=0,dc=vo(0),Tn=0,wf=null,ml=0,Av=0,qN=0,Gu=null,Er=null,zN=0,Jc=1/0,Ms=null,Bh=!1,Eb=null,Qa=null,bm=!1,Ua=null,Uh=0,Ku=0,kb=null,lh=-1,ch=0;function gr(){return _t&6?yn():lh!==-1?lh:lh=yn()}function Xa(e){return e.mode&1?_t&2&&Hn!==0?Hn&-Hn:p8.transition!==null?(ch===0&&(ch=hO()),ch):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:wO(e.type)),e):1}function Fi(e,t,n,i){if(50<Ku)throw Ku=0,kb=null,Error(ge(185));Pp(e,n,i),(!(_t&2)||e!==Fn)&&(e===Fn&&(!(_t&2)&&(Av|=n),Tn===4&&Pa(e,Hn)),Ir(e,i),n===1&&_t===0&&!(t.mode&1)&&(Jc=yn()+500,Sv&&go()))}function Ir(e,t){var n=e.callbackNode;p6(e,t);var i=Eh(e,e===Fn?Hn:0);if(i===0)n!==null&&TC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&TC(n),t===1)e.tag===0?f8(NE.bind(null,e)):zO(NE.bind(null,e)),l8(function(){!(_t&6)&&go()}),n=null;else{switch(xO(i)){case 1:n=pN;break;case 4:n=pO;break;case 16:n=Ch;break;case 536870912:n=mO;break;default:n=Ch}n=FI(n,OI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OI(e,t){if(lh=-1,ch=0,_t&6)throw Error(ge(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var i=Eh(e,e===Fn?Hn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Vh(e,i);else{t=i;var s=_t;_t|=2;var a=RI();(Fn!==e||Hn!==t)&&(Ms=null,Jc=yn()+500,tl(e,t));do try{I8();break}catch(l){II(e,l)}while(!0);EN(),zh.current=a,_t=s,Sn!==null?t=0:(Fn=null,Hn=0,t=Tn)}if(t!==0){if(t===2&&(s=eb(e),s!==0&&(i=s,t=Ab(e,s))),t===1)throw n=wf,tl(e,0),Pa(e,i),Ir(e,yn()),n;if(t===6)Pa(e,i);else{if(s=e.current.alternate,!(i&30)&&!T8(s)&&(t=Vh(e,i),t===2&&(a=eb(e),a!==0&&(i=a,t=Ab(e,a))),t===1))throw n=wf,tl(e,0),Pa(e,i),Ir(e,yn()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(ge(345));case 2:To(e,Er,Ms);break;case 3:if(Pa(e,i),(i&130023424)===i&&(t=zN+500-yn(),10<t)){if(Eh(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){gr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lb(To.bind(null,e,Er,Ms),t);break}To(e,Er,Ms);break;case 4:if(Pa(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Li(i);a=1<<o,o=t[o],o>s&&(s=o),i&=~a}if(i=s,i=yn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*P8(i/1960))-i,10<i){e.timeoutHandle=lb(To.bind(null,e,Er,Ms),i);break}To(e,Er,Ms);break;case 5:To(e,Er,Ms);break;default:throw Error(ge(329))}}}return Ir(e,yn()),e.callbackNode===n?OI.bind(null,e):null}function Ab(e,t){var n=Gu;return e.current.memoizedState.isDehydrated&&(tl(e,t).flags|=256),e=Vh(e,t),e!==2&&(t=Er,Er=n,t!==null&&_b(t)),e}function _b(e){Er===null?Er=e:Er.push.apply(Er,e)}function T8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Bi(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t){for(t&=~qN,t&=~Av,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Li(t),i=1<<n;e[n]=-1,t&=~i}}function NE(e){if(_t&6)throw Error(ge(327));wc();var t=Eh(e,0);if(!(t&1))return Ir(e,yn()),null;var n=Vh(e,t);if(e.tag!==0&&n===2){var i=eb(e);i!==0&&(t=i,n=Ab(e,i))}if(n===1)throw n=wf,tl(e,0),Pa(e,t),Ir(e,yn()),n;if(n===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,To(e,Er,Ms),Ir(e,yn()),null}function BN(e,t){var n=_t;_t|=1;try{return e(t)}finally{_t=n,_t===0&&(Jc=yn()+500,Sv&&go())}}function hl(e){Ua!==null&&Ua.tag===0&&!(_t&6)&&wc();var t=_t;_t|=1;var n=di.transition,i=Ft;try{if(di.transition=null,Ft=1,e)return e()}finally{Ft=i,di.transition=n,_t=t,!(_t&6)&&go()}}function UN(){Lr=dc.current,nn(dc)}function tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,o8(n)),Sn!==null)for(n=Sn.return;n!==null;){var i=n;switch(NN(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Th();break;case 3:Xc(),nn(Tr),nn(or),ON();break;case 5:TN(i);break;case 4:Xc();break;case 13:nn(un);break;case 19:nn(un);break;case 10:kN(i.type._context);break;case 22:case 23:UN()}n=n.return}if(Fn=e,Sn=e=Za(e.current,null),Hn=Lr=t,Tn=0,wf=null,qN=Av=ml=0,Er=Gu=null,zo!==null){for(t=0;t<zo.length;t++)if(n=zo[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,i.next=o}n.pending=i}zo=null}return e}function II(e,t){do{var n=Sn;try{if(EN(),sh.current=qh,Fh){for(var i=fn.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Fh=!1}if(pl=0,Dn=An=fn=null,Wu=!1,yf=0,FN.current=null,n===null||n.return===null){Tn=1,wf=t,Sn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=dE(o);if(x!==null){x.flags&=-257,uE(x,o,l,a,t),x.mode&1&&cE(a,d,t),t=x,c=d;var h=t.updateQueue;if(h===null){var m=new Set;m.add(c),t.updateQueue=m}else h.add(c);break e}else{if(!(t&1)){cE(a,d,t),VN();break e}c=Error(ge(426))}}else if(an&&l.mode&1){var y=dE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),uE(y,o,l,a,t),SN(Zc(c,l));break e}}a=c=Zc(c,l),Tn!==4&&(Tn=2),Gu===null?Gu=[a]:Gu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var j=xI(a,c,t);rE(a,j);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qa===null||!Qa.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=vI(a,l,t);rE(a,N);break e}}a=a.return}while(a!==null)}$I(n)}catch(w){t=w,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(!0)}function RI(){var e=zh.current;return zh.current=qh,e===null?qh:e}function VN(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Fn===null||!(ml&268435455)&&!(Av&268435455)||Pa(Fn,Hn)}function Vh(e,t){var n=_t;_t|=2;var i=RI();(Fn!==e||Hn!==t)&&(Ms=null,tl(e,t));do try{O8();break}catch(s){II(e,s)}while(!0);if(EN(),_t=n,zh.current=i,Sn!==null)throw Error(ge(261));return Fn=null,Hn=0,Tn}function O8(){for(;Sn!==null;)MI(Sn)}function I8(){for(;Sn!==null&&!i6();)MI(Sn)}function MI(e){var t=LI(e.alternate,e,Lr);e.memoizedProps=e.pendingProps,t===null?$I(e):Sn=t,FN.current=null}function $I(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E8(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tn=6,Sn=null;return}}else if(n=C8(n,t,Lr),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);Tn===0&&(Tn=5)}function To(e,t,n){var i=Ft,s=di.transition;try{di.transition=null,Ft=1,R8(e,t,n,i)}finally{di.transition=s,Ft=i}return null}function R8(e,t,n,i){do wc();while(Ua!==null);if(_t&6)throw Error(ge(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(m6(e,a),e===Fn&&(Sn=Fn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bm||(bm=!0,FI(Ch,function(){return wc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=di.transition,di.transition=null;var o=Ft;Ft=1;var l=_t;_t|=4,FN.current=null,A8(e,n),PI(n,e),e8(ab),kh=!!sb,ab=sb=null,e.current=n,_8(n),s6(),_t=l,Ft=o,di.transition=a}else e.current=n;if(bm&&(bm=!1,Ua=e,Uh=s),a=e.pendingLanes,a===0&&(Qa=null),l6(n.stateNode),Ir(e,yn()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Bh)throw Bh=!1,e=Eb,Eb=null,e;return Uh&1&&e.tag!==0&&wc(),a=e.pendingLanes,a&1?e===kb?Ku++:(Ku=0,kb=e):Ku=0,go(),null}function wc(){if(Ua!==null){var e=xO(Uh),t=di.transition,n=Ft;try{if(di.transition=null,Ft=16>e?16:e,Ua===null)var i=!1;else{if(e=Ua,Ua=null,Uh=0,_t&6)throw Error(ge(331));var s=_t;for(_t|=4,Ue=e.current;Ue!==null;){var a=Ue,o=a.child;if(Ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ue=d;Ue!==null;){var u=Ue;switch(u.tag){case 0:case 11:case 15:Hu(8,u,a)}var f=u.child;if(f!==null)f.return=u,Ue=f;else for(;Ue!==null;){u=Ue;var p=u.sibling,x=u.return;if(kI(u),u===d){Ue=null;break}if(p!==null){p.return=x,Ue=p;break}Ue=x}}}var h=a.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ue=o;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hu(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,Ue=j;break e}Ue=a.return}}var g=e.current;for(Ue=g;Ue!==null;){o=Ue;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ue=v;else e:for(o=g;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kv(9,l)}}catch(w){hn(l,l.return,w)}if(l===o){Ue=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ue=N;break e}Ue=l.return}}if(_t=s,go(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(yv,e)}catch{}i=!0}return i}finally{Ft=n,di.transition=t}}return!1}function SE(e,t,n){t=Zc(n,t),t=xI(e,t,1),e=Ya(e,t,1),t=gr(),e!==null&&(Pp(e,1,t),Ir(e,t))}function hn(e,t,n){if(e.tag===3)SE(e,e,n);else for(;t!==null;){if(t.tag===3){SE(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qa===null||!Qa.has(i))){e=Zc(n,e),e=vI(t,e,1),t=Ya(t,e,1),e=gr(),t!==null&&(Pp(t,1,e),Ir(t,e));break}}t=t.return}}function M8(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&n,Fn===e&&(Hn&n)===n&&(Tn===4||Tn===3&&(Hn&130023424)===Hn&&500>yn()-zN?tl(e,0):qN|=n),Ir(e,t)}function DI(e,t){t===0&&(e.mode&1?(t=dm,dm<<=1,!(dm&130023424)&&(dm=4194304)):t=1);var n=gr();e=na(e,t),e!==null&&(Pp(e,t,n),Ir(e,n))}function $8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DI(e,n)}function D8(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ge(314))}i!==null&&i.delete(t),DI(e,n)}var LI;LI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tr.current)Ar=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ar=!1,S8(e,t,n);Ar=!!(e.flags&131072)}else Ar=!1,an&&t.flags&1048576&&BO(t,Rh,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;oh(e,t),e=t.pendingProps;var s=Kc(t,or.current);jc(t,n),s=RN(null,t,i,e,s,n);var a=MN();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(i)?(a=!0,Oh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_N(t),s.updater=Ev,t.stateNode=s,s._reactInternals=t,hb(t,i,e,n),t=gb(null,t,i,!0,a,n)):(t.tag=0,an&&a&&wN(t),pr(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(oh(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=F8(i),e=wi(i,e),s){case 0:t=vb(null,t,i,e,n);break e;case 1:t=mE(null,t,i,e,n);break e;case 11:t=fE(null,t,i,e,n);break e;case 14:t=pE(null,t,i,wi(i.type,e),n);break e}throw Error(ge(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wi(i,s),vb(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wi(i,s),mE(e,t,i,s,n);case 3:e:{if(jI(t),e===null)throw Error(ge(387));i=t.pendingProps,a=t.memoizedState,s=a.element,KO(e,t),Dh(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Zc(Error(ge(423)),t),t=hE(e,t,i,n,s);break e}else if(i!==s){s=Zc(Error(ge(424)),t),t=hE(e,t,i,n,s);break e}else for(Ur=Ka(t.stateNode.containerInfo.firstChild),Wr=t,an=!0,ki=null,n=HO(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yc(),i===s){t=ra(e,t,n);break e}pr(e,t,i,n)}t=t.child}return t;case 5:return YO(t),e===null&&fb(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,ob(i,s)?o=null:a!==null&&ob(i,a)&&(t.flags|=32),bI(e,t),pr(e,t,o,n),t.child;case 6:return e===null&&fb(t),null;case 13:return wI(e,t,n);case 4:return PN(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Qc(t,null,i,n):pr(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wi(i,s),fE(e,t,i,s,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Yt(Mh,i._currentValue),i._currentValue=o,a!==null)if(Bi(a.value,o)){if(a.children===s.children&&!Tr.current){t=ra(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(a.tag===1){c=Ws(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),pb(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ge(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pb(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}pr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,jc(t,n),s=fi(s),i=i(s),t.flags|=1,pr(e,t,i,n),t.child;case 14:return i=t.type,s=wi(i,t.pendingProps),s=wi(i.type,s),pE(e,t,i,s,n);case 15:return gI(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wi(i,s),oh(e,t),t.tag=1,Or(i)?(e=!0,Oh(t)):e=!1,jc(t,n),hI(t,i,s),hb(t,i,s,n),gb(null,t,i,!0,e,n);case 19:return NI(e,t,n);case 22:return yI(e,t,n)}throw Error(ge(156,t.tag))};function FI(e,t){return fO(e,t)}function L8(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,t,n,i){return new L8(e,t,n,i)}function WN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F8(e){if(typeof e=="function")return WN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dN)return 11;if(e===uN)return 14}return 2}function Za(e,t){var n=e.alternate;return n===null?(n=oi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dh(e,t,n,i,s,a){var o=2;if(i=e,typeof e=="function")WN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ec:return nl(n.children,s,a,t);case cN:o=8,s|=8;break;case F0:return e=oi(12,n,t,s|2),e.elementType=F0,e.lanes=a,e;case q0:return e=oi(13,n,t,s),e.elementType=q0,e.lanes=a,e;case z0:return e=oi(19,n,t,s),e.elementType=z0,e.lanes=a,e;case YT:return _v(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GT:o=10;break e;case KT:o=9;break e;case dN:o=11;break e;case uN:o=14;break e;case Ca:o=16,i=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=oi(o,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function nl(e,t,n,i){return e=oi(7,e,i,t),e.lanes=n,e}function _v(e,t,n,i){return e=oi(22,e,i,t),e.elementType=YT,e.lanes=n,e.stateNode={isHidden:!1},e}function Ry(e,t,n){return e=oi(6,e,null,t),e.lanes=n,e}function My(e,t,n){return t=oi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q8(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hy(0),this.expirationTimes=hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hy(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function HN(e,t,n,i,s,a,o,l,c){return e=new q8(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=oi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_N(a),e}function z8(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function qI(e){if(!e)return ro;e=e._reactInternals;e:{if(Pl(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var n=e.type;if(Or(n))return qO(e,n,t)}return t}function zI(e,t,n,i,s,a,o,l,c){return e=HN(n,i,!0,e,s,a,o,l,c),e.context=qI(null),n=e.current,i=gr(),s=Xa(n),a=Ws(i,s),a.callback=t??null,Ya(n,a,s),e.current.lanes=s,Pp(e,s,i),Ir(e,i),e}function Pv(e,t,n,i){var s=t.current,a=gr(),o=Xa(s);return n=qI(n),t.context===null?t.context=n:t.pendingContext=n,t=Ws(a,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ya(s,t,o),e!==null&&(Fi(e,s,o,a),ih(e,s,o)),o}function Wh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function CE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function GN(e,t){CE(e,t),(e=e.alternate)&&CE(e,t)}function B8(){return null}var BI=typeof reportError=="function"?reportError:function(e){console.error(e)};function KN(e){this._internalRoot=e}Tv.prototype.render=KN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Pv(e,t,null,null)};Tv.prototype.unmount=KN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hl(function(){Pv(null,e,null,null)}),t[ta]=null}};function Tv(e){this._internalRoot=e}Tv.prototype.unstable_scheduleHydration=function(e){if(e){var t=yO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_a.length&&t!==0&&t<_a[n].priority;n++);_a.splice(n,0,e),n===0&&jO(e)}};function YN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function EE(){}function U8(e,t,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var d=Wh(o);a.call(d)}}var o=zI(t,i,e,0,null,!1,!1,"",EE);return e._reactRootContainer=o,e[ta]=o.current,mf(e.nodeType===8?e.parentNode:e),hl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var d=Wh(c);l.call(d)}}var c=HN(e,0,!1,null,null,!1,!1,"",EE);return e._reactRootContainer=c,e[ta]=c.current,mf(e.nodeType===8?e.parentNode:e),hl(function(){Pv(t,c,n,i)}),c}function Iv(e,t,n,i,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Wh(o);l.call(c)}}Pv(t,o,e,s)}else o=U8(n,t,e,s,i);return Wh(o)}vO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Iu(t.pendingLanes);n!==0&&(mN(t,n|1),Ir(t,yn()),!(_t&6)&&(Jc=yn()+500,go()))}break;case 13:hl(function(){var i=na(e,1);if(i!==null){var s=gr();Fi(i,e,1,s)}}),GN(e,1)}};hN=function(e){if(e.tag===13){var t=na(e,134217728);if(t!==null){var n=gr();Fi(t,e,134217728,n)}GN(e,134217728)}};gO=function(e){if(e.tag===13){var t=Xa(e),n=na(e,t);if(n!==null){var i=gr();Fi(n,e,t,i)}GN(e,t)}};yO=function(){return Ft};bO=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}};X0=function(e,t,n){switch(t){case"input":if(V0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Nv(i);if(!s)throw Error(ge(90));XT(i),V0(i,s)}}}break;case"textarea":JT(e,n);break;case"select":t=n.value,t!=null&&vc(e,!!n.multiple,t,!1)}};aO=BN;oO=hl;var V8={usingClientEntryPoint:!1,Events:[Op,ic,Nv,iO,sO,BN]},fu={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W8={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dO(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||B8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jm.isDisabled&&jm.supportsFiber)try{yv=jm.inject(W8),fs=jm}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V8;Qr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YN(t))throw Error(ge(200));return z8(e,t,null,n)};Qr.createRoot=function(e,t){if(!YN(e))throw Error(ge(299));var n=!1,i="",s=BI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=HN(e,1,!1,null,null,n,!1,i,s),e[ta]=t.current,mf(e.nodeType===8?e.parentNode:e),new KN(t)};Qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=dO(t),e=e===null?null:e.stateNode,e};Qr.flushSync=function(e){return hl(e)};Qr.hydrate=function(e,t,n){if(!Ov(t))throw Error(ge(200));return Iv(null,e,t,!0,n)};Qr.hydrateRoot=function(e,t,n){if(!YN(e))throw Error(ge(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",o=BI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zI(t,null,e,1,n??null,s,!1,a,o),e[ta]=t.current,mf(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Tv(t)};Qr.render=function(e,t,n){if(!Ov(t))throw Error(ge(200));return Iv(null,e,t,!1,n)};Qr.unmountComponentAtNode=function(e){if(!Ov(e))throw Error(ge(40));return e._reactRootContainer?(hl(function(){Iv(null,null,e,!1,function(){e._reactRootContainer=null,e[ta]=null})}),!0):!1};Qr.unstable_batchedUpdates=BN;Qr.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ov(n))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Iv(e,t,n,!1,i)};Qr.version="18.3.1-next-f1338f8080-20240426";function UI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UI)}catch(e){console.error(e)}}UI(),UT.exports=Qr;var Tl=UT.exports;const H8=Rt(Tl);var VI,kE=Tl;VI=kE.createRoot,kE.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AE="popstate";function G8(e={}){function t(i,s){let{pathname:a,search:o,hash:l}=i.location;return Pb("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Nf(s)}return Y8(t,n,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ui(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K8(){return Math.random().toString(36).substring(2,10)}function _E(e,t){return{usr:e.state,key:e.key,idx:t}}function Pb(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ld(t):t,state:n,key:t&&t.key||i||K8()}}function Nf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ld(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Y8(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let y=u(),j=y==null?null:y-d;d=y,c&&c({action:l,location:m.location,delta:j})}function p(y,j){l="PUSH";let g=Pb(m.location,y,j);d=u()+1;let v=_E(g,d),N=m.createHref(g);try{o.pushState(v,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(N)}a&&c&&c({action:l,location:m.location,delta:1})}function x(y,j){l="REPLACE";let g=Pb(m.location,y,j);d=u();let v=_E(g,d),N=m.createHref(g);o.replaceState(v,"",N),a&&c&&c({action:l,location:m.location,delta:0})}function h(y){return Q8(y)}let m={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AE,f),c=y,()=>{s.removeEventListener(AE,f),c=null}},createHref(y){return t(s,y)},createURL:h,encodeLocation(y){let j=h(y);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:x,go(y){return o.go(y)}};return m}function Q8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Nf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function WI(e,t,n="/"){return X8(e,t,n,!1)}function X8(e,t,n,i){let s=typeof t=="string"?Ld(t):t,a=ia(s.pathname||"/",n);if(a==null)return null;let o=HI(e);Z8(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=cz(a);l=oz(o[c],d,i)}return l}function HI(e,t=[],n=[],i="",s=!1){let a=(o,l,c=s,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(i)&&c)return;ln(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length)}let f=Hs([i,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),HI(o.children,t,p,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:sz(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let d of GI(o.path))a(o,l,!0,d)}),t}function GI(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let o=GI(i.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Z8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:az(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var J8=/^:[\w-]+$/,ez=3,tz=2,nz=1,rz=10,iz=-2,PE=e=>e==="*";function sz(e,t){let n=e.split("/"),i=n.length;return n.some(PE)&&(i+=iz),t&&(i+=tz),n.filter(s=>!PE(s)).reduce((s,a)=>s+(J8.test(a)?ez:a===""?nz:rz),i)}function az(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function oz(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],d=l===i.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=Hh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&n&&!i[i.length-1].route.index&&(f=Hh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Hs([a,f.pathname]),pathnameBase:pz(Hs([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Hs([a,f.pathnameBase]))}return o}function Hh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=lz(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((d,{paramName:u,isOptional:f},p)=>{if(u==="*"){let h=l[p]||"";o=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}const x=l[p];return f&&!x?d[u]=void 0:d[u]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function lz(e,t=!1,n=!0){Ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function cz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ui(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ia(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function dz(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Ld(e):e;return{pathname:n?n.startsWith("/")?n:uz(n,t):t,search:mz(i),hash:hz(s)}}function uz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $y(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function QN(e){let t=fz(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function XN(e,t,n,i=!1){let s;typeof e=="string"?s=Ld(e):(s={...e},ln(!s.pathname||!s.pathname.includes("?"),$y("?","pathname","search",s)),ln(!s.pathname||!s.pathname.includes("#"),$y("#","pathname","hash",s)),ln(!s.search||!s.search.includes("#"),$y("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=dz(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Hs=e=>e.join("/").replace(/\/\/+/g,"/"),pz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var KI=["POST","PUT","PATCH","DELETE"];new Set(KI);var vz=["GET",...KI];new Set(vz);var Fd=b.createContext(null);Fd.displayName="DataRouter";var Rv=b.createContext(null);Rv.displayName="DataRouterState";b.createContext(!1);var YI=b.createContext({isTransitioning:!1});YI.displayName="ViewTransition";var gz=b.createContext(new Map);gz.displayName="Fetchers";var yz=b.createContext(null);yz.displayName="Await";var Qi=b.createContext(null);Qi.displayName="Navigation";var Rp=b.createContext(null);Rp.displayName="Location";var Xi=b.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var ZN=b.createContext(null);ZN.displayName="RouteError";function bz(e,{relative:t}={}){ln(qd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(Qi),{hash:s,pathname:a,search:o}=Mp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Hs([n,a])),i.createHref({pathname:l,search:o,hash:s})}function qd(){return b.useContext(Rp)!=null}function hi(){return ln(qd(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Rp).location}var QI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XI(e){b.useContext(Qi).static||b.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=b.useContext(Xi);return e?Rz():jz()}function jz(){ln(qd(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Fd),{basename:t,navigator:n}=b.useContext(Qi),{matches:i}=b.useContext(Xi),{pathname:s}=hi(),a=JSON.stringify(QN(i)),o=b.useRef(!1);return XI(()=>{o.current=!0}),b.useCallback((c,d={})=>{if(Ui(o.current,QI),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=XN(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Hs([t,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[t,n,a,s,e])}b.createContext(null);function wz(){let{matches:e}=b.useContext(Xi),t=e[e.length-1];return t?t.params:{}}function Mp(e,{relative:t}={}){let{matches:n}=b.useContext(Xi),{pathname:i}=hi(),s=JSON.stringify(QN(n));return b.useMemo(()=>XN(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function Nz(e,t){return ZI(e,t)}function ZI(e,t,n,i,s){var g;ln(qd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Qi),{matches:o}=b.useContext(Xi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let v=f&&f.path||"";JI(d,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=hi(),x;if(t){let v=typeof t=="string"?Ld(t):t;ln(u==="/"||((g=v.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),x=v}else x=p;let h=x.pathname||"/",m=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=WI(e,{pathname:m});Ui(f||y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ui(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Az(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Hs([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Hs([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,i,s);return t&&j?b.createElement(Rp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function Sz(){let e=Iz(),t=xz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,o)}var Cz=b.createElement(Sz,null),Ez=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Xi.Provider,{value:this.props.routeContext},b.createElement(ZN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kz({routeContext:e,match:t,children:n}){let i=b.useContext(Fd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Xi.Provider,{value:e},n)}function Az(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);ln(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:p}=n,x=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,u,f)=>{let p,x=!1,h=null,m=null;n&&(p=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||Cz,l&&(c<0&&f===0?(JI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,m=null):c===f&&(x=!0,m=u.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,f+1)),j=()=>{let g;return p?g=h:x?g=m:u.route.Component?g=b.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=d,b.createElement(kz,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?b.createElement(Ez,{location:n.location,revalidation:n.revalidation,component:h,error:p,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:i}):j()},null)}function JN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _z(e){let t=b.useContext(Fd);return ln(t,JN(e)),t}function Pz(e){let t=b.useContext(Rv);return ln(t,JN(e)),t}function Tz(e){let t=b.useContext(Xi);return ln(t,JN(e)),t}function e1(e){let t=Tz(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Oz(){return e1("useRouteId")}function Iz(){var i;let e=b.useContext(ZN),t=Pz("useRouteError"),n=e1("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function Rz(){let{router:e}=_z("useNavigate"),t=e1("useNavigate"),n=b.useRef(!1);return XI(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Ui(n.current,QI),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var TE={};function JI(e,t,n){!t&&!TE[e]&&(TE[e]=!0,Ui(!1,n))}b.memo(Mz);function Mz({routes:e,future:t,state:n,unstable_onError:i}){return ZI(e,void 0,n,i,t)}function Oo({to:e,replace:t,state:n,relative:i}){ln(qd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Qi);Ui(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(Xi),{pathname:o}=hi(),l=yo(),c=XN(e,QN(a),o,i==="path"),d=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:i})},[l,d,i,t,n]),null}function ut(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $z({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){ln(!qd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof n=="string"&&(n=Ld(n));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:p="default"}=n,x=b.useMemo(()=>{let h=ia(c,o);return h==null?null:{location:{pathname:h,search:d,hash:u,state:f,key:p},navigationType:i}},[o,c,d,u,f,p,i]);return Ui(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(Qi.Provider,{value:l},b.createElement(Rp.Provider,{children:t,value:x}))}function Dz({children:e,location:t}){return Nz(Tb(e),t)}function Tb(e,t=[]){let n=[];return b.Children.forEach(e,(i,s)=>{if(!b.isValidElement(i))return;let a=[...t,s];if(i.type===b.Fragment){n.push.apply(n,Tb(i.props.children,a));return}ln(i.type===ut,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Tb(i.props.children,a)),n.push(o)}),n}var uh="get",fh="application/x-www-form-urlencoded";function Mv(e){return e!=null&&typeof e.tagName=="string"}function Lz(e){return Mv(e)&&e.tagName.toLowerCase()==="button"}function Fz(e){return Mv(e)&&e.tagName.toLowerCase()==="form"}function qz(e){return Mv(e)&&e.tagName.toLowerCase()==="input"}function zz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bz(e,t){return e.button===0&&(!t||t==="_self")&&!zz(e)}var wm=null;function Uz(){if(wm===null)try{new FormData(document.createElement("form"),0),wm=!1}catch{wm=!0}return wm}var Vz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dy(e){return e!=null&&!Vz.has(e)?(Ui(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):e}function Wz(e,t){let n,i,s,a,o;if(Fz(e)){let l=e.getAttribute("action");i=l?ia(l,t):null,n=e.getAttribute("method")||uh,s=Dy(e.getAttribute("enctype"))||fh,a=new FormData(e)}else if(Lz(e)||qz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(i=c?ia(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||uh,s=Dy(e.getAttribute("formenctype"))||Dy(l.getAttribute("enctype"))||fh,a=new FormData(l,e),!Uz()){let{name:d,type:u,value:f}=e;if(u==="image"){let p=d?`${d}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else d&&a.append(d,f)}}else{if(Mv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,i=null,s=fh,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hz(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ia(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Gz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Yz(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await Gz(a,n);return o.links?o.links():[]}return[]}));return Jz(i.flat(1).filter(Kz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function OE(e,t,n,i,s,a){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var u;return n[d].pathname!==c.pathname||((u=n[d].route.path)==null?void 0:u.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):a==="data"?t.filter((c,d)=>{var f;let u=i.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Qz(e,t,{includeHydrateFallback:n}={}){return Xz(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Xz(e){return[...new Set(e)]}function Zz(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Jz(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(Zz(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function eR(){let e=b.useContext(Fd);return t1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eB(){let e=b.useContext(Rv);return t1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var n1=b.createContext(void 0);n1.displayName="FrameworkContext";function tR(){let e=b.useContext(n1);return t1(e,"You must render this element inside a <HydratedRouter> element"),e}function tB(e,t){let n=b.useContext(n1),[i,s]=b.useState(!1),[a,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,p=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=j=>{j.forEach(g=>{o(g.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[e]),b.useEffect(()=>{if(i){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[i]);let x=()=>{s(!0)},h=()=>{s(!1),o(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:pu(l,x),onBlur:pu(c,h),onMouseEnter:pu(d,x),onMouseLeave:pu(u,h),onTouchStart:pu(f,x)}]:[!1,p,{}]}function pu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nB({page:e,...t}){let{router:n}=eR(),i=b.useMemo(()=>WI(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?b.createElement(iB,{page:e,matches:i,...t}):null}function rB(e){let{manifest:t,routeModules:n}=tR(),[i,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return Yz(e,t,n).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,n]),i}function iB({page:e,matches:t,...n}){let i=hi(),{manifest:s,routeModules:a}=tR(),{basename:o}=eR(),{loaderData:l,matches:c}=eB(),d=b.useMemo(()=>OE(e,t,c,s,i,"data"),[e,t,c,s,i]),u=b.useMemo(()=>OE(e,t,c,s,i,"assets"),[e,t,c,s,i]),f=b.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let h=new Set,m=!1;if(t.forEach(j=>{var v;let g=s.routes[j.route.id];!g||!g.hasLoader||(!d.some(N=>N.route.id===j.route.id)&&j.route.id in l&&((v=a[j.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?m=!0:h.add(j.route.id))}),h.size===0)return[];let y=Hz(e,o,"data");return m&&h.size>0&&y.searchParams.set("_routes",t.filter(j=>h.has(j.route.id)).map(j=>j.route.id).join(",")),[y.pathname+y.search]},[o,l,i,s,d,t,e,a]),p=b.useMemo(()=>Qz(u,s),[u,s]),x=rB(u);return b.createElement(b.Fragment,null,f.map(h=>b.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),p.map(h=>b.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),x.map(({key:h,link:m})=>b.createElement("link",{key:h,nonce:n.nonce,...m})))}function sB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nR&&(window.__reactRouterVersion="7.8.2")}catch{}function aB({basename:e,children:t,window:n}){let i=b.useRef();i.current==null&&(i.current=G8({window:n,v5Compat:!0}));let s=i.current,[a,o]=b.useState({action:s.action,location:s.location}),l=b.useCallback(c=>{b.startTransition(()=>o(c))},[o]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement($z,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var rR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=b.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...p},x){let{basename:h}=b.useContext(Qi),m=typeof d=="string"&&rR.test(d),y,j=!1;if(typeof d=="string"&&m&&(y=d,nR))try{let k=new URL(window.location.href),R=d.startsWith("//")?new URL(k.protocol+d):new URL(d),P=ia(R.pathname,h);R.origin===k.origin&&P!=null?d=P+R.search+R.hash:j=!0}catch{Ui(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=bz(d,{relative:s}),[v,N,w]=tB(i,p),S=dB(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function E(k){t&&t(k),k.defaultPrevented||S(k)}let C=b.createElement("a",{...p,...w,href:y||g,onClick:j||a?t:E,ref:sB(x,N),target:c,"data-discover":!m&&n==="render"?"true":void 0});return v&&!m?b.createElement(b.Fragment,null,C,b.createElement(nB,{page:g})):C});ir.displayName="Link";var oB=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:o,viewTransition:l,children:c,...d},u){let f=Mp(o,{relative:d.relative}),p=hi(),x=b.useContext(Rv),{navigator:h,basename:m}=b.useContext(Qi),y=x!=null&&hB(f)&&l===!0,j=h.encodeLocation?h.encodeLocation(f).pathname:f.pathname,g=p.pathname,v=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(g=g.toLowerCase(),v=v?v.toLowerCase():null,j=j.toLowerCase()),v&&m&&(v=ia(v,m)||v);const N=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let w=g===j||!s&&g.startsWith(j)&&g.charAt(N)==="/",S=v!=null&&(v===j||!s&&v.startsWith(j)&&v.charAt(j.length)==="/"),E={isActive:w,isPending:S,isTransitioning:y},C=w?t:void 0,k;typeof i=="function"?k=i(E):k=[i,w?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(E):a;return b.createElement(ir,{...d,"aria-current":C,className:k,ref:u,style:R,to:o,viewTransition:l},typeof c=="function"?c(E):c)});oB.displayName="NavLink";var lB=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:o=uh,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...p},x)=>{let h=pB(),m=mB(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&rR.test(l),g=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let N=v.nativeEvent.submitter,w=(N==null?void 0:N.getAttribute("formmethod"))||o;h(N||v.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:s,state:a,relative:d,preventScrollReset:u,viewTransition:f})};return b.createElement("form",{ref:x,method:y,action:m,onSubmit:i?c:g,...p,"data-discover":!j&&e==="render"?"true":void 0})});lB.displayName="Form";function cB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iR(e){let t=b.useContext(Fd);return ln(t,cB(e)),t}function dB(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}={}){let l=yo(),c=hi(),d=Mp(e,{relative:a});return b.useCallback(u=>{if(Bz(u,t)){u.preventDefault();let f=n!==void 0?n:Nf(c)===Nf(d);l(e,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,t,e,s,a,o])}var uB=0,fB=()=>`__${String(++uB)}__`;function pB(){let{router:e}=iR("useSubmit"),{basename:t}=b.useContext(Qi),n=Oz();return b.useCallback(async(i,s={})=>{let{action:a,method:o,encType:l,formData:c,body:d}=Wz(i,t);if(s.navigate===!1){let u=s.fetcherKey||fB();await e.fetch(u,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function mB(e,{relative:t}={}){let{basename:n}=b.useContext(Qi),i=b.useContext(Xi);ln(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Mp(e||".",{relative:t})},o=hi();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Hs([n,a.pathname])),Nf(a)}function hB(e,{relative:t}={}){let n=b.useContext(YI);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iR("useViewTransitionState"),s=Mp(e,{relative:t});if(!n.isTransitioning)return!1;let a=ia(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=ia(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Hh(s.pathname,o)!=null||Hh(s.pathname,a)!=null}var zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xl=typeof window>"u"||"Deno"in globalThis;function ri(){}function xB(e,t){return typeof e=="function"?e(t):e}function Ob(e){return typeof e=="number"&&e>=0&&e!==1/0}function sR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Nc(e,t){return typeof e=="function"?e(t):e}function Ai(e,t){return typeof e=="function"?e(t):e}function IE(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(i){if(t.queryHash!==r1(o,t.options))return!1}else if(!Sf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function RE(e,t){const{exact:n,status:i,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(vl(t.options.mutationKey)!==vl(a))return!1}else if(!Sf(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function r1(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,n)=>Ib(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Sf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Sf(e[n],t[n])):!1}function aR(e,t){if(e===t)return e;const n=ME(e)&&ME(t);if(n||Ib(e)&&Ib(t)){const i=n?e:Object.keys(e),s=i.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d];(!n&&i.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=aR(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Gh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ME(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ib(e){if(!$E(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$E(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $E(e){return Object.prototype.toString.call(e)==="[object Object]"}function vB(e){return new Promise(t=>{setTimeout(t,e)})}function Rb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?aR(e,t):t}function gB(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function yB(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var i1=Symbol();function oR(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===i1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ko,Ia,Rc,wT,bB=(wT=class extends zd{constructor(){super();rt(this,Ko);rt(this,Ia);rt(this,Rc);Ie(this,Rc,t=>{if(!xl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,Ia)||this.setEventListener(Y(this,Rc))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Ia))==null||t.call(this),Ie(this,Ia,void 0))}setEventListener(t){var n;Ie(this,Rc,t),(n=Y(this,Ia))==null||n.call(this),Ie(this,Ia,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){Y(this,Ko)!==t&&(Ie(this,Ko,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Y(this,Ko)=="boolean"?Y(this,Ko):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ko=new WeakMap,Ia=new WeakMap,Rc=new WeakMap,wT),s1=new bB,Mc,Ra,$c,NT,jB=(NT=class extends zd{constructor(){super();rt(this,Mc,!0);rt(this,Ra);rt(this,$c);Ie(this,$c,t=>{if(!xl&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){Y(this,Ra)||this.setEventListener(Y(this,$c))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Ra))==null||t.call(this),Ie(this,Ra,void 0))}setEventListener(t){var n;Ie(this,$c,t),(n=Y(this,Ra))==null||n.call(this),Ie(this,Ra,t(this.setOnline.bind(this)))}setOnline(t){Y(this,Mc)!==t&&(Ie(this,Mc,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return Y(this,Mc)}},Mc=new WeakMap,Ra=new WeakMap,$c=new WeakMap,NT),Kh=new jB;function Mb(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function wB(e){return Math.min(1e3*2**e,3e4)}function lR(e){return(e??"online")==="online"?Kh.isOnline():!0}var cR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ly(e){return e instanceof cR}function dR(e){let t=!1,n=0,i=!1,s;const a=Mb(),o=m=>{var y;i||(p(new cR(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>s1.isFocused()&&(e.networkMode==="always"||Kh.isOnline())&&e.canRun(),u=()=>lR(e.networkMode)&&e.canRun(),f=m=>{var y;i||(i=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),a.resolve(m))},p=m=>{var y;i||(i=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),a.reject(m))},x=()=>new Promise(m=>{var y;s=j=>{(i||d())&&m(j)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,i||(m=e.onContinue)==null||m.call(e)}),h=()=>{if(i)return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(j){m=Promise.reject(j)}Promise.resolve(m).then(f).catch(j=>{var S;if(i)return;const g=e.retry??(xl?0:3),v=e.retryDelay??wB,N=typeof v=="function"?v(n,j):v,w=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,j);if(t||!w){p(j);return}n++,(S=e.onFail)==null||S.call(e,n,j),vB(N).then(()=>d()?void 0:x()).then(()=>{t?p(j):h()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?h():x().then(h),a)}}function NB(){let e=[],t=0,n=l=>{l()},i=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var _n=NB(),Yo,ST,uR=(ST=class{constructor(){rt(this,Yo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ob(this.gcTime)&&Ie(this,Yo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xl?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Yo)&&(clearTimeout(Y(this,Yo)),Ie(this,Yo,void 0))}},Yo=new WeakMap,ST),Dc,Lc,ni,Zn,Cp,Qo,Ni,Is,CT,SB=(CT=class extends uR{constructor(t){super();rt(this,Ni);rt(this,Dc);rt(this,Lc);rt(this,ni);rt(this,Zn);rt(this,Cp);rt(this,Qo);Ie(this,Qo,!1),Ie(this,Cp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,ni,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,Dc,CB(this.options)),this.state=t.state??Y(this,Dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,Zn))==null?void 0:t.promise}setOptions(t){this.options={...Y(this,Cp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,ni).remove(this)}setData(t,n){const i=Rb(this.state.data,t,this.options);return vt(this,Ni,Is).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){vt(this,Ni,Is).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,s;const n=(i=Y(this,Zn))==null?void 0:i.promise;return(s=Y(this,Zn))==null||s.cancel(t),n?n.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Dc))}isActive(){return this.observers.some(t=>Ai(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!sR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Y(this,Zn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Y(this,Zn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,ni).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Y(this,Zn)&&(Y(this,Qo)?Y(this,Zn).cancel({revert:!0}):Y(this,Zn).cancelRetry()),this.scheduleGc()),Y(this,ni).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Ni,Is).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Zn))return Y(this,Zn).continueRetry(),Y(this,Zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ie(this,Qo,!0),i.signal)})},a=()=>{const f=oR(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),Ie(this,Qo,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ie(this,Lc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&vt(this,Ni,Is).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var p,x,h,m;Ly(f)&&f.silent||vt(this,Ni,Is).call(this,{type:"error",error:f}),Ly(f)||((x=(p=Y(this,ni).config).onError)==null||x.call(p,f,this),(m=(h=Y(this,ni).config).onSettled)==null||m.call(h,this.state.data,f,this)),this.scheduleGc()};return Ie(this,Zn,dR({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,x,h,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(x=(p=Y(this,ni).config).onSuccess)==null||x.call(p,f,this),(m=(h=Y(this,ni).config).onSettled)==null||m.call(h,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{vt(this,Ni,Is).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{vt(this,Ni,Is).call(this,{type:"pause"})},onContinue:()=>{vt(this,Ni,Is).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Y(this,Zn).start()}},Dc=new WeakMap,Lc=new WeakMap,ni=new WeakMap,Zn=new WeakMap,Cp=new WeakMap,Qo=new WeakMap,Ni=new WeakSet,Is=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...fR(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Ly(s)&&s.revert&&Y(this,Lc)?{...Y(this,Lc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),_n.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Y(this,ni).notify({query:this,type:"updated",action:t})})},CT);function fR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rs,ET,EB=(ET=class extends zd{constructor(t={}){super();rt(this,rs);this.config=t,Ie(this,rs,new Map)}build(t,n,i){const s=n.queryKey,a=n.queryHash??r1(s,n);let o=this.get(a);return o||(o=new SB({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Y(this,rs).has(t.queryHash)||(Y(this,rs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Y(this,rs).get(t.queryHash);n&&(t.destroy(),n===t&&Y(this,rs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,rs).get(t)}getAll(){return[...Y(this,rs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>IE(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>IE(t,i)):n}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rs=new WeakMap,ET),is,dr,Xo,ss,Na,kT,kB=(kT=class extends uR{constructor(t){super();rt(this,ss);rt(this,is);rt(this,dr);rt(this,Xo);this.mutationId=t.mutationId,Ie(this,dr,t.mutationCache),Ie(this,is,[]),this.state=t.state||pR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,is).includes(t)||(Y(this,is).push(t),this.clearGcTimeout(),Y(this,dr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,is,Y(this,is).filter(n=>n!==t)),this.scheduleGc(),Y(this,dr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,is).length||(this.state.status==="pending"?this.scheduleGc():Y(this,dr).remove(this))}continue(){var t;return((t=Y(this,Xo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,d,u,f,p,x,h,m,y,j,g,v,N,w,S,E;Ie(this,Xo,dR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{vt(this,ss,Na).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{vt(this,ss,Na).call(this,{type:"pause"})},onContinue:()=>{vt(this,ss,Na).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,dr).canRun(this)}));const n=this.state.status==="pending",i=!Y(this,Xo).canStart();try{if(!n){vt(this,ss,Na).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(s=Y(this,dr).config).onMutate)==null?void 0:a.call(s,t,this));const k=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));k!==this.state.context&&vt(this,ss,Na).call(this,{type:"pending",context:k,variables:t,isPaused:i})}const C=await Y(this,Xo).start();return await((d=(c=Y(this,dr).config).onSuccess)==null?void 0:d.call(c,C,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,C,t,this.state.context)),await((x=(p=Y(this,dr).config).onSettled)==null?void 0:x.call(p,C,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,C,null,t,this.state.context)),vt(this,ss,Na).call(this,{type:"success",data:C}),C}catch(C){try{throw await((j=(y=Y(this,dr).config).onError)==null?void 0:j.call(y,C,t,this.state.context,this)),await((v=(g=this.options).onError)==null?void 0:v.call(g,C,t,this.state.context)),await((w=(N=Y(this,dr).config).onSettled)==null?void 0:w.call(N,void 0,C,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,C,t,this.state.context)),C}finally{vt(this,ss,Na).call(this,{type:"error",error:C})}}finally{Y(this,dr).runNext(this)}}},is=new WeakMap,dr=new WeakMap,Xo=new WeakMap,ss=new WeakSet,Na=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_n.batch(()=>{Y(this,is).forEach(i=>{i.onMutationUpdate(t)}),Y(this,dr).notify({mutation:this,type:"updated",action:t})})},kT);function pR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dr,Ep,AT,AB=(AT=class extends zd{constructor(t={}){super();rt(this,Dr);rt(this,Ep);this.config=t,Ie(this,Dr,new Map),Ie(this,Ep,Date.now())}build(t,n,i){const s=new kB({mutationCache:this,mutationId:++rm(this,Ep)._,options:t.defaultMutationOptions(n),state:i});return this.add(s),s}add(t){const n=Nm(t),i=Y(this,Dr).get(n)??[];i.push(t),Y(this,Dr).set(n,i),this.notify({type:"added",mutation:t})}remove(t){var i;const n=Nm(t);if(Y(this,Dr).has(n)){const s=(i=Y(this,Dr).get(n))==null?void 0:i.filter(a=>a!==t);s&&(s.length===0?Y(this,Dr).delete(n):Y(this,Dr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var i;const n=(i=Y(this,Dr).get(Nm(t)))==null?void 0:i.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var i;const n=(i=Y(this,Dr).get(Nm(t)))==null?void 0:i.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Y(this,Dr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(i=>RE(n,i))}findAll(t={}){return this.getAll().filter(n=>RE(t,n))}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(t.map(n=>n.continue().catch(ri))))}},Dr=new WeakMap,Ep=new WeakMap,AT);function Nm(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function DE(e){return{onFetch:(t,n)=>{var u,f,p,x,h;const i=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},j=oR(t.options,t.fetchOptions),g=async(v,N,w)=>{if(m)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const S={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};y(S);const E=await j(S),{maxPages:C}=t.options,k=w?yB:gB;return{pages:k(v.pages,E,C),pageParams:k(v.pageParams,N,C)}};if(s&&a.length){const v=s==="backward",N=v?_B:LE,w={pages:a,pageParams:o},S=N(i,w);l=await g(w,S,v)}else{const v=e??a.length;do{const N=c===0?o[0]??i.initialPageParam:LE(i,l);if(c>0&&N==null)break;l=await g(l,N),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function LE(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function _B(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var mn,Ma,$a,Fc,qc,Da,zc,Bc,_T,PB=(_T=class{constructor(e={}){rt(this,mn);rt(this,Ma);rt(this,$a);rt(this,Fc);rt(this,qc);rt(this,Da);rt(this,zc);rt(this,Bc);Ie(this,mn,e.queryCache||new EB),Ie(this,Ma,e.mutationCache||new AB),Ie(this,$a,e.defaultOptions||{}),Ie(this,Fc,new Map),Ie(this,qc,new Map),Ie(this,Da,0)}mount(){rm(this,Da)._++,Y(this,Da)===1&&(Ie(this,zc,s1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,mn).onFocus())})),Ie(this,Bc,Kh.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,mn).onOnline())})))}unmount(){var e,t;rm(this,Da)._--,Y(this,Da)===0&&((e=Y(this,zc))==null||e.call(this),Ie(this,zc,void 0),(t=Y(this,Bc))==null||t.call(this),Ie(this,Bc,void 0))}isFetching(e){return Y(this,mn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,Ma).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Y(this,mn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=Y(this,mn).build(this,n);return e.revalidateIfStale&&i.isStaleByTime(Nc(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Y(this,mn).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),s=Y(this,mn).get(i.queryHash),a=s==null?void 0:s.state.data,o=xB(t,a);if(o!==void 0)return Y(this,mn).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return _n.batch(()=>Y(this,mn).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Y(this,mn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Y(this,mn);_n.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Y(this,mn),i={type:"active",...e};return _n.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=_n.batch(()=>Y(this,mn).findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ri).catch(ri)}invalidateQueries(e={},t={}){return _n.batch(()=>{if(Y(this,mn).findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},i=_n.batch(()=>Y(this,mn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(ri)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(ri)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Y(this,mn).build(this,t);return n.isStaleByTime(Nc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ri).catch(ri)}fetchInfiniteQuery(e){return e.behavior=DE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ri).catch(ri)}ensureInfiniteQueryData(e){return e.behavior=DE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kh.isOnline()?Y(this,Ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,mn)}getMutationCache(){return Y(this,Ma)}getDefaultOptions(){return Y(this,$a)}setDefaultOptions(e){Ie(this,$a,e)}setQueryDefaults(e,t){Y(this,Fc).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,Fc).values()];let n={};return t.forEach(i=>{Sf(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){Y(this,qc).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,qc).values()];let n={};return t.forEach(i=>{Sf(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,$a).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=r1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===i1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,$a).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,mn).clear(),Y(this,Ma).clear()}},mn=new WeakMap,Ma=new WeakMap,$a=new WeakMap,Fc=new WeakMap,qc=new WeakMap,Da=new WeakMap,zc=new WeakMap,Bc=new WeakMap,_T),Sr,Et,kp,ur,Zo,Uc,La,as,Ap,Vc,Wc,Jo,el,Fa,Hc,It,Mu,$b,Db,Lb,Fb,qb,zb,Bb,mR,PT,TB=(PT=class extends zd{constructor(t,n){super();rt(this,It);rt(this,Sr);rt(this,Et);rt(this,kp);rt(this,ur);rt(this,Zo);rt(this,Uc);rt(this,La);rt(this,as);rt(this,Ap);rt(this,Vc);rt(this,Wc);rt(this,Jo);rt(this,el);rt(this,Fa);rt(this,Hc,new Set);this.options=n,Ie(this,Sr,t),Ie(this,as,null),Ie(this,La,Mb()),this.options.experimental_prefetchInRender||Y(this,La).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Et).addObserver(this),FE(Y(this,Et),this.options)?vt(this,It,Mu).call(this):this.updateResult(),vt(this,It,Fb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ub(Y(this,Et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ub(Y(this,Et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,It,qb).call(this),vt(this,It,zb).call(this),Y(this,Et).removeObserver(this)}setOptions(t,n){const i=this.options,s=Y(this,Et);if(this.options=Y(this,Sr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ai(this.options.enabled,Y(this,Et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,It,Bb).call(this),Y(this,Et).setOptions(this.options),i._defaulted&&!Gh(this.options,i)&&Y(this,Sr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Et),observer:this});const a=this.hasListeners();a&&qE(Y(this,Et),s,this.options,i)&&vt(this,It,Mu).call(this),this.updateResult(n),a&&(Y(this,Et)!==s||Ai(this.options.enabled,Y(this,Et))!==Ai(i.enabled,Y(this,Et))||Nc(this.options.staleTime,Y(this,Et))!==Nc(i.staleTime,Y(this,Et)))&&vt(this,It,$b).call(this);const o=vt(this,It,Db).call(this);a&&(Y(this,Et)!==s||Ai(this.options.enabled,Y(this,Et))!==Ai(i.enabled,Y(this,Et))||o!==Y(this,Fa))&&vt(this,It,Lb).call(this,o)}getOptimisticResult(t){const n=Y(this,Sr).getQueryCache().build(Y(this,Sr),t),i=this.createResult(n,t);return IB(this,i)&&(Ie(this,ur,i),Ie(this,Uc,this.options),Ie(this,Zo,Y(this,Et).state)),i}getCurrentResult(){return Y(this,ur)}trackResult(t,n){const i={};return Object.keys(t).forEach(s=>{Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),i}trackProp(t){Y(this,Hc).add(t)}getCurrentQuery(){return Y(this,Et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Y(this,Sr).defaultQueryOptions(t),i=Y(this,Sr).getQueryCache().build(Y(this,Sr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return vt(this,It,Mu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,ur)))}createResult(t,n){var C;const i=Y(this,Et),s=this.options,a=Y(this,ur),o=Y(this,Zo),l=Y(this,Uc),d=t!==i?t.state:Y(this,kp),{state:u}=t;let f={...u},p=!1,x;if(n._optimisticResults){const k=this.hasListeners(),R=!k&&FE(t,n),P=k&&qE(t,i,n,s);(R||P)&&(f={...f,...fR(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:y}=f;if(n.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&n.select===Y(this,Ap))x=Y(this,Vc);else try{Ie(this,Ap,n.select),x=n.select(f.data),x=Rb(a==null?void 0:a.data,x,n),Ie(this,Vc,x),Ie(this,as,null)}catch(k){Ie(this,as,k)}else x=f.data;if(n.placeholderData!==void 0&&x===void 0&&y==="pending"){let k;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))k=a.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((C=Y(this,Wc))==null?void 0:C.state.data,Y(this,Wc)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),Ie(this,as,null)}catch(R){Ie(this,as,R)}k!==void 0&&(y="success",x=Rb(a==null?void 0:a.data,k,n),p=!0)}Y(this,as)&&(h=Y(this,as),x=Y(this,Vc),m=Date.now(),y="error");const j=f.fetchStatus==="fetching",g=y==="pending",v=y==="error",N=g&&j,w=x!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:g,isSuccess:y==="success",isError:v,isInitialLoading:N,isLoading:N,data:x,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!g,isLoadingError:v&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:v&&w,isStale:a1(t,n),refetch:this.refetch,promise:Y(this,La)};if(this.options.experimental_prefetchInRender){const k=A=>{E.status==="error"?A.reject(E.error):E.data!==void 0&&A.resolve(E.data)},R=()=>{const A=Ie(this,La,E.promise=Mb());k(A)},P=Y(this,La);switch(P.status){case"pending":t.queryHash===i.queryHash&&k(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&R();break}}return E}updateResult(t){const n=Y(this,ur),i=this.createResult(Y(this,Et),this.options);if(Ie(this,Zo,Y(this,Et).state),Ie(this,Uc,this.options),Y(this,Zo).data!==void 0&&Ie(this,Wc,Y(this,Et)),Gh(i,n))return;Ie(this,ur,i);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Y(this,Hc).size)return!0;const c=new Set(l??Y(this,Hc));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,ur)).some(d=>{const u=d;return Y(this,ur)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),vt(this,It,mR).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,It,Fb).call(this)}},Sr=new WeakMap,Et=new WeakMap,kp=new WeakMap,ur=new WeakMap,Zo=new WeakMap,Uc=new WeakMap,La=new WeakMap,as=new WeakMap,Ap=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,Jo=new WeakMap,el=new WeakMap,Fa=new WeakMap,Hc=new WeakMap,It=new WeakSet,Mu=function(t){vt(this,It,Bb).call(this);let n=Y(this,Et).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ri)),n},$b=function(){vt(this,It,qb).call(this);const t=Nc(this.options.staleTime,Y(this,Et));if(xl||Y(this,ur).isStale||!Ob(t))return;const i=sR(Y(this,ur).dataUpdatedAt,t)+1;Ie(this,Jo,setTimeout(()=>{Y(this,ur).isStale||this.updateResult()},i))},Db=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Et)):this.options.refetchInterval)??!1},Lb=function(t){vt(this,It,zb).call(this),Ie(this,Fa,t),!(xl||Ai(this.options.enabled,Y(this,Et))===!1||!Ob(Y(this,Fa))||Y(this,Fa)===0)&&Ie(this,el,setInterval(()=>{(this.options.refetchIntervalInBackground||s1.isFocused())&&vt(this,It,Mu).call(this)},Y(this,Fa)))},Fb=function(){vt(this,It,$b).call(this),vt(this,It,Lb).call(this,vt(this,It,Db).call(this))},qb=function(){Y(this,Jo)&&(clearTimeout(Y(this,Jo)),Ie(this,Jo,void 0))},zb=function(){Y(this,el)&&(clearInterval(Y(this,el)),Ie(this,el,void 0))},Bb=function(){const t=Y(this,Sr).getQueryCache().build(Y(this,Sr),this.options);if(t===Y(this,Et))return;const n=Y(this,Et);Ie(this,Et,t),Ie(this,kp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},mR=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Y(this,ur))}),Y(this,Sr).getQueryCache().notify({query:Y(this,Et),type:"observerResultsUpdated"})})},PT);function OB(e,t){return Ai(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function FE(e,t){return OB(e,t)||e.state.data!==void 0&&Ub(e,t,t.refetchOnMount)}function Ub(e,t,n){if(Ai(t.enabled,e)!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&a1(e,t)}return!1}function qE(e,t,n,i){return(e!==t||Ai(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&a1(e,n)}function a1(e,t){return Ai(t.enabled,e)!==!1&&e.isStaleByTime(Nc(t.staleTime,e))}function IB(e,t){return!Gh(e.getCurrentResult(),t)}var qa,za,Cr,Fs,Js,ph,Vb,TT,RB=(TT=class extends zd{constructor(n,i){super();rt(this,Js);rt(this,qa);rt(this,za);rt(this,Cr);rt(this,Fs);Ie(this,qa,n),this.setOptions(i),this.bindMethods(),vt(this,Js,ph).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const i=this.options;this.options=Y(this,qa).defaultMutationOptions(n),Gh(this.options,i)||Y(this,qa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Cr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&vl(i.mutationKey)!==vl(this.options.mutationKey)?this.reset():((s=Y(this,Cr))==null?void 0:s.state.status)==="pending"&&Y(this,Cr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,Cr))==null||n.removeObserver(this)}onMutationUpdate(n){vt(this,Js,ph).call(this),vt(this,Js,Vb).call(this,n)}getCurrentResult(){return Y(this,za)}reset(){var n;(n=Y(this,Cr))==null||n.removeObserver(this),Ie(this,Cr,void 0),vt(this,Js,ph).call(this),vt(this,Js,Vb).call(this)}mutate(n,i){var s;return Ie(this,Fs,i),(s=Y(this,Cr))==null||s.removeObserver(this),Ie(this,Cr,Y(this,qa).getMutationCache().build(Y(this,qa),this.options)),Y(this,Cr).addObserver(this),Y(this,Cr).execute(n)}},qa=new WeakMap,za=new WeakMap,Cr=new WeakMap,Fs=new WeakMap,Js=new WeakSet,ph=function(){var i;const n=((i=Y(this,Cr))==null?void 0:i.state)??pR();Ie(this,za,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Vb=function(n){_n.batch(()=>{var i,s,a,o,l,c,d,u;if(Y(this,Fs)&&this.hasListeners()){const f=Y(this,za).variables,p=Y(this,za).context;(n==null?void 0:n.type)==="success"?((s=(i=Y(this,Fs)).onSuccess)==null||s.call(i,n.data,f,p),(o=(a=Y(this,Fs)).onSettled)==null||o.call(a,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(l=Y(this,Fs)).onError)==null||c.call(l,n.error,f,p),(u=(d=Y(this,Fs)).onSettled)==null||u.call(d,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(Y(this,za))})})},TT),hR=b.createContext(void 0),wr=e=>{const t=b.useContext(hR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MB=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(hR.Provider,{value:e,children:t})),xR=b.createContext(!1),$B=()=>b.useContext(xR);xR.Provider;function DB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LB=b.createContext(DB()),FB=()=>b.useContext(LB);function vR(e,t){return typeof e=="function"?e(...t):!!e}function Wb(){}var qB=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zB=e=>{b.useEffect(()=>{e.clearReset()},[e])},BB=({result:e,errorResetBoundary:t,throwOnError:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&vR(n,[e.error,i]),UB=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},VB=(e,t)=>e.isLoading&&e.isFetching&&!t,WB=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zE=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function HB(e,t,n){var u,f,p,x,h;const i=wr(),s=$B(),a=FB(),o=i.defaultQueryOptions(e);(f=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",UB(o),qB(o,a),zB(a);const l=!i.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new t(i,o)),d=c.getOptimisticResult(o);if(b.useSyncExternalStore(b.useCallback(m=>{const y=s?Wb:c.subscribe(_n.batchCalls(m));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),WB(o,d))throw zE(o,c,a);if(BB({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw d.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,d),o.experimental_prefetchInRender&&!xl&&VB(d,s)){const m=l?zE(o,c,a):(h=i.getQueryCache().get(o.queryHash))==null?void 0:h.promise;m==null||m.catch(Wb).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ce(e,t){return HB(e,TB)}function Ke(e,t){const n=wr(),[i]=b.useState(()=>new RB(n,e));b.useEffect(()=>{i.setOptions(e)},[i,e]);const s=b.useSyncExternalStore(b.useCallback(o=>i.subscribe(_n.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=b.useCallback((o,l)=>{i.mutate(o,l).catch(Wb)},[i]);if(s.error&&vR(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function gR(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function st(e,t){const{method:n="GET",body:i,headers:s={}}=t||{};console.log(`[API Request] ${n} ${e}`);const a=await fetch(e,{method:n,headers:i?{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache",...s}:{Accept:"application/json",...s},body:i,credentials:"include"});console.log(`[API Response] ${a.status} ${a.statusText}`);const o=a.headers.get("content-type");return o&&o.includes("text/html")&&a.status===200&&(console.warn(`[API Request] Detected Vite HTML interference for ${e}`),e.includes("/api/evidence-library/")&&n==="PUT")?(console.log("[API Request] Evidence Library update appears successful despite HTML response"),new Response(JSON.stringify({success:!0,message:"Update successful"}),{status:200,headers:{"Content-Type":"application/json"}})):(await gR(a),a)}const GB=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await gR(n),await n.json())},wt=new PB({defaultOptions:{queries:{queryFn:GB({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,gcTime:0,retry:!1},mutations:{retry:!1}}}),KB=1,YB=1e6;let Fy=0;function QB(){return Fy=(Fy+1)%Number.MAX_SAFE_INTEGER,Fy.toString()}const qy=new Map,BE=e=>{if(qy.has(e))return;const t=setTimeout(()=>{qy.delete(e),Yu({type:"REMOVE_TOAST",toastId:e})},YB);qy.set(e,t)},XB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,KB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?BE(n):e.toasts.forEach(i=>{BE(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},mh=[];let hh={toasts:[]};function Yu(e){hh=XB(hh,e),mh.forEach(t=>{t(hh)})}function yR({...e}){const t=QB(),n=s=>Yu({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Yu({type:"DISMISS_TOAST",toastId:t});return Yu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:n}}function Mt(){const[e,t]=b.useState(hh);return b.useEffect(()=>(mh.push(t),()=>{const n=mh.indexOf(t);n>-1&&mh.splice(n,1)}),[e]),{...e,toast:yR,dismiss:n=>Yu({type:"DISMISS_TOAST",toastId:n})}}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function UE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $v(...e){return t=>{let n=!1;const i=e.map(s=>{const a=UE(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():UE(e[s],null)}}}}function jt(...e){return b.useCallback($v(...e),e)}function ZB(e,t){const n=b.createContext(t),i=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};i.displayName=e+"Provider";function s(a){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[i,s]}function Nr(e,t=[]){let n=[];function i(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];const d=f=>{var j;const{scope:p,children:x,...h}=f,m=((j=p==null?void 0:p[e])==null?void 0:j[c])||l,y=b.useMemo(()=>h,Object.values(h));return r.jsx(m.Provider,{value:y,children:x})};d.displayName=a+"Provider";function u(f,p){var m;const x=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,h=b.useContext(x);if(h)return h;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const s=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[i,JB(s,...t)]}function JB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ed(e){const t=eU(e),n=b.forwardRef((i,s)=>{const{children:a,...o}=i,l=b.Children.toArray(a),c=l.find(nU);if(c){const d=c.props.children,u=l.map(f=>f===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var bR=ed("Slot");function eU(e){const t=b.forwardRef((n,i)=>{const{children:s,...a}=n;if(b.isValidElement(s)){const o=iU(s),l=rU(a,s.props);return s.type!==b.Fragment&&(l.ref=i?$v(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jR=Symbol("radix.slottable");function tU(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jR,t}function nU(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jR}function rU(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{a(...l),s(...l)}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function iU(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function o1(e){const t=e+"CollectionProvider",[n,i]=Nr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:j}=m,g=q.useRef(null),v=q.useRef(new Map).current;return r.jsx(s,{scope:y,itemMap:v,collectionRef:g,children:j})};o.displayName=t;const l=e+"CollectionSlot",c=ed(l),d=q.forwardRef((m,y)=>{const{scope:j,children:g}=m,v=a(l,j),N=jt(y,v.collectionRef);return r.jsx(c,{ref:N,children:g})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=ed(u),x=q.forwardRef((m,y)=>{const{scope:j,children:g,...v}=m,N=q.useRef(null),w=jt(y,N),S=a(u,j);return q.useEffect(()=>(S.itemMap.set(N,{ref:N,...v}),()=>void S.itemMap.delete(N))),r.jsx(p,{[f]:"",ref:w,children:g})});x.displayName=u;function h(m){const y=a(e+"CollectionConsumer",m);return q.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,E)=>v.indexOf(S.ref.current)-v.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},h,i]}var sU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=sU.reduce((e,t)=>{const n=ed(`Primitive.${t}`),i=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function wR(e,t){e&&Tl.flushSync(()=>e.dispatchEvent(t))}function bn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function aU(e,t=globalThis==null?void 0:globalThis.document){const n=bn(e);b.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var oU="DismissableLayer",Hb="dismissableLayer.update",lU="dismissableLayer.pointerDownOutside",cU="dismissableLayer.focusOutside",VE,NR=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$p=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=b.useContext(NR),[u,f]=b.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=b.useState({}),h=jt(t,E=>f(E)),m=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=m.indexOf(y),g=u?m.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,N=g>=j,w=uU(E=>{const C=E.target,k=[...d.branches].some(R=>R.contains(C));!N||k||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),S=fU(E=>{const C=E.target;[...d.branches].some(R=>R.contains(C))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return aU(E=>{g===d.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),b.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(VE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),WE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=VE)}},[u,p,n,d]),b.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),WE())},[u,d]),b.useEffect(()=>{const E=()=>x({});return document.addEventListener(Hb,E),()=>document.removeEventListener(Hb,E)},[]),r.jsx(nt.div,{...c,ref:h,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,S.onFocusCapture),onBlurCapture:We(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,w.onPointerDownCapture)})});$p.displayName=oU;var dU="DismissableLayerBranch",SR=b.forwardRef((e,t)=>{const n=b.useContext(NR),i=b.useRef(null),s=jt(t,i);return b.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(nt.div,{...e,ref:s})});SR.displayName=dU;function uU(e,t=globalThis==null?void 0:globalThis.document){const n=bn(e),i=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!i.current){let c=function(){CR(lU,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function fU(e,t=globalThis==null?void 0:globalThis.document){const n=bn(e),i=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!i.current&&CR(cU,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function WE(){const e=new CustomEvent(Hb);document.dispatchEvent(e)}function CR(e,t,n,{discrete:i}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?wR(s,a):s.dispatchEvent(a)}var pU=$p,mU=SR,wn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},hU="Portal",Dv=b.forwardRef((e,t)=>{var l;const{container:n,...i}=e,[s,a]=b.useState(!1);wn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?H8.createPortal(r.jsx(nt.div,{...i,ref:t}),o):null});Dv.displayName=hU;function xU(e,t){return b.useReducer((n,i)=>t[n][i]??n,e)}var Zr=e=>{const{present:t,children:n}=e,i=vU(t),s=typeof n=="function"?n({present:i.isPresent}):b.Children.only(n),a=jt(i.ref,gU(s));return typeof n=="function"||i.isPresent?b.cloneElement(s,{ref:a}):null};Zr.displayName="Presence";function vU(e){const[t,n]=b.useState(),i=b.useRef({}),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Sm(i.current);a.current=l==="mounted"?d:"none"},[l]),wn(()=>{const d=i.current,u=s.current;if(u!==e){const p=a.current,x=Sm(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=x=>{const m=Sm(i.current).includes(x.animationName);if(x.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=x=>{x.target===t&&(a.current=Sm(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function Sm(e){return(e==null?void 0:e.animationName)||"none"}function gU(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ys({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=yU({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:i,l=bn(n),c=b.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[a,e,s,l]);return[o,c]}function yU({defaultProp:e,onChange:t}){const n=b.useState(e),[i]=n,s=b.useRef(i),a=bn(t);return b.useEffect(()=>{s.current!==i&&(a(i),s.current=i)},[i,s,a]),n}var bU="VisuallyHidden",Dp=b.forwardRef((e,t)=>r.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Dp.displayName=bU;var jU=Dp,l1="ToastProvider",[c1,wU,NU]=o1("Toast"),[ER,HCe]=Nr("Toast",[NU]),[SU,Lv]=ER(l1),kR=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[d,u]=b.useState(0),f=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${l1}\`. Expected non-empty \`string\`.`),r.jsx(c1.Provider,{scope:t,children:r.jsx(SU,{scope:t,label:n,duration:i,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>u(x=>x+1),[]),onToastRemove:b.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};kR.displayName=l1;var AR="ToastViewport",CU=["F8"],Gb="toast.viewportPause",Kb="toast.viewportResume",_R=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=CU,label:s="Notifications ({hotkey})",...a}=e,o=Lv(AR,n),l=wU(n),c=b.useRef(null),d=b.useRef(null),u=b.useRef(null),f=b.useRef(null),p=jt(t,f,o.onViewportChange),x=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=o.toastCount>0;b.useEffect(()=>{const y=j=>{var v;i.length!==0&&i.every(N=>j[N]||j.code===N)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]),b.useEffect(()=>{const y=c.current,j=f.current;if(h&&y&&j){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Gb);j.dispatchEvent(S),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Kb);j.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!y.contains(S.relatedTarget)&&v()},w=()=>{y.contains(document.activeElement)||v()};return y.addEventListener("focusin",g),y.addEventListener("focusout",N),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",w),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[h,o.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:y})=>{const g=l().map(v=>{const N=v.ref.current,w=[N,...LU(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return b.useEffect(()=>{const y=f.current;if(y){const j=g=>{var w,S,E;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const C=document.activeElement,k=g.shiftKey;if(g.target===y&&k){(w=d.current)==null||w.focus();return}const A=m({tabbingDirection:k?"backwards":"forwards"}),_=A.findIndex(O=>O===C);zy(A.slice(_+1))?g.preventDefault():k?(S=d.current)==null||S.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",j),()=>y.removeEventListener("keydown",j)}},[l,m]),r.jsxs(mU,{ref:c,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&r.jsx(Yb,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});zy(y)}}),r.jsx(c1.Slot,{scope:n,children:r.jsx(nt.ol,{tabIndex:-1,...a,ref:p})}),h&&r.jsx(Yb,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});zy(y)}})]})});_R.displayName=AR;var PR="ToastFocusProxy",Yb=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...s}=e,a=Lv(PR,n);return r.jsx(Dp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&i()}})});Yb.displayName=PR;var Fv="Toast",EU="toast.swipeStart",kU="toast.swipeMove",AU="toast.swipeCancel",_U="toast.swipeEnd",TR=b.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=ys({prop:i,defaultProp:s,onChange:a});return r.jsx(Zr,{present:n||l,children:r.jsx(OU,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:bn(e.onPause),onResume:bn(e.onResume),onSwipeStart:We(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:We(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:We(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:We(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});TR.displayName=Fv;var[PU,TU]=ER(Fv,{onClose(){}}),OU=b.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:x,...h}=e,m=Lv(Fv,n),[y,j]=b.useState(null),g=jt(t,O=>j(O)),v=b.useRef(null),N=b.useRef(null),w=s||m.duration,S=b.useRef(0),E=b.useRef(w),C=b.useRef(0),{onToastAdd:k,onToastRemove:R}=m,P=bn(()=>{var D;(y==null?void 0:y.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),o()}),A=b.useCallback(O=>{!O||O===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(P,O))},[P]);b.useEffect(()=>{const O=m.viewport;if(O){const D=()=>{A(E.current),d==null||d()},M=()=>{const G=new Date().getTime()-S.current;E.current=E.current-G,window.clearTimeout(C.current),c==null||c()};return O.addEventListener(Gb,M),O.addEventListener(Kb,D),()=>{O.removeEventListener(Gb,M),O.removeEventListener(Kb,D)}}},[m.viewport,w,c,d,A]),b.useEffect(()=>{a&&!m.isClosePausedRef.current&&A(w)},[a,w,m.isClosePausedRef,A]),b.useEffect(()=>(k(),()=>R()),[k,R]);const _=b.useMemo(()=>y?LR(y):null,[y]);return m.viewport?r.jsxs(r.Fragment,{children:[_&&r.jsx(IU,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:_}),r.jsx(PU,{scope:n,onClose:P,children:Tl.createPortal(r.jsx(c1.ItemSlot,{scope:n,children:r.jsx(pU,{asChild:!0,onEscapeKeyDown:We(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...h,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:We(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:We(e.onPointerDown,O=>{O.button===0&&(v.current={x:O.clientX,y:O.clientY})}),onPointerMove:We(e.onPointerMove,O=>{if(!v.current)return;const D=O.clientX-v.current.x,M=O.clientY-v.current.y,G=!!N.current,z=["left","right"].includes(m.swipeDirection),I=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,U=z?I(0,D):0,Z=z?0:I(0,M),$=O.pointerType==="touch"?10:2,ie={x:U,y:Z},ne={originalEvent:O,delta:ie};G?(N.current=ie,Cm(kU,f,ne,{discrete:!1})):HE(ie,m.swipeDirection,$)?(N.current=ie,Cm(EU,u,ne,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(D)>$||Math.abs(M)>$)&&(v.current=null)}),onPointerUp:We(e.onPointerUp,O=>{const D=N.current,M=O.target;if(M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),N.current=null,v.current=null,D){const G=O.currentTarget,z={originalEvent:O,delta:D};HE(D,m.swipeDirection,m.swipeThreshold)?Cm(_U,x,z,{discrete:!0}):Cm(AU,p,z,{discrete:!0}),G.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),IU=e=>{const{__scopeToast:t,children:n,...i}=e,s=Lv(Fv,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return $U(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Dv,{asChild:!0,children:r.jsx(Dp,{...i,children:a&&r.jsxs(r.Fragment,{children:[s.label," ",n]})})})},RU="ToastTitle",OR=b.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(nt.div,{...i,ref:t})});OR.displayName=RU;var MU="ToastDescription",IR=b.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(nt.div,{...i,ref:t})});IR.displayName=MU;var RR="ToastAction",MR=b.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?r.jsx(DR,{altText:n,asChild:!0,children:r.jsx(d1,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${RR}\`. Expected non-empty \`string\`.`),null)});MR.displayName=RR;var $R="ToastClose",d1=b.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,s=TU($R,n);return r.jsx(DR,{asChild:!0,children:r.jsx(nt.button,{type:"button",...i,ref:t,onClick:We(e.onClick,s.onClose)})})});d1.displayName=$R;var DR=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...s}=e;return r.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function LR(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),DU(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=i.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...LR(i))}}),t}function Cm(e,t,n,{discrete:i}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?wR(s,a):s.dispatchEvent(a)}var HE=(e,t,n=0)=>{const i=Math.abs(e.x),s=Math.abs(e.y),a=i>s;return t==="left"||t==="right"?a&&i>n:!a&&s>n};function $U(e=()=>{}){const t=bn(e);wn(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function DU(e){return e.nodeType===e.ELEMENT_NODE}function LU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zy(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var FU=kR,FR=_R,qR=TR,zR=OR,BR=IR,UR=MR,VR=d1;function WR(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=WR(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function gt(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=WR(e))&&(i&&(i+=" "),i+=t);return i}const GE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KE=gt,Lp=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return KE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],f=a==null?void 0:a[d];if(u===null)return null;const p=GE(u)||GE(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,u)=>{let{class:f,className:p,...x}=u;return Object.entries(x).every(h=>{let[m,y]=h;return Array.isArray(y)?y.includes({...a,...l}[m]):{...a,...l}[m]===y})?[...d,f,p]:d},[]);return KE(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HR=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...zU,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:HR("lucide",s),...l},[...o.map(([d,u])=>b.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=b.forwardRef(({className:i,...s},a)=>b.createElement(BU,{ref:a,iconNode:t,className:HR(`lucide-${qU(e)}`,i),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=be("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=be("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=be("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=be("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=be("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=be("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=be("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=be("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=be("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=be("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=be("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=be("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=be("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=be("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),m1="-",uV=e=>{const t=pV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:o=>{const l=o.split(m1);return l[0]===""&&l.length!==1&&l.shift(),oM(l,t)||fV(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},oM=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?oM(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(m1);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},tk=/^\[(.+)\]$/,fV=e=>{if(tk.test(e)){const t=tk.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pV=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return hV(Object.entries(e.classGroups),n).forEach(([a,o])=>{tj(o,i,a,t)}),i},tj=(e,t,n,i)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:nk(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(mV(s)){tj(s(i),t,n,i);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{tj(o,nk(t,a),n,i)})})},nk=(e,t)=>{let n=e;return t.split(m1).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},mV=e=>e.isThemeGetter,hV=(e,t)=>t?e.map(([n,i])=>{const s=i.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,xV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,i=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=i.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},lM="!",vV=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let j=l[y];if(d===0){if(j===s&&(i||l.slice(y,y+a)===t)){c.push(l.slice(u,y)),u=y+a;continue}if(j==="/"){f=y;continue}}j==="["?d++:j==="]"&&d--}const p=c.length===0?l:l.substring(u),x=p.startsWith(lM),h=x?p.substring(1):p,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:h,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},gV=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},yV=e=>({cache:xV(e.cacheSize),parseClassName:vV(e),...uV(e)}),bV=/\s+/,jV=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(bV);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:x}=n(d);let h=!!x,m=i(h?p.substring(0,x):p);if(!m){if(!h){l=d+(l.length>0?" "+l:l);continue}if(m=i(p),!m){l=d+(l.length>0?" "+l:l);continue}h=!1}const y=gV(u).join(":"),j=f?y+lM:y,g=j+m;if(a.includes(g))continue;a.push(g);const v=s(m,h);for(let N=0;N<v.length;++N){const w=v[N];a.push(j+w)}l=d+(l.length>0?" "+l:l)}return l};function wV(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=cM(t))&&(i&&(i+=" "),i+=n);return i}const cM=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=cM(e[i]))&&(n&&(n+=" "),n+=t);return n};function NV(e,...t){let n,i,s,a=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=yV(d),i=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=i(c);if(d)return d;const u=jV(c,n);return s(c,u),u}return function(){return a(wV.apply(null,arguments))}}const Xt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},dM=/^\[(?:([a-z-]+):)?(.+)\]$/i,SV=/^\d+\/\d+$/,CV=new Set(["px","full","screen"]),EV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_V=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=e=>Cc(e)||CV.has(e)||SV.test(e),ba=e=>Bd(e,"length",LV),Cc=e=>!!e&&!Number.isNaN(Number(e)),Uy=e=>Bd(e,"number",Cc),mu=e=>!!e&&Number.isInteger(Number(e)),TV=e=>e.endsWith("%")&&Cc(e.slice(0,-1)),xt=e=>dM.test(e),ja=e=>EV.test(e),OV=new Set(["length","size","percentage"]),IV=e=>Bd(e,OV,uM),RV=e=>Bd(e,"position",uM),MV=new Set(["image","url"]),$V=e=>Bd(e,MV,qV),DV=e=>Bd(e,"",FV),hu=()=>!0,Bd=(e,t,n)=>{const i=dM.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},LV=e=>kV.test(e)&&!AV.test(e),uM=()=>!1,FV=e=>_V.test(e),qV=e=>PV.test(e),zV=()=>{const e=Xt("colors"),t=Xt("spacing"),n=Xt("blur"),i=Xt("brightness"),s=Xt("borderColor"),a=Xt("borderRadius"),o=Xt("borderSpacing"),l=Xt("borderWidth"),c=Xt("contrast"),d=Xt("grayscale"),u=Xt("hueRotate"),f=Xt("invert"),p=Xt("gap"),x=Xt("gradientColorStops"),h=Xt("gradientColorStopPositions"),m=Xt("inset"),y=Xt("margin"),j=Xt("opacity"),g=Xt("padding"),v=Xt("saturate"),N=Xt("scale"),w=Xt("sepia"),S=Xt("skew"),E=Xt("space"),C=Xt("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",xt,t],A=()=>[xt,t],_=()=>["",Ps,ba],O=()=>["auto",Cc,xt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",xt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Cc,xt];return{cacheSize:500,separator:":",theme:{colors:[hu],spacing:[Ps,ba],blur:["none","",ja,xt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",ja,xt],borderSpacing:A(),borderWidth:_(),contrast:Z(),grayscale:I(),hueRotate:Z(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[TV,ba],inset:P(),margin:P(),opacity:Z(),padding:A(),saturate:Z(),scale:Z(),sepia:I(),skew:Z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[ja]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),xt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mu,xt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",mu,xt]}],"grid-cols":[{"grid-cols":[hu]}],"col-start-end":[{col:["auto",{span:["full",mu,xt]},xt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[hu]}],"row-start-end":[{row:["auto",{span:[mu,xt]},xt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,t]}],"min-w":[{"min-w":[xt,t,"min","max","fit"]}],"max-w":[{"max-w":[xt,t,"none","full","min","max","fit","prose",{screen:[ja]},ja]}],h:[{h:[xt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ja,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uy]}],"font-family":[{font:[hu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",Cc,Uy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,ba]}],"underline-offset":[{"underline-offset":["auto",Ps,xt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),RV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$V]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Ps,xt]}],"outline-w":[{outline:[Ps,ba]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Ps,ba]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ja,DV]}],"shadow-color":[{shadow:[hu]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ja,xt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[mu,xt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ps,ba,Uy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BV=NV(zV);function Xe(...e){return BV(gt(e))}const UV=FU,fM=b.forwardRef(({className:e,...t},n)=>r.jsx(FR,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fM.displayName=FR.displayName;const VV=Lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pM=b.forwardRef(({className:e,variant:t,...n},i)=>r.jsx(qR,{ref:i,className:Xe(VV({variant:t}),e),...n}));pM.displayName=qR.displayName;const WV=b.forwardRef(({className:e,...t},n)=>r.jsx(UR,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));WV.displayName=UR.displayName;const mM=b.forwardRef(({className:e,...t},n)=>r.jsx(VR,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(sa,{className:"h-4 w-4"})}));mM.displayName=VR.displayName;const hM=b.forwardRef(({className:e,...t},n)=>r.jsx(zR,{ref:n,className:Xe("text-sm font-semibold",e),...t}));hM.displayName=zR.displayName;const xM=b.forwardRef(({className:e,...t},n)=>r.jsx(BR,{ref:n,className:Xe("text-sm opacity-90",e),...t}));xM.displayName=BR.displayName;function HV(){const{toasts:e}=Mt();return r.jsxs(UV,{children:[e.map(function({id:t,title:n,description:i,action:s,...a}){return r.jsxs(pM,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(hM,{children:n}),i&&r.jsx(xM,{children:i})]}),s,r.jsx(mM,{})]},t)}),r.jsx(fM,{})]})}var GV=sN[" useId ".trim().toString()]||(()=>{}),KV=0;function ms(e){const[t,n]=b.useState(GV());return wn(()=>{e||n(i=>i??String(KV++))},[e]),e||(t?`radix-${t}`:"")}const YV=["top","right","bottom","left"],oo=Math.min,zr=Math.max,Yh=Math.round,Em=Math.floor,hs=e=>({x:e,y:e}),QV={left:"right",right:"left",bottom:"top",top:"bottom"},XV={start:"end",end:"start"};function nj(e,t,n){return zr(e,oo(t,n))}function aa(e,t){return typeof e=="function"?e(t):e}function oa(e){return e.split("-")[0]}function Ud(e){return e.split("-")[1]}function h1(e){return e==="x"?"y":"x"}function x1(e){return e==="y"?"height":"width"}function lo(e){return["top","bottom"].includes(oa(e))?"y":"x"}function v1(e){return h1(lo(e))}function ZV(e,t,n){n===void 0&&(n=!1);const i=Ud(e),s=v1(e),a=x1(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Qh(o)),[o,Qh(o)]}function JV(e){const t=Qh(e);return[rj(e),t,rj(t)]}function rj(e){return e.replace(/start|end/g,t=>XV[t])}function eW(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:o;default:return[]}}function tW(e,t,n,i){const s=Ud(e);let a=eW(oa(e),n==="start",i);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(rj)))),a}function Qh(e){return e.replace(/left|right|bottom|top/g,t=>QV[t])}function nW(e){return{top:0,right:0,bottom:0,left:0,...e}}function vM(e){return typeof e!="number"?nW(e):{top:e,right:e,bottom:e,left:e}}function Xh(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function rk(e,t,n){let{reference:i,floating:s}=e;const a=lo(t),o=v1(t),l=x1(o),c=oa(t),d=a==="y",u=i.x+i.width/2-s.width/2,f=i.y+i.height/2-s.height/2,p=i[l]/2-s[l]/2;let x;switch(c){case"top":x={x:u,y:i.y-s.height};break;case"bottom":x={x:u,y:i.y+i.height};break;case"right":x={x:i.x+i.width,y:f};break;case"left":x={x:i.x-s.width,y:f};break;default:x={x:i.x,y:i.y}}switch(Ud(t)){case"start":x[o]-=p*(n&&d?-1:1);break;case"end":x[o]+=p*(n&&d?-1:1);break}return x}const rW=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=rk(d,i,c),p=i,x={},h=0;for(let m=0;m<l.length;m++){const{name:y,fn:j}=l[m],{x:g,y:v,data:N,reset:w}=await j({x:u,y:f,initialPlacement:i,placement:p,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});u=g??u,f=v??f,x={...x,[y]:{...x[y],...N}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:f}=rk(d,p,c)),m=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:x}};async function Ef(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:x=0}=aa(t,e),h=vM(x),y=l[p?f==="floating"?"reference":"floating":f],j=Xh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),g=f==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},w=Xh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(j.top-w.top+h.top)/N.y,bottom:(w.bottom-j.bottom+h.bottom)/N.y,left:(j.left-w.left+h.left)/N.x,right:(w.right-j.right+h.right)/N.x}}const iW=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=aa(e,t)||{};if(d==null)return{};const f=vM(u),p={x:n,y:i},x=v1(s),h=x1(x),m=await o.getDimensions(d),y=x==="y",j=y?"top":"left",g=y?"bottom":"right",v=y?"clientHeight":"clientWidth",N=a.reference[h]+a.reference[x]-p[x]-a.floating[h],w=p[x]-a.reference[x],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=S?S[v]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[v]||a.floating[h]);const C=N/2-w/2,k=E/2-m[h]/2-1,R=oo(f[j],k),P=oo(f[g],k),A=R,_=E-m[h]-P,O=E/2-m[h]/2+C,D=nj(A,O,_),M=!c.arrow&&Ud(s)!=null&&O!==D&&a.reference[h]/2-(O<A?R:P)-m[h]/2<0,G=M?O<A?O-A:O-_:0;return{[x]:p[x]+G,data:{[x]:D,centerOffset:O-D-G,...M&&{alignmentOffset:G}},reset:M}}}),sW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...y}=aa(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=oa(s),g=lo(l),v=oa(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=p||(v||!m?[Qh(l)]:JV(l)),S=h!=="none";!p&&S&&w.push(...tW(l,m,h,N));const E=[l,...w],C=await Ef(t,y),k=[];let R=((i=a.flip)==null?void 0:i.overflows)||[];if(u&&k.push(C[j]),f){const O=ZV(s,o,N);k.push(C[O[0]],C[O[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(O=>O<=0)){var P,A;const O=(((P=a.flip)==null?void 0:P.index)||0)+1,D=E[O];if(D)return{data:{index:O,overflows:R},reset:{placement:D}};let M=(A=R.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(x){case"bestFit":{var _;const G=(_=R.filter(z=>{if(S){const I=lo(z.placement);return I===g||I==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((z,I)=>z[1]-I[1])[0])==null?void 0:_[0];G&&(M=G);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function ik(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sk(e){return YV.some(t=>e[t]>=0)}const aW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=aa(e,t);switch(i){case"referenceHidden":{const a=await Ef(t,{...s,elementContext:"reference"}),o=ik(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sk(o)}}}case"escaped":{const a=await Ef(t,{...s,altBoundary:!0}),o=ik(a,n.floating);return{data:{escapedOffsets:o,escaped:sk(o)}}}default:return{}}}}};async function oW(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=oa(n),l=Ud(n),c=lo(n)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,f=aa(t,e);let{mainAxis:p,crossAxis:x,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof h=="number"&&(x=l==="end"?h*-1:h),c?{x:x*u,y:p*d}:{x:p*d,y:x*u}}const lW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await oW(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},cW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:j,y:g}=y;return{x:j,y:g}}},...c}=aa(e,t),d={x:n,y:i},u=await Ef(t,c),f=lo(oa(s)),p=h1(f);let x=d[p],h=d[f];if(a){const y=p==="y"?"top":"left",j=p==="y"?"bottom":"right",g=x+u[y],v=x-u[j];x=nj(g,x,v)}if(o){const y=f==="y"?"top":"left",j=f==="y"?"bottom":"right",g=h+u[y],v=h-u[j];h=nj(g,h,v)}const m=l.fn({...t,[p]:x,[f]:h});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[p]:a,[f]:o}}}}}},dW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=aa(e,t),u={x:n,y:i},f=lo(s),p=h1(f);let x=u[p],h=u[f];const m=aa(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const v=p==="y"?"height":"width",N=a.reference[p]-a.floating[v]+y.mainAxis,w=a.reference[p]+a.reference[v]-y.mainAxis;x<N?x=N:x>w&&(x=w)}if(d){var j,g;const v=p==="y"?"width":"height",N=["top","left"].includes(oa(s)),w=a.reference[f]-a.floating[v]+(N&&((j=o.offset)==null?void 0:j[f])||0)+(N?0:y.crossAxis),S=a.reference[f]+a.reference[v]+(N?0:((g=o.offset)==null?void 0:g[f])||0)-(N?y.crossAxis:0);h<w?h=w:h>S&&(h=S)}return{[p]:x,[f]:h}}}},uW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=aa(e,t),u=await Ef(t,d),f=oa(s),p=Ud(s),x=lo(s)==="y",{width:h,height:m}=a.floating;let y,j;f==="top"||f==="bottom"?(y=f,j=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,y=p==="end"?"top":"bottom");const g=m-u.top-u.bottom,v=h-u.left-u.right,N=oo(m-u[y],g),w=oo(h-u[j],v),S=!t.middlewareData.shift;let E=N,C=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=v),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(E=g),S&&!p){const R=zr(u.left,0),P=zr(u.right,0),A=zr(u.top,0),_=zr(u.bottom,0);x?C=h-2*(R!==0||P!==0?R+P:zr(u.left,u.right)):E=m-2*(A!==0||_!==0?A+_:zr(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:E});const k=await o.getDimensions(l.floating);return h!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function Bv(){return typeof window<"u"}function Vd(e){return gM(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cs(e){var t;return(t=(gM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gM(e){return Bv()?e instanceof Node||e instanceof Hr(e).Node:!1}function Gi(e){return Bv()?e instanceof Element||e instanceof Hr(e).Element:!1}function js(e){return Bv()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function ak(e){return!Bv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}function Bp(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Ki(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function fW(e){return["table","td","th"].includes(Vd(e))}function Uv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function g1(e){const t=y1(),n=Gi(e)?Ki(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function pW(e){let t=co(e);for(;js(t)&&!rd(t);){if(g1(t))return t;if(Uv(t))return null;t=co(t)}return null}function y1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rd(e){return["html","body","#document"].includes(Vd(e))}function Ki(e){return Hr(e).getComputedStyle(e)}function Vv(e){return Gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Vd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ak(e)&&e.host||Cs(e);return ak(t)?t.host:t}function yM(e){const t=co(e);return rd(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&Bp(t)?t:yM(t)}function kf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=yM(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),o=Hr(s);if(a){const l=ij(o);return t.concat(o,o.visualViewport||[],Bp(s)?s:[],l&&n?kf(l):[])}return t.concat(s,kf(s,[],n))}function ij(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bM(e){const t=Ki(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=js(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:i,l=Yh(n)!==a||Yh(i)!==o;return l&&(n=a,i=o),{width:n,height:i,$:l}}function b1(e){return Gi(e)?e:e.contextElement}function Ec(e){const t=b1(e);if(!js(t))return hs(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=bM(t);let o=(a?Yh(n.width):n.width)/i,l=(a?Yh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mW=hs(0);function jM(e){const t=Hr(e);return!y1()||!t.visualViewport?mW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hW(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Hr(e)?!1:t}function gl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=b1(e);let o=hs(1);t&&(i?Gi(i)&&(o=Ec(i)):o=Ec(e));const l=hW(a,n,i)?jM(a):hs(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(a){const p=Hr(a),x=i&&Gi(i)?Hr(i):i;let h=p,m=ij(h);for(;m&&i&&x!==h;){const y=Ec(m),j=m.getBoundingClientRect(),g=Ki(m),v=j.left+(m.clientLeft+parseFloat(g.paddingLeft))*y.x,N=j.top+(m.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=v,d+=N,h=Hr(m),m=ij(h)}}return Xh({width:u,height:f,x:c,y:d})}function j1(e,t){const n=Vv(e).scrollLeft;return t?t.left+n:gl(Cs(e)).left+n}function wM(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:j1(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function xW(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",o=Cs(i),l=t?Uv(t.floating):!1;if(i===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=hs(1);const u=hs(0),f=js(i);if((f||!f&&!a)&&((Vd(i)!=="body"||Bp(o))&&(c=Vv(i)),js(i))){const x=gl(i);d=Ec(i),u.x=x.x+i.clientLeft,u.y=x.y+i.clientTop}const p=o&&!f&&!a?wM(o,c,!0):hs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function vW(e){return Array.from(e.getClientRects())}function gW(e){const t=Cs(e),n=Vv(e),i=e.ownerDocument.body,s=zr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=zr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+j1(e);const l=-n.scrollTop;return Ki(i).direction==="rtl"&&(o+=zr(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:o,y:l}}function yW(e,t){const n=Hr(e),i=Cs(e),s=n.visualViewport;let a=i.clientWidth,o=i.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=y1();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function bW(e,t){const n=gl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=js(e)?Ec(e):hs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=i*a.y;return{width:o,height:l,x:c,y:d}}function ok(e,t,n){let i;if(t==="viewport")i=yW(e,n);else if(t==="document")i=gW(Cs(e));else if(Gi(t))i=bW(t,n);else{const s=jM(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Xh(i)}function NM(e,t){const n=co(e);return n===t||!Gi(n)||rd(n)?!1:Ki(n).position==="fixed"||NM(n,t)}function jW(e,t){const n=t.get(e);if(n)return n;let i=kf(e,[],!1).filter(l=>Gi(l)&&Vd(l)!=="body"),s=null;const a=Ki(e).position==="fixed";let o=a?co(e):e;for(;Gi(o)&&!rd(o);){const l=Ki(o),c=g1(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bp(o)&&!c&&NM(e,o))?i=i.filter(u=>u!==o):s=l,o=co(o)}return t.set(e,i),i}function wW(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const o=[...n==="clippingAncestors"?Uv(t)?[]:jW(t,this._c):[].concat(n),i],l=o[0],c=o.reduce((d,u)=>{const f=ok(t,u,s);return d.top=zr(f.top,d.top),d.right=oo(f.right,d.right),d.bottom=oo(f.bottom,d.bottom),d.left=zr(f.left,d.left),d},ok(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NW(e){const{width:t,height:n}=bM(e);return{width:t,height:n}}function SW(e,t,n){const i=js(t),s=Cs(t),a=n==="fixed",o=gl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=hs(0);if(i||!i&&!a)if((Vd(t)!=="body"||Bp(s))&&(l=Vv(t)),i){const p=gl(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=j1(s));const d=s&&!i&&!a?wM(s,l):hs(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function Vy(e){return Ki(e).position==="static"}function lk(e,t){if(!js(e)||Ki(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cs(e)===n&&(n=n.ownerDocument.body),n}function SM(e,t){const n=Hr(e);if(Uv(e))return n;if(!js(e)){let s=co(e);for(;s&&!rd(s);){if(Gi(s)&&!Vy(s))return s;s=co(s)}return n}let i=lk(e,t);for(;i&&fW(i)&&Vy(i);)i=lk(i,t);return i&&rd(i)&&Vy(i)&&!g1(i)?n:i||pW(e)||n}const CW=async function(e){const t=this.getOffsetParent||SM,n=this.getDimensions,i=await n(e.floating);return{reference:SW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function EW(e){return Ki(e).direction==="rtl"}const kW={convertOffsetParentRelativeRectToViewportRelativeRect:xW,getDocumentElement:Cs,getClippingRect:wW,getOffsetParent:SM,getElementRects:CW,getClientRects:vW,getDimensions:NW,getScale:Ec,isElement:Gi,isRTL:EW};function CM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function AW(e,t){let n=null,i;const s=Cs(e);function a(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:x}=d;if(l||t(),!p||!x)return;const h=Em(f),m=Em(s.clientWidth-(u+p)),y=Em(s.clientHeight-(f+x)),j=Em(u),v={rootMargin:-h+"px "+-m+"px "+-y+"px "+-j+"px",threshold:zr(0,oo(1,c))||1};let N=!0;function w(S){const E=S[0].intersectionRatio;if(E!==c){if(!N)return o();E?o(!1,E):i=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!CM(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),a}function _W(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,d=b1(e),u=s||a?[...d?kf(d):[],...kf(t)]:[];u.forEach(j=>{s&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const f=d&&l?AW(d,n):null;let p=-1,x=null;o&&(x=new ResizeObserver(j=>{let[g]=j;g&&g.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=x)==null||v.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let h,m=c?gl(e):null;c&&y();function y(){const j=gl(e);m&&!CM(m,j)&&n(),m=j,h=requestAnimationFrame(y)}return n(),()=>{var j;u.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(j=x)==null||j.disconnect(),x=null,c&&cancelAnimationFrame(h)}}const PW=lW,TW=cW,OW=sW,IW=uW,RW=aW,ck=iW,MW=dW,$W=(e,t,n)=>{const i=new Map,s={platform:kW,...n},a={...s.platform,_c:i};return rW(e,t,{...s,platform:a})};var xh=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Zh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Zh(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!Zh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function EM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dk(e,t){const n=EM(e);return Math.round(t*n)/n}function Wy(e){const t=b.useRef(e);return xh(()=>{t.current=e}),t}function DW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=b.useState(i);Zh(p,i)||x(i);const[h,m]=b.useState(null),[y,j]=b.useState(null),g=b.useCallback(z=>{z!==S.current&&(S.current=z,m(z))},[]),v=b.useCallback(z=>{z!==E.current&&(E.current=z,j(z))},[]),N=a||h,w=o||y,S=b.useRef(null),E=b.useRef(null),C=b.useRef(u),k=c!=null,R=Wy(c),P=Wy(s),A=Wy(d),_=b.useCallback(()=>{if(!S.current||!E.current)return;const z={placement:t,strategy:n,middleware:p};P.current&&(z.platform=P.current),$W(S.current,E.current,z).then(I=>{const U={...I,isPositioned:A.current!==!1};O.current&&!Zh(C.current,U)&&(C.current=U,Tl.flushSync(()=>{f(U)}))})},[p,t,n,P,A]);xh(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[d]);const O=b.useRef(!1);xh(()=>(O.current=!0,()=>{O.current=!1}),[]),xh(()=>{if(N&&(S.current=N),w&&(E.current=w),N&&w){if(R.current)return R.current(N,w,_);_()}},[N,w,_,R,k]);const D=b.useMemo(()=>({reference:S,floating:E,setReference:g,setFloating:v}),[g,v]),M=b.useMemo(()=>({reference:N,floating:w}),[N,w]),G=b.useMemo(()=>{const z={position:n,left:0,top:0};if(!M.floating)return z;const I=dk(M.floating,u.x),U=dk(M.floating,u.y);return l?{...z,transform:"translate("+I+"px, "+U+"px)",...EM(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:U}},[n,l,M.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:_,refs:D,elements:M,floatingStyles:G}),[u,_,D,M,G])}const LW=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?ck({element:i.current,padding:s}).fn(n):{}:i?ck({element:i,padding:s}).fn(n):{}}}},FW=(e,t)=>({...PW(e),options:[e,t]}),qW=(e,t)=>({...TW(e),options:[e,t]}),zW=(e,t)=>({...MW(e),options:[e,t]}),BW=(e,t)=>({...OW(e),options:[e,t]}),UW=(e,t)=>({...IW(e),options:[e,t]}),VW=(e,t)=>({...RW(e),options:[e,t]}),WW=(e,t)=>({...LW(e),options:[e,t]});var HW="Arrow",kM=b.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...a}=e;return r.jsx(nt.svg,{...a,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});kM.displayName=HW;var GW=kM;function Wv(e){const[t,n]=b.useState(void 0);return wn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var w1="Popper",[AM,Hv]=Nr(w1),[KW,_M]=AM(w1),PM=e=>{const{__scopePopper:t,children:n}=e,[i,s]=b.useState(null);return r.jsx(KW,{scope:t,anchor:i,onAnchorChange:s,children:n})};PM.displayName=w1;var TM="PopperAnchor",OM=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,a=_M(TM,n),o=b.useRef(null),l=jt(t,o);return b.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:r.jsx(nt.div,{...s,ref:l})});OM.displayName=TM;var N1="PopperContent",[YW,QW]=AM(N1),IM=b.forwardRef((e,t)=>{var ue,ke,ce,ve,he,B;const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:h,...m}=e,y=_M(N1,n),[j,g]=b.useState(null),v=jt(t,fe=>g(fe)),[N,w]=b.useState(null),S=Wv(N),E=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,k=i+(a!=="center"?"-"+a:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],A=P.length>0,_={padding:R,boundary:P.filter(ZW),altBoundary:A},{refs:O,floatingStyles:D,placement:M,isPositioned:G,middlewareData:z}=DW({strategy:"fixed",placement:k,whileElementsMounted:(...fe)=>_W(...fe,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[FW({mainAxis:s+C,alignmentAxis:o}),c&&qW({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zW():void 0,..._}),c&&BW({..._}),UW({..._,apply:({elements:fe,rects:pe,availableWidth:Te,availableHeight:Ne})=>{const{width:et,height:at}=pe.reference,Ct=fe.floating.style;Ct.setProperty("--radix-popper-available-width",`${Te}px`),Ct.setProperty("--radix-popper-available-height",`${Ne}px`),Ct.setProperty("--radix-popper-anchor-width",`${et}px`),Ct.setProperty("--radix-popper-anchor-height",`${at}px`)}}),N&&WW({element:N,padding:l}),JW({arrowWidth:E,arrowHeight:C}),p&&VW({strategy:"referenceHidden",..._})]}),[I,U]=$M(M),Z=bn(h);wn(()=>{G&&(Z==null||Z())},[G,Z]);const $=(ue=z.arrow)==null?void 0:ue.x,ie=(ke=z.arrow)==null?void 0:ke.y,ne=((ce=z.arrow)==null?void 0:ce.centerOffset)!==0,[J,se]=b.useState();return wn(()=>{j&&se(window.getComputedStyle(j).zIndex)},[j]),r.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:G?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ve=z.transformOrigin)==null?void 0:ve.x,(he=z.transformOrigin)==null?void 0:he.y].join(" "),...((B=z.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(YW,{scope:n,placedSide:I,onArrowChange:w,arrowX:$,arrowY:ie,shouldHideArrow:ne,children:r.jsx(nt.div,{"data-side":I,"data-align":U,...m,ref:v,style:{...m.style,animation:G?void 0:"none"}})})})});IM.displayName=N1;var RM="PopperArrow",XW={top:"bottom",right:"left",bottom:"top",left:"right"},MM=b.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,a=QW(RM,i),o=XW[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(GW,{...s,ref:n,style:{...s.style,display:"block"}})})});MM.displayName=RM;function ZW(e){return e!==null}var JW=e=>({name:"transformOrigin",options:e,fn(t){var y,j,g;const{placement:n,rects:i,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=$M(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((j=s.arrow)==null?void 0:j.x)??0)+l/2,x=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let h="",m="";return d==="bottom"?(h=o?f:`${p}px`,m=`${-c}px`):d==="top"?(h=o?f:`${p}px`,m=`${i.floating.height+c}px`):d==="right"?(h=`${-c}px`,m=o?f:`${x}px`):d==="left"&&(h=`${i.floating.width+c}px`,m=o?f:`${x}px`),{data:{x:h,y:m}}}});function $M(e){const[t,n="center"]=e.split("-");return[t,n]}var DM=PM,LM=OM,FM=IM,qM=MM,[Gv,GCe]=Nr("Tooltip",[Hv]),Kv=Hv(),zM="TooltipProvider",eH=700,sj="tooltip.open",[tH,S1]=Gv(zM),BM=e=>{const{__scopeTooltip:t,delayDuration:n=eH,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:a}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(tH,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};BM.displayName=zM;var Yv="Tooltip",[nH,Qv]=Gv(Yv),UM=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=S1(Yv,e.__scopeTooltip),d=Kv(t),[u,f]=b.useState(null),p=ms(),x=b.useRef(0),h=o??c.disableHoverableContent,m=l??c.delayDuration,y=b.useRef(!1),[j=!1,g]=ys({prop:i,defaultProp:s,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(sj))):c.onClose(),a==null||a(E)}}),v=b.useMemo(()=>j?y.current?"delayed-open":"instant-open":"closed",[j]),N=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,y.current=!1,g(!0)},[g]),w=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,g(!1)},[g]),S=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{y.current=!0,g(!0),x.current=0},m)},[m,g]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),r.jsx(DM,{...d,children:r.jsx(nH,{scope:t,contentId:p,open:j,stateAttribute:v,trigger:u,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:b.useCallback(()=>{h?w():(window.clearTimeout(x.current),x.current=0)},[w,h]),onOpen:N,onClose:w,disableHoverableContent:h,children:n})})};UM.displayName=Yv;var aj="TooltipTrigger",VM=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Qv(aj,n),a=S1(aj,n),o=Kv(n),l=b.useRef(null),c=jt(t,l,s.onTriggerChange),d=b.useRef(!1),u=b.useRef(!1),f=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(LM,{asChild:!0,...o,children:r.jsx(nt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:c,onPointerMove:We(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:We(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:We(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:We(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:We(e.onBlur,s.onClose),onClick:We(e.onClick,s.onClose)})})});VM.displayName=aj;var rH="TooltipPortal",[KCe,iH]=Gv(rH,{forceMount:void 0}),id="TooltipContent",WM=b.forwardRef((e,t)=>{const n=iH(id,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...a}=e,o=Qv(id,e.__scopeTooltip);return r.jsx(Zr,{present:i||o.open,children:o.disableHoverableContent?r.jsx(HM,{side:s,...a,ref:t}):r.jsx(sH,{side:s,...a,ref:t})})}),sH=b.forwardRef((e,t)=>{const n=Qv(id,e.__scopeTooltip),i=S1(id,e.__scopeTooltip),s=b.useRef(null),a=jt(t,s),[o,l]=b.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:f}=i,p=b.useCallback(()=>{l(null),f(!1)},[f]),x=b.useCallback((h,m)=>{const y=h.currentTarget,j={x:h.clientX,y:h.clientY},g=dH(j,y.getBoundingClientRect()),v=uH(j,g),N=fH(m.getBoundingClientRect()),w=mH([...v,...N]);l(w),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(c&&u){const h=y=>x(y,u),m=y=>x(y,c);return c.addEventListener("pointerleave",h),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",h),u.removeEventListener("pointerleave",m)}}},[c,u,x,p]),b.useEffect(()=>{if(o){const h=m=>{const y=m.target,j={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),v=!pH(j,o);g?p():v&&(p(),d())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[c,u,o,d,p]),r.jsx(HM,{...e,ref:a})}),[aH,oH]=Gv(Yv,{isInside:!1}),lH=tU("TooltipContent"),HM=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Qv(id,n),d=Kv(n),{onClose:u}=c;return b.useEffect(()=>(document.addEventListener(sj,u),()=>document.removeEventListener(sj,u)),[u]),b.useEffect(()=>{if(c.trigger){const f=p=>{const x=p.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx($p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(FM,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(lH,{children:i}),r.jsx(aH,{scope:n,isInside:!0,children:r.jsx(jU,{id:c.contentId,role:"tooltip",children:s||i})})]})})});WM.displayName=id;var GM="TooltipArrow",cH=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Kv(n);return oH(GM,n).isInside?null:r.jsx(qM,{...s,...i,ref:t})});cH.displayName=GM;function dH(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,i,s,a)){case a:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function uH(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function fH(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function pH(e,t){const{x:n,y:i}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>i!=u>i&&n<(d-l)*(i-c)/(u-c)+l&&(s=!s)}return s}function mH(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),hH(t)}function hH(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var xH=BM,vH=UM,gH=VM,KM=WM;const YM=xH,yH=vH,bH=gH,QM=b.forwardRef(({className:e,sideOffset:t=4,...n},i)=>r.jsx(KM,{ref:i,sideOffset:t,className:Xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));QM.displayName=KM.displayName;const jH=Lp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rn=b.forwardRef(({className:e,variant:t,...n},i)=>r.jsx("div",{ref:i,role:"alert",className:Xe(jH({variant:t}),e),...n}));rn.displayName="Alert";const wH=b.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Xe("mb-1 font-medium leading-none tracking-tight",e),...t}));wH.displayName="AlertTitle";const sn=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("text-sm [&_p]:leading-relaxed",e),...t}));sn.displayName="AlertDescription";const NH=Lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=b.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...s},a)=>{const o=i?bR:"button";return r.jsx(o,{className:Xe(NH({variant:t,size:n,className:e})),ref:a,...s})});V.displayName="Button";const H=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));H.displayName="Card";const Q=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",e),...t}));Q.displayName="CardHeader";const X=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));X.displayName="CardTitle";const ye=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("text-sm text-muted-foreground",e),...t}));ye.displayName="CardDescription";const K=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("p-6 pt-0",e),...t}));K.displayName="CardContent";const SH=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",e),...t}));SH.displayName="CardFooter";class CH extends b.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.handleReportError=()=>{var n,i,s;const t={message:(n=this.state.error)==null?void 0:n.message,stack:(i=this.state.error)==null?void 0:i.stack,componentStack:(s=this.state.errorInfo)==null?void 0:s.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Error Report:",t),alert("Error details have been logged. Please contact support if the problem persists.")}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error(" CRITICAL ERROR BOUNDARY TRIGGERED:",t),console.error(" ERROR MESSAGE:",t.message),console.error(" ERROR STACK:",t.stack),console.error(" COMPONENT STACK:",n.componentStack),this.setState({error:t,errorInfo:n}),alert(`CRITICAL ERROR: ${t.message}

Check console for full details.`)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsxs(H,{className:"w-full max-w-2xl",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(pt,{className:"h-6 w-6"}),"Something went wrong"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs(rn,{className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsx(sn,{children:"The application encountered an unexpected error. This has been logged for our development team."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsx("strong",{children:"What you can do:"})}),r.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Try refreshing the page or going back to retry the action"}),r.jsx("li",{children:"Return to the home page to start over"}),r.jsx("li",{children:"Contact support if the problem continues"})]})]}),!1,r.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[r.jsxs(V,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[r.jsx(On,{className:"h-4 w-4"}),"Try Again"]}),r.jsxs(V,{variant:"outline",onClick:this.handleGoHome,className:"flex items-center gap-2",children:[r.jsx(qp,{className:"h-4 w-4"}),"Go Home"]}),r.jsxs(V,{variant:"outline",onClick:this.handleReportError,className:"flex items-center gap-2",children:[r.jsx(WU,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}):this.props.children}}let km=null,Hy=null;const EH=async()=>{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();if(await Promise.all(e.map(t=>t.unregister())),window.caches&&caches.keys){const t=await caches.keys();await Promise.all(t.map(n=>caches.delete(n)))}console.log(" Service Workers and caches cleared")}},XM=async()=>{try{const t=await(await fetch("/version.json",{cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json();return km===null?(km=t.version,!1):km!==t.version?(console.log(` Version changed: ${km}  ${t.version}`),!0):!1}catch(e){return console.error("Version check failed:",e),!1}},kH=async()=>{console.log(" Reloading for new version..."),wt.clear(),window.location.reload()},AH=(e=3e4)=>{Hy&&clearInterval(Hy),Hy=setInterval(async()=>{await XM()&&await kH()},e)},_H=async()=>{await EH(),await XM(),AH()},PH=Lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:t,...n}){return r.jsx("div",{className:Xe(PH({variant:t}),e),...n})}var TH=b.createContext(void 0);function Up(e){const t=b.useContext(TH);return e||t||"ltr"}var Gy="rovingFocusGroup.onEntryFocus",OH={bubbles:!1,cancelable:!0},Xv="RovingFocusGroup",[oj,ZM,IH]=o1(Xv),[RH,Zv]=Nr(Xv,[IH]),[MH,$H]=RH(Xv),JM=b.forwardRef((e,t)=>r.jsx(oj.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(oj.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(DH,{...e,ref:t})})}));JM.displayName=Xv;var DH=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,p=b.useRef(null),x=jt(t,p),h=Up(a),[m=null,y]=ys({prop:o,defaultProp:l,onChange:c}),[j,g]=b.useState(!1),v=bn(d),N=ZM(n),w=b.useRef(!1),[S,E]=b.useState(0);return b.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(Gy,v),()=>C.removeEventListener(Gy,v)},[v]),r.jsx(MH,{scope:n,orientation:i,dir:h,loop:s,currentTabStopId:m,onItemFocus:b.useCallback(C=>y(C),[y]),onItemShiftTab:b.useCallback(()=>g(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:b.useCallback(()=>E(C=>C-1),[]),children:r.jsx(nt.div,{tabIndex:j||S===0?-1:0,"data-orientation":i,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{w.current=!0}),onFocus:We(e.onFocus,C=>{const k=!w.current;if(C.target===C.currentTarget&&k&&!j){const R=new CustomEvent(Gy,OH);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=N().filter(M=>M.focusable),A=P.find(M=>M.active),_=P.find(M=>M.id===m),D=[A,_,...P].filter(Boolean).map(M=>M.ref.current);n4(D,u)}}w.current=!1}),onBlur:We(e.onBlur,()=>g(!1))})})}),e4="RovingFocusGroupItem",t4=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:a,...o}=e,l=ms(),c=a||l,d=$H(e4,n),u=d.currentTabStopId===c,f=ZM(n),{onFocusableItemAdd:p,onFocusableItemRemove:x}=d;return b.useEffect(()=>{if(i)return p(),()=>x()},[i,p,x]),r.jsx(oj.ItemSlot,{scope:n,id:c,focusable:i,active:s,children:r.jsx(nt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:We(e.onMouseDown,h=>{i?d.onItemFocus(c):h.preventDefault()}),onFocus:We(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:We(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){d.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const m=qH(h,d.orientation,d.dir);if(m!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let j=f().filter(g=>g.focusable).map(g=>g.ref.current);if(m==="last")j.reverse();else if(m==="prev"||m==="next"){m==="prev"&&j.reverse();const g=j.indexOf(h.currentTarget);j=d.loop?zH(j,g+1):j.slice(g+1)}setTimeout(()=>n4(j))}})})})});t4.displayName=e4;var LH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qH(e,t,n){const i=FH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return LH[i]}function n4(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function zH(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var r4=JM,i4=t4,C1="Tabs",[BH,YCe]=Nr(C1,[Zv]),s4=Zv(),[UH,E1]=BH(C1),a4=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Up(l),[f,p]=ys({prop:i,onChange:s,defaultProp:a});return r.jsx(UH,{scope:n,baseId:ms(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:c,children:r.jsx(nt.div,{dir:u,"data-orientation":o,...d,ref:t})})});a4.displayName=C1;var o4="TabsList",l4=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...s}=e,a=E1(o4,n),o=s4(n);return r.jsx(r4,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:i,children:r.jsx(nt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});l4.displayName=o4;var c4="TabsTrigger",d4=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:s=!1,...a}=e,o=E1(c4,n),l=s4(n),c=p4(o.baseId,i),d=m4(o.baseId,i),u=i===o.value;return r.jsx(i4,{asChild:!0,...l,focusable:!s,active:u,children:r.jsx(nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:We(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(i):f.preventDefault()}),onKeyDown:We(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(i)}),onFocus:We(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(i)})})})});d4.displayName=c4;var u4="TabsContent",f4=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:s,children:a,...o}=e,l=E1(u4,n),c=p4(l.baseId,i),d=m4(l.baseId,i),u=i===l.value,f=b.useRef(u);return b.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(Zr,{present:s||u,children:({present:p})=>r.jsx(nt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});f4.displayName=u4;function p4(e,t){return`${e}-trigger-${t}`}function m4(e,t){return`${e}-content-${t}`}var VH=a4,h4=l4,x4=d4,v4=f4;const Yn=VH,qn=b.forwardRef(({className:e,...t},n)=>r.jsx(h4,{ref:n,className:Xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qn.displayName=h4.displayName;const Oe=b.forwardRef(({className:e,...t},n)=>r.jsx(x4,{ref:n,className:Xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oe.displayName=x4.displayName;const Ee=b.forwardRef(({className:e,...t},n)=>r.jsx(v4,{ref:n,className:Xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ee.displayName=v4.displayName;var WH=Array.isArray,Mr=WH,HH=typeof im=="object"&&im&&im.Object===Object&&im,g4=HH,GH=g4,KH=typeof self=="object"&&self&&self.Object===Object&&self,YH=GH||KH||Function("return this")(),Es=YH,QH=Es,XH=QH.Symbol,Vp=XH,uk=Vp,y4=Object.prototype,ZH=y4.hasOwnProperty,JH=y4.toString,xu=uk?uk.toStringTag:void 0;function e9(e){var t=ZH.call(e,xu),n=e[xu];try{e[xu]=void 0;var i=!0}catch{}var s=JH.call(e);return i&&(t?e[xu]=n:delete e[xu]),s}var t9=e9,n9=Object.prototype,r9=n9.toString;function i9(e){return r9.call(e)}var s9=i9,fk=Vp,a9=t9,o9=s9,l9="[object Null]",c9="[object Undefined]",pk=fk?fk.toStringTag:void 0;function d9(e){return e==null?e===void 0?c9:l9:pk&&pk in Object(e)?a9(e):o9(e)}var ha=d9;function u9(e){return e!=null&&typeof e=="object"}var xa=u9,f9=ha,p9=xa,m9="[object Symbol]";function h9(e){return typeof e=="symbol"||p9(e)&&f9(e)==m9}var Wd=h9,x9=Mr,v9=Wd,g9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y9=/^\w*$/;function b9(e,t){if(x9(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||v9(e)?!0:y9.test(e)||!g9.test(e)||t!=null&&e in Object(t)}var k1=b9;function j9(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bo=j9;const Hd=Rt(bo);var w9=ha,N9=bo,S9="[object AsyncFunction]",C9="[object Function]",E9="[object GeneratorFunction]",k9="[object Proxy]";function A9(e){if(!N9(e))return!1;var t=w9(e);return t==C9||t==E9||t==S9||t==k9}var A1=A9;const ft=Rt(A1);var _9=Es,P9=_9["__core-js_shared__"],T9=P9,Ky=T9,mk=function(){var e=/[^.]+$/.exec(Ky&&Ky.keys&&Ky.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function O9(e){return!!mk&&mk in e}var I9=O9,R9=Function.prototype,M9=R9.toString;function $9(e){if(e!=null){try{return M9.call(e)}catch{}try{return e+""}catch{}}return""}var b4=$9,D9=A1,L9=I9,F9=bo,q9=b4,z9=/[\\^$.*+?()[\]{}|]/g,B9=/^\[object .+?Constructor\]$/,U9=Function.prototype,V9=Object.prototype,W9=U9.toString,H9=V9.hasOwnProperty,G9=RegExp("^"+W9.call(H9).replace(z9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K9(e){if(!F9(e)||L9(e))return!1;var t=D9(e)?G9:B9;return t.test(q9(e))}var Y9=K9;function Q9(e,t){return e==null?void 0:e[t]}var X9=Q9,Z9=Y9,J9=X9;function e7(e,t){var n=J9(e,t);return Z9(n)?n:void 0}var Ol=e7,t7=Ol,n7=t7(Object,"create"),Jv=n7,hk=Jv;function r7(){this.__data__=hk?hk(null):{},this.size=0}var i7=r7;function s7(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var a7=s7,o7=Jv,l7="__lodash_hash_undefined__",c7=Object.prototype,d7=c7.hasOwnProperty;function u7(e){var t=this.__data__;if(o7){var n=t[e];return n===l7?void 0:n}return d7.call(t,e)?t[e]:void 0}var f7=u7,p7=Jv,m7=Object.prototype,h7=m7.hasOwnProperty;function x7(e){var t=this.__data__;return p7?t[e]!==void 0:h7.call(t,e)}var v7=x7,g7=Jv,y7="__lodash_hash_undefined__";function b7(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=g7&&t===void 0?y7:t,this}var j7=b7,w7=i7,N7=a7,S7=f7,C7=v7,E7=j7;function Gd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Gd.prototype.clear=w7;Gd.prototype.delete=N7;Gd.prototype.get=S7;Gd.prototype.has=C7;Gd.prototype.set=E7;var k7=Gd;function A7(){this.__data__=[],this.size=0}var _7=A7;function P7(e,t){return e===t||e!==e&&t!==t}var _1=P7,T7=_1;function O7(e,t){for(var n=e.length;n--;)if(T7(e[n][0],t))return n;return-1}var eg=O7,I7=eg,R7=Array.prototype,M7=R7.splice;function $7(e){var t=this.__data__,n=I7(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():M7.call(t,n,1),--this.size,!0}var D7=$7,L7=eg;function F7(e){var t=this.__data__,n=L7(t,e);return n<0?void 0:t[n][1]}var q7=F7,z7=eg;function B7(e){return z7(this.__data__,e)>-1}var U7=B7,V7=eg;function W7(e,t){var n=this.__data__,i=V7(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var H7=W7,G7=_7,K7=D7,Y7=q7,Q7=U7,X7=H7;function Kd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Kd.prototype.clear=G7;Kd.prototype.delete=K7;Kd.prototype.get=Y7;Kd.prototype.has=Q7;Kd.prototype.set=X7;var tg=Kd,Z7=Ol,J7=Es,eG=Z7(J7,"Map"),P1=eG,xk=k7,tG=tg,nG=P1;function rG(){this.size=0,this.__data__={hash:new xk,map:new(nG||tG),string:new xk}}var iG=rG;function sG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var aG=sG,oG=aG;function lG(e,t){var n=e.__data__;return oG(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ng=lG,cG=ng;function dG(e){var t=cG(this,e).delete(e);return this.size-=t?1:0,t}var uG=dG,fG=ng;function pG(e){return fG(this,e).get(e)}var mG=pG,hG=ng;function xG(e){return hG(this,e).has(e)}var vG=xG,gG=ng;function yG(e,t){var n=gG(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var bG=yG,jG=iG,wG=uG,NG=mG,SG=vG,CG=bG;function Yd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Yd.prototype.clear=jG;Yd.prototype.delete=wG;Yd.prototype.get=NG;Yd.prototype.has=SG;Yd.prototype.set=CG;var T1=Yd,j4=T1,EG="Expected a function";function O1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(EG);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,i);return n.cache=a.set(s,o)||a,o};return n.cache=new(O1.Cache||j4),n}O1.Cache=j4;var w4=O1;const kG=Rt(w4);var AG=w4,_G=500;function PG(e){var t=AG(e,function(i){return n.size===_G&&n.clear(),i}),n=t.cache;return t}var TG=PG,OG=TG,IG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RG=/\\(\\)?/g,MG=OG(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(IG,function(n,i,s,a){t.push(s?a.replace(RG,"$1"):i||n)}),t}),$G=MG;function DG(e,t){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}var I1=DG,vk=Vp,LG=I1,FG=Mr,qG=Wd,zG=1/0,gk=vk?vk.prototype:void 0,yk=gk?gk.toString:void 0;function N4(e){if(typeof e=="string")return e;if(FG(e))return LG(e,N4)+"";if(qG(e))return yk?yk.call(e):"";var t=e+"";return t=="0"&&1/e==-zG?"-0":t}var BG=N4,UG=BG;function VG(e){return e==null?"":UG(e)}var S4=VG,WG=Mr,HG=k1,GG=$G,KG=S4;function YG(e,t){return WG(e)?e:HG(e,t)?[e]:GG(KG(e))}var C4=YG,QG=Wd,XG=1/0;function ZG(e){if(typeof e=="string"||QG(e))return e;var t=e+"";return t=="0"&&1/e==-XG?"-0":t}var rg=ZG,JG=C4,eK=rg;function tK(e,t){t=JG(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[eK(t[n++])];return n&&n==i?e:void 0}var R1=tK,nK=R1;function rK(e,t,n){var i=e==null?void 0:nK(e,t);return i===void 0?n:i}var E4=rK;const Gr=Rt(E4);function iK(e){return e==null}var sK=iK;const Nt=Rt(sK);var aK=ha,oK=Mr,lK=xa,cK="[object String]";function dK(e){return typeof e=="string"||!oK(e)&&lK(e)&&aK(e)==cK}var uK=dK;const Wp=Rt(uK);var k4={exports:{}},qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=Symbol.for("react.element"),$1=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),lg=Symbol.for("react.context"),fK=Symbol.for("react.server_context"),cg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),pg=Symbol.for("react.lazy"),pK=Symbol.for("react.offscreen"),A4;A4=Symbol.for("react.module.reference");function xi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case M1:switch(e=e.type,e){case ig:case ag:case sg:case dg:case ug:return e;default:switch(e=e&&e.$$typeof,e){case fK:case lg:case cg:case pg:case fg:case og:return e;default:return t}}case $1:return t}}}qt.ContextConsumer=lg;qt.ContextProvider=og;qt.Element=M1;qt.ForwardRef=cg;qt.Fragment=ig;qt.Lazy=pg;qt.Memo=fg;qt.Portal=$1;qt.Profiler=ag;qt.StrictMode=sg;qt.Suspense=dg;qt.SuspenseList=ug;qt.isAsyncMode=function(){return!1};qt.isConcurrentMode=function(){return!1};qt.isContextConsumer=function(e){return xi(e)===lg};qt.isContextProvider=function(e){return xi(e)===og};qt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===M1};qt.isForwardRef=function(e){return xi(e)===cg};qt.isFragment=function(e){return xi(e)===ig};qt.isLazy=function(e){return xi(e)===pg};qt.isMemo=function(e){return xi(e)===fg};qt.isPortal=function(e){return xi(e)===$1};qt.isProfiler=function(e){return xi(e)===ag};qt.isStrictMode=function(e){return xi(e)===sg};qt.isSuspense=function(e){return xi(e)===dg};qt.isSuspenseList=function(e){return xi(e)===ug};qt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ig||e===ag||e===sg||e===dg||e===ug||e===pK||typeof e=="object"&&e!==null&&(e.$$typeof===pg||e.$$typeof===fg||e.$$typeof===og||e.$$typeof===lg||e.$$typeof===cg||e.$$typeof===A4||e.getModuleId!==void 0)};qt.typeOf=xi;k4.exports=qt;var mK=k4.exports,hK=ha,xK=xa,vK="[object Number]";function gK(e){return typeof e=="number"||xK(e)&&hK(e)==vK}var _4=gK;const yK=Rt(_4);var bK=_4;function jK(e){return bK(e)&&e!=+e}var wK=jK;const Hp=Rt(wK);var hr=function(t){return t===0?0:t>0?1:-1},Uo=function(t){return Wp(t)&&t.indexOf("%")===t.length-1},je=function(t){return yK(t)&&!Hp(t)},In=function(t){return je(t)||Wp(t)},NK=0,Gp=function(t){var n=++NK;return"".concat(t||"").concat(n)},xr=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!Wp(t))return i;var a;if(Uo(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Hp(a)&&(a=i),s&&a>n&&(a=n),a},Ta=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},SK=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,i={},s=0;s<n;s++)if(!i[t[s]])i[t[s]]=!0;else return!0;return!1},ka=function(t,n){return je(t)&&je(n)?function(i){return t+i*(n-t)}:function(){return n}};function lj(e,t,n){return!e||!e.length?null:e.find(function(i){return i&&(typeof t=="function"?t(i):Gr(i,t))===n})}function kc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function cj(e){"@babel/helpers - typeof";return cj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cj(e)}var CK=["viewBox","children"],EK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bk=["points","pathLength"],Yy={svg:CK,polygon:bk,polyline:bk},D1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jh=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(b.isValidElement(t)&&(i=t.props),!Hd(i))return null;var s={};return Object.keys(i).forEach(function(a){D1.includes(a)&&(s[a]=n||function(o){return i[a](i,o)})}),s},kK=function(t,n,i){return function(s){return t(n,i,s),null}},yl=function(t,n,i){if(!Hd(t)||cj(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];D1.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=kK(o,n,i))}),s},AK=["children"],_K=["children"];function jk(e,t){if(e==null)return{};var n=PK(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function PK(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var wk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ks=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Nk=null,Qy=null,L1=function e(t){if(t===Nk&&Array.isArray(Qy))return Qy;var n=[];return b.Children.forEach(t,function(i){Nt(i)||(mK.isFragment(i)?n=n.concat(e(i.props.children)):n.push(i))}),Qy=n,Nk=t,n};function ui(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(function(s){return Ks(s)}):i=[Ks(t)],L1(e).forEach(function(s){var a=Gr(s,"type.displayName")||Gr(s,"type.name");i.indexOf(a)!==-1&&n.push(s)}),n}function Fr(e,t){var n=ui(e,t);return n&&n[0]}var Sk=function(t){if(!t||!t.props)return!1;var n=t.props,i=n.width,s=n.height;return!(!je(i)||i<=0||!je(s)||s<=0)},TK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OK=function(t){return t&&t.type&&Wp(t.type)&&TK.indexOf(t.type)>=0},IK=function(t,n,i,s){var a,o=(a=Yy==null?void 0:Yy[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ft(t)&&(s&&o.includes(n)||EK.includes(n))||i&&D1.includes(n)},dt=function(t,n,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!Hd(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;IK((l=s)===null||l===void 0?void 0:l[o],o,n,i)&&(a[o]=s[o])}),a},dj=function e(t,n){if(t===n)return!0;var i=b.Children.count(t);if(i!==b.Children.count(n))return!1;if(i===0)return!0;if(i===1)return Ck(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<i;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Ck(a,o))return!1}return!0},Ck=function(t,n){if(Nt(t)&&Nt(n))return!0;if(!Nt(t)&&!Nt(n)){var i=t.props||{},s=i.children,a=jk(i,AK),o=n.props||{},l=o.children,c=jk(o,_K);return s&&l?kc(a,c)&&dj(s,l):!s&&!l?kc(a,c):!1}return!1},Ek=function(t,n){var i=[],s={};return L1(t).forEach(function(a,o){if(OK(a))i.push(a);else if(a){var l=Ks(a.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var f=d(a,l,o);i.push(f),s[l]=!0}}}),i},RK=function(t){var n=t&&t.type;return n&&wk[n]?wk[n]:null},MK=function(t,n){return L1(n).indexOf(t)},$K=["children","width","height","viewBox","className","style","title","desc"];function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uj.apply(this,arguments)}function DK(e,t){if(e==null)return{};var n=LK(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function LK(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function fj(e){var t=e.children,n=e.width,i=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=DK(e,$K),u=s||{width:n,height:i,x:0,y:0},f=gt("recharts-surface",a);return q.createElement("svg",uj({},dt(d,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),t)}var FK=["children","className"];function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pj.apply(this,arguments)}function qK(e,t){if(e==null)return{};var n=zK(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function zK(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var Lt=q.forwardRef(function(e,t){var n=e.children,i=e.className,s=qK(e,FK),a=gt("recharts-layer",i);return q.createElement("g",pj({className:a},dt(s,!0),{ref:t}),n)}),qi=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a]};function BK(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+t];return a}var UK=BK,VK=UK;function WK(e,t,n){var i=e.length;return n=n===void 0?i:n,!t&&n>=i?e:VK(e,t,n)}var HK=WK,GK="\\ud800-\\udfff",KK="\\u0300-\\u036f",YK="\\ufe20-\\ufe2f",QK="\\u20d0-\\u20ff",XK=KK+YK+QK,ZK="\\ufe0e\\ufe0f",JK="\\u200d",eY=RegExp("["+JK+GK+XK+ZK+"]");function tY(e){return eY.test(e)}var P4=tY;function nY(e){return e.split("")}var rY=nY,T4="\\ud800-\\udfff",iY="\\u0300-\\u036f",sY="\\ufe20-\\ufe2f",aY="\\u20d0-\\u20ff",oY=iY+sY+aY,lY="\\ufe0e\\ufe0f",cY="["+T4+"]",mj="["+oY+"]",hj="\\ud83c[\\udffb-\\udfff]",dY="(?:"+mj+"|"+hj+")",O4="[^"+T4+"]",I4="(?:\\ud83c[\\udde6-\\uddff]){2}",R4="[\\ud800-\\udbff][\\udc00-\\udfff]",uY="\\u200d",M4=dY+"?",$4="["+lY+"]?",fY="(?:"+uY+"(?:"+[O4,I4,R4].join("|")+")"+$4+M4+")*",pY=$4+M4+fY,mY="(?:"+[O4+mj+"?",mj,I4,R4,cY].join("|")+")",hY=RegExp(hj+"(?="+hj+")|"+mY+pY,"g");function xY(e){return e.match(hY)||[]}var vY=xY,gY=rY,yY=P4,bY=vY;function jY(e){return yY(e)?bY(e):gY(e)}var wY=jY,NY=HK,SY=P4,CY=wY,EY=S4;function kY(e){return function(t){t=EY(t);var n=SY(t)?CY(t):void 0,i=n?n[0]:t.charAt(0),s=n?NY(n,1).join(""):t.slice(1);return i[e]()+s}}var AY=kY,_Y=AY,PY=_Y("toUpperCase"),TY=PY;const mg=Rt(TY);function Kt(e){return function(){return e}}const D4=Math.cos,ex=Math.sin,Zi=Math.sqrt,tx=Math.PI,hg=2*tx,xj=Math.PI,vj=2*xj,Io=1e-6,OY=vj-Io;function L4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function IY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return L4;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class RY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?L4:IY(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,d=s-n,u=o-t,f=l-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Io)if(!(Math.abs(f*c-d*u)>Io)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=i-o,h=s-l,m=c*c+d*d,y=x*x+h*h,j=Math.sqrt(m),g=Math.sqrt(p),v=a*Math.tan((xj-Math.acos((m+p-y)/(2*j*g)))/2),N=v/g,w=v/j;Math.abs(N-1)>Io&&this._append`L${t+N*u},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*x>u*h)},${this._x1=t+w*c},${this._y1=n+w*d}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),c=i*Math.sin(s),d=t+l,u=n+c,f=1^o,p=o?s-a:a-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Io||Math.abs(this._y1-u)>Io)&&this._append`L${d},${u}`,i&&(p<0&&(p=p%vj+vj),p>OY?this._append`A${i},${i},0,1,${f},${t-l},${n-c}A${i},${i},0,1,${f},${this._x1=d},${this._y1=u}`:p>Io&&this._append`A${i},${i},0,${+(p>=xj)},${f},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function F1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new RY(t)}function q1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F4(e){this._context=e}F4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xg(e){return new F4(e)}function q4(e){return e[0]}function z4(e){return e[1]}function B4(e,t){var n=Kt(!0),i=null,s=xg,a=null,o=F1(l);e=typeof e=="function"?e:e===void 0?q4:Kt(e),t=typeof t=="function"?t:t===void 0?z4:Kt(t);function l(c){var d,u=(c=q1(c)).length,f,p=!1,x;for(i==null&&(a=s(x=o())),d=0;d<=u;++d)!(d<u&&n(f=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,d,c),+t(f,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Kt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Kt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Kt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(a=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=a=null:a=s(i=c),l):i},l}function Am(e,t,n){var i=null,s=Kt(!0),a=null,o=xg,l=null,c=F1(d);e=typeof e=="function"?e:e===void 0?q4:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?z4:Kt(+n);function d(f){var p,x,h,m=(f=q1(f)).length,y,j=!1,g,v=new Array(m),N=new Array(m);for(a==null&&(l=o(g=c())),p=0;p<=m;++p){if(!(p<m&&s(y=f[p],p,f))===j)if(j=!j)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=p-1;h>=x;--h)l.point(v[h],N[h]);l.lineEnd(),l.areaEnd()}j&&(v[p]=+e(y,p,f),N[p]=+t(y,p,f),l.point(i?+i(y,p,f):v[p],n?+n(y,p,f):N[p]))}if(g)return l=null,g+""||null}function u(){return B4().defined(s).curve(o).context(a)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),i=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),d):e},d.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Kt(+f),d):i},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),n=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),d):t},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kt(+f),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(i).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Kt(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),d):o},d.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),d):a},d}class U4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function MY(e){return new U4(e,!0)}function $Y(e){return new U4(e,!1)}const z1={draw(e,t){const n=Zi(t/tx);e.moveTo(n,0),e.arc(0,0,n,0,hg)}},DY={draw(e,t){const n=Zi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},V4=Zi(1/3),LY=V4*2,FY={draw(e,t){const n=Zi(t/LY),i=n*V4;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},qY={draw(e,t){const n=Zi(t),i=-n/2;e.rect(i,i,n,n)}},zY=.8908130915292852,W4=ex(tx/10)/ex(7*tx/10),BY=ex(hg/10)*W4,UY=-D4(hg/10)*W4,VY={draw(e,t){const n=Zi(t*zY),i=BY*n,s=UY*n;e.moveTo(0,-n),e.lineTo(i,s);for(let a=1;a<5;++a){const o=hg*a/5,l=D4(o),c=ex(o);e.lineTo(c*n,-l*n),e.lineTo(l*i-c*s,c*i+l*s)}e.closePath()}},Xy=Zi(3),WY={draw(e,t){const n=-Zi(t/(Xy*3));e.moveTo(0,n*2),e.lineTo(-Xy*n,-n),e.lineTo(Xy*n,-n),e.closePath()}},Jr=-.5,ei=Zi(3)/2,gj=1/Zi(12),HY=(gj/2+1)*3,GY={draw(e,t){const n=Zi(t/HY),i=n/2,s=n*gj,a=i,o=n*gj+n,l=-a,c=o;e.moveTo(i,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Jr*i-ei*s,ei*i+Jr*s),e.lineTo(Jr*a-ei*o,ei*a+Jr*o),e.lineTo(Jr*l-ei*c,ei*l+Jr*c),e.lineTo(Jr*i+ei*s,Jr*s-ei*i),e.lineTo(Jr*a+ei*o,Jr*o-ei*a),e.lineTo(Jr*l+ei*c,Jr*c-ei*l),e.closePath()}};function KY(e,t){let n=null,i=F1(s);e=typeof e=="function"?e:Kt(e||z1),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function s(){let a;if(n||(n=a=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Kt(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Kt(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function nx(){}function rx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function H4(e){this._context=e}H4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YY(e){return new H4(e)}function G4(e){this._context=e}G4.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QY(e){return new G4(e)}function K4(e){this._context=e}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XY(e){return new K4(e)}function Y4(e){this._context=e}Y4.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZY(e){return new Y4(e)}function kk(e){return e<0?-1:1}function Ak(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(kk(a)+kk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function _k(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Zy(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function ix(e){this._context=e}ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zy(this,this._t0,_k(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zy(this,_k(this,n=Ak(this,e,t)),n);break;default:Zy(this,this._t0,n=Ak(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Q4(e){this._context=new X4(e)}(Q4.prototype=Object.create(ix.prototype)).point=function(e,t){ix.prototype.point.call(this,t,e)};function X4(e){this._context=e}X4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,a){this._context.bezierCurveTo(t,e,i,n,a,s)}};function JY(e){return new ix(e)}function eQ(e){return new Q4(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Pk(e),s=Pk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],s[0][a],i[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pk(e){var t,n=e.length-1,i,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function tQ(e){return new Z4(e)}function vg(e,t){this._context=e,this._t=t}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function nQ(e){return new vg(e,.5)}function rQ(e){return new vg(e,0)}function iQ(e){return new vg(e,1)}function sd(e,t){if((o=e.length)>1)for(var n=1,i,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(s[i][1])?s[i][0]:s[i][1]}function yj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sQ(e,t){return e[t]}function aQ(e){const t=[];return t.key=e,t}function oQ(){var e=Kt([]),t=yj,n=sd,i=sQ;function s(a){var o=Array.from(e.apply(this,arguments),aQ),l,c=o.length,d=-1,u;for(const f of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+i(f,o[l].key,d,a)]).data=f;for(l=0,u=q1(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Kt(Array.from(a)),s):e},s.value=function(a){return arguments.length?(i=typeof a=="function"?a:Kt(+a),s):i},s.order=function(a){return arguments.length?(t=a==null?yj:typeof a=="function"?a:Kt(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??sd,s):n},s}function lQ(e,t){if((i=e.length)>0){for(var n,i,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<i;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<i;++n)e[n][s][1]/=o}sd(e,t)}}function cQ(e,t){if((s=e.length)>0){for(var n=0,i=e[t[0]],s,a=i.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;i[n][1]+=i[n][0]=-l/2}sd(e,t)}}function dQ(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,i=1,s,a,o;i<a;++i){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[i][1]||0,p=u[i-1][1]||0,x=(f-p)/2,h=0;h<l;++h){var m=e[t[h]],y=m[i][1]||0,j=m[i-1][1]||0;x+=y-j}c+=f,d+=x*f}s[i-1][1]+=s[i-1][0]=n,c&&(n-=d/c)}s[i-1][1]+=s[i-1][0]=n,sd(e,t)}}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}var uQ=["type","size","sizeType"];function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bj.apply(this,arguments)}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(i){fQ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fQ(e,t,n){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=mQ(e,"string");return Af(t)=="symbol"?t:t+""}function mQ(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Af(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hQ(e,t){if(e==null)return{};var n=xQ(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function xQ(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var J4={symbolCircle:z1,symbolCross:DY,symbolDiamond:FY,symbolSquare:qY,symbolStar:VY,symbolTriangle:WY,symbolWye:GY},vQ=Math.PI/180,gQ=function(t){var n="symbol".concat(mg(t));return J4[n]||z1},yQ=function(t,n,i){if(n==="area")return t;switch(i){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*vQ;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bQ=function(t,n){J4["symbol".concat(mg(t))]=n},B1=function(t){var n=t.type,i=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=hQ(t,uQ),d=Ok(Ok({},c),{},{type:i,size:a,sizeType:l}),u=function(){var y=gQ(i),j=KY().type(y).size(yQ(a,l,i));return j()},f=d.className,p=d.cx,x=d.cy,h=dt(d,!0);return p===+p&&x===+x&&a===+a?q.createElement("path",bj({},h,{className:gt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(x,")"),d:u()})):null};B1.registerSymbol=bQ;function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jj.apply(this,arguments)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function jQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(i){_f(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NQ(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t$(i.key),i)}}function SQ(e,t,n){return t&&NQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CQ(e,t,n){return t=sx(t),EQ(e,e$()?Reflect.construct(t,n||[],sx(e).constructor):t.apply(e,n))}function EQ(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kQ(e)}function kQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(e)}function AQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}function wj(e,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},wj(e,t)}function _f(e,t,n){return t=t$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t$(e){var t=_Q(e,"string");return ad(t)=="symbol"?t:t+""}function _Q(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ad(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ti=32,U1=function(e){function t(){return wQ(this,t),CQ(this,t,arguments)}return AQ(t,e),SQ(t,[{key:"renderIcon",value:function(i){var s=this.props.inactiveColor,a=ti/2,o=ti/6,l=ti/3,c=i.inactive?s:i.color;if(i.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:ti,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ti,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ti/8,"h").concat(ti,"v").concat(ti*3/4,"h").concat(-ti,"z"),className:"recharts-legend-icon"});if(q.isValidElement(i.legendIcon)){var d=jQ({},i);return delete d.legendIcon,q.cloneElement(i.legendIcon,d)}return q.createElement(B1,{fill:c,cx:a,cy:a,size:ti,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:ti,height:ti},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,h){var m=x.formatter||c,y=gt(_f(_f({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",x.inactive));if(x.type==="none")return null;var j=ft(x.value)?null:x.value;qi(!ft(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=x.inactive?d:x.color;return q.createElement("li",jj({className:y,style:f,key:"legend-item-".concat(h)},yl(i.props,x,h)),q.createElement(fj,{width:o,height:o,viewBox:u,style:p},i.renderIcon(x)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(j,x,h):j))})}},{key:"render",value:function(){var i=this.props,s=i.payload,a=i.layout,o=i.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);_f(U1,"displayName","Legend");_f(U1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PQ=tg;function TQ(){this.__data__=new PQ,this.size=0}var OQ=TQ;function IQ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var RQ=IQ;function MQ(e){return this.__data__.get(e)}var $Q=MQ;function DQ(e){return this.__data__.has(e)}var LQ=DQ,FQ=tg,qQ=P1,zQ=T1,BQ=200;function UQ(e,t){var n=this.__data__;if(n instanceof FQ){var i=n.__data__;if(!qQ||i.length<BQ-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new zQ(i)}return n.set(e,t),this.size=n.size,this}var VQ=UQ,WQ=tg,HQ=OQ,GQ=RQ,KQ=$Q,YQ=LQ,QQ=VQ;function Qd(e){var t=this.__data__=new WQ(e);this.size=t.size}Qd.prototype.clear=HQ;Qd.prototype.delete=GQ;Qd.prototype.get=KQ;Qd.prototype.has=YQ;Qd.prototype.set=QQ;var n$=Qd,XQ="__lodash_hash_undefined__";function ZQ(e){return this.__data__.set(e,XQ),this}var JQ=ZQ;function eX(e){return this.__data__.has(e)}var tX=eX,nX=T1,rX=JQ,iX=tX;function ax(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new nX;++t<n;)this.add(e[t])}ax.prototype.add=ax.prototype.push=rX;ax.prototype.has=iX;var r$=ax;function sX(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var i$=sX;function aX(e,t){return e.has(t)}var s$=aX,oX=r$,lX=i$,cX=s$,dX=1,uX=2;function fX(e,t,n,i,s,a){var o=n&dX,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,x=n&uX?new oX:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var h=e[f],m=t[f];if(i)var y=o?i(m,h,f,t,e,a):i(h,m,f,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(x){if(!lX(t,function(j,g){if(!cX(x,g)&&(h===j||s(h,j,n,i,a)))return x.push(g)})){p=!1;break}}else if(!(h===m||s(h,m,n,i,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var a$=fX,pX=Es,mX=pX.Uint8Array,hX=mX;function xX(e){var t=-1,n=Array(e.size);return e.forEach(function(i,s){n[++t]=[s,i]}),n}var vX=xX;function gX(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var V1=gX,Rk=Vp,Mk=hX,yX=_1,bX=a$,jX=vX,wX=V1,NX=1,SX=2,CX="[object Boolean]",EX="[object Date]",kX="[object Error]",AX="[object Map]",_X="[object Number]",PX="[object RegExp]",TX="[object Set]",OX="[object String]",IX="[object Symbol]",RX="[object ArrayBuffer]",MX="[object DataView]",$k=Rk?Rk.prototype:void 0,Jy=$k?$k.valueOf:void 0;function $X(e,t,n,i,s,a,o){switch(n){case MX:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case RX:return!(e.byteLength!=t.byteLength||!a(new Mk(e),new Mk(t)));case CX:case EX:case _X:return yX(+e,+t);case kX:return e.name==t.name&&e.message==t.message;case PX:case OX:return e==t+"";case AX:var l=jX;case TX:var c=i&NX;if(l||(l=wX),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;i|=SX,o.set(e,t);var u=bX(l(e),l(t),i,s,a,o);return o.delete(e),u;case IX:if(Jy)return Jy.call(e)==Jy.call(t)}return!1}var DX=$X;function LX(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}var o$=LX,FX=o$,qX=Mr;function zX(e,t,n){var i=t(e);return qX(e)?i:FX(i,n(e))}var BX=zX;function UX(e,t){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var VX=UX;function WX(){return[]}var HX=WX,GX=VX,KX=HX,YX=Object.prototype,QX=YX.propertyIsEnumerable,Dk=Object.getOwnPropertySymbols,XX=Dk?function(e){return e==null?[]:(e=Object(e),GX(Dk(e),function(t){return QX.call(e,t)}))}:KX,ZX=XX;function JX(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var eZ=JX,tZ=ha,nZ=xa,rZ="[object Arguments]";function iZ(e){return nZ(e)&&tZ(e)==rZ}var sZ=iZ,Lk=sZ,aZ=xa,l$=Object.prototype,oZ=l$.hasOwnProperty,lZ=l$.propertyIsEnumerable,cZ=Lk(function(){return arguments}())?Lk:function(e){return aZ(e)&&oZ.call(e,"callee")&&!lZ.call(e,"callee")},W1=cZ,ox={exports:{}};function dZ(){return!1}var uZ=dZ;ox.exports;(function(e,t){var n=Es,i=uZ,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||i;e.exports=d})(ox,ox.exports);var c$=ox.exports,fZ=9007199254740991,pZ=/^(?:0|[1-9]\d*)$/;function mZ(e,t){var n=typeof e;return t=t??fZ,!!t&&(n=="number"||n!="symbol"&&pZ.test(e))&&e>-1&&e%1==0&&e<t}var H1=mZ,hZ=9007199254740991;function xZ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hZ}var G1=xZ,vZ=ha,gZ=G1,yZ=xa,bZ="[object Arguments]",jZ="[object Array]",wZ="[object Boolean]",NZ="[object Date]",SZ="[object Error]",CZ="[object Function]",EZ="[object Map]",kZ="[object Number]",AZ="[object Object]",_Z="[object RegExp]",PZ="[object Set]",TZ="[object String]",OZ="[object WeakMap]",IZ="[object ArrayBuffer]",RZ="[object DataView]",MZ="[object Float32Array]",$Z="[object Float64Array]",DZ="[object Int8Array]",LZ="[object Int16Array]",FZ="[object Int32Array]",qZ="[object Uint8Array]",zZ="[object Uint8ClampedArray]",BZ="[object Uint16Array]",UZ="[object Uint32Array]",Jt={};Jt[MZ]=Jt[$Z]=Jt[DZ]=Jt[LZ]=Jt[FZ]=Jt[qZ]=Jt[zZ]=Jt[BZ]=Jt[UZ]=!0;Jt[bZ]=Jt[jZ]=Jt[IZ]=Jt[wZ]=Jt[RZ]=Jt[NZ]=Jt[SZ]=Jt[CZ]=Jt[EZ]=Jt[kZ]=Jt[AZ]=Jt[_Z]=Jt[PZ]=Jt[TZ]=Jt[OZ]=!1;function VZ(e){return yZ(e)&&gZ(e.length)&&!!Jt[vZ(e)]}var WZ=VZ;function HZ(e){return function(t){return e(t)}}var d$=HZ,lx={exports:{}};lx.exports;(function(e,t){var n=g4,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(lx,lx.exports);var GZ=lx.exports,KZ=WZ,YZ=d$,Fk=GZ,qk=Fk&&Fk.isTypedArray,QZ=qk?YZ(qk):KZ,u$=QZ,XZ=eZ,ZZ=W1,JZ=Mr,eJ=c$,tJ=H1,nJ=u$,rJ=Object.prototype,iJ=rJ.hasOwnProperty;function sJ(e,t){var n=JZ(e),i=!n&&ZZ(e),s=!n&&!i&&eJ(e),a=!n&&!i&&!s&&nJ(e),o=n||i||s||a,l=o?XZ(e.length,String):[],c=l.length;for(var d in e)(t||iJ.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||tJ(d,c)))&&l.push(d);return l}var aJ=sJ,oJ=Object.prototype;function lJ(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||oJ;return e===n}var cJ=lJ;function dJ(e,t){return function(n){return e(t(n))}}var f$=dJ,uJ=f$,fJ=uJ(Object.keys,Object),pJ=fJ,mJ=cJ,hJ=pJ,xJ=Object.prototype,vJ=xJ.hasOwnProperty;function gJ(e){if(!mJ(e))return hJ(e);var t=[];for(var n in Object(e))vJ.call(e,n)&&n!="constructor"&&t.push(n);return t}var yJ=gJ,bJ=A1,jJ=G1;function wJ(e){return e!=null&&jJ(e.length)&&!bJ(e)}var Kp=wJ,NJ=aJ,SJ=yJ,CJ=Kp;function EJ(e){return CJ(e)?NJ(e):SJ(e)}var gg=EJ,kJ=BX,AJ=ZX,_J=gg;function PJ(e){return kJ(e,_J,AJ)}var TJ=PJ,zk=TJ,OJ=1,IJ=Object.prototype,RJ=IJ.hasOwnProperty;function MJ(e,t,n,i,s,a){var o=n&OJ,l=zk(e),c=l.length,d=zk(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var p=l[f];if(!(o?p in t:RJ.call(t,p)))return!1}var x=a.get(e),h=a.get(t);if(x&&h)return x==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){p=l[f];var j=e[p],g=t[p];if(i)var v=o?i(g,j,p,t,e,a):i(j,g,p,e,t,a);if(!(v===void 0?j===g||s(j,g,n,i,a):v)){m=!1;break}y||(y=p=="constructor")}if(m&&!y){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m}var $J=MJ,DJ=Ol,LJ=Es,FJ=DJ(LJ,"DataView"),qJ=FJ,zJ=Ol,BJ=Es,UJ=zJ(BJ,"Promise"),VJ=UJ,WJ=Ol,HJ=Es,GJ=WJ(HJ,"Set"),p$=GJ,KJ=Ol,YJ=Es,QJ=KJ(YJ,"WeakMap"),XJ=QJ,Nj=qJ,Sj=P1,Cj=VJ,Ej=p$,kj=XJ,m$=ha,Xd=b4,Bk="[object Map]",ZJ="[object Object]",Uk="[object Promise]",Vk="[object Set]",Wk="[object WeakMap]",Hk="[object DataView]",JJ=Xd(Nj),eee=Xd(Sj),tee=Xd(Cj),nee=Xd(Ej),ree=Xd(kj),Ro=m$;(Nj&&Ro(new Nj(new ArrayBuffer(1)))!=Hk||Sj&&Ro(new Sj)!=Bk||Cj&&Ro(Cj.resolve())!=Uk||Ej&&Ro(new Ej)!=Vk||kj&&Ro(new kj)!=Wk)&&(Ro=function(e){var t=m$(e),n=t==ZJ?e.constructor:void 0,i=n?Xd(n):"";if(i)switch(i){case JJ:return Hk;case eee:return Bk;case tee:return Uk;case nee:return Vk;case ree:return Wk}return t});var iee=Ro,e0=n$,see=a$,aee=DX,oee=$J,Gk=iee,Kk=Mr,Yk=c$,lee=u$,cee=1,Qk="[object Arguments]",Xk="[object Array]",_m="[object Object]",dee=Object.prototype,Zk=dee.hasOwnProperty;function uee(e,t,n,i,s,a){var o=Kk(e),l=Kk(t),c=o?Xk:Gk(e),d=l?Xk:Gk(t);c=c==Qk?_m:c,d=d==Qk?_m:d;var u=c==_m,f=d==_m,p=c==d;if(p&&Yk(e)){if(!Yk(t))return!1;o=!0,u=!1}if(p&&!u)return a||(a=new e0),o||lee(e)?see(e,t,n,i,s,a):aee(e,t,c,n,i,s,a);if(!(n&cee)){var x=u&&Zk.call(e,"__wrapped__"),h=f&&Zk.call(t,"__wrapped__");if(x||h){var m=x?e.value():e,y=h?t.value():t;return a||(a=new e0),s(m,y,n,i,a)}}return p?(a||(a=new e0),oee(e,t,n,i,s,a)):!1}var fee=uee,pee=fee,Jk=xa;function h$(e,t,n,i,s){return e===t?!0:e==null||t==null||!Jk(e)&&!Jk(t)?e!==e&&t!==t:pee(e,t,n,i,h$,s)}var K1=h$,mee=n$,hee=K1,xee=1,vee=2;function gee(e,t,n,i){var s=n.length,a=s,o=!i;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new mee;if(i)var p=i(d,u,c,e,t,f);if(!(p===void 0?hee(u,d,xee|vee,i,f):p))return!1}}return!0}var yee=gee,bee=bo;function jee(e){return e===e&&!bee(e)}var x$=jee,wee=x$,Nee=gg;function See(e){for(var t=Nee(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,wee(s)]}return t}var Cee=See;function Eee(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var v$=Eee,kee=yee,Aee=Cee,_ee=v$;function Pee(e){var t=Aee(e);return t.length==1&&t[0][2]?_ee(t[0][0],t[0][1]):function(n){return n===e||kee(n,e,t)}}var Tee=Pee;function Oee(e,t){return e!=null&&t in Object(e)}var Iee=Oee,Ree=C4,Mee=W1,$ee=Mr,Dee=H1,Lee=G1,Fee=rg;function qee(e,t,n){t=Ree(t,e);for(var i=-1,s=t.length,a=!1;++i<s;){var o=Fee(t[i]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&Lee(s)&&Dee(o,s)&&($ee(e)||Mee(e)))}var zee=qee,Bee=Iee,Uee=zee;function Vee(e,t){return e!=null&&Uee(e,t,Bee)}var Wee=Vee,Hee=K1,Gee=E4,Kee=Wee,Yee=k1,Qee=x$,Xee=v$,Zee=rg,Jee=1,ete=2;function tte(e,t){return Yee(e)&&Qee(t)?Xee(Zee(e),t):function(n){var i=Gee(n,e);return i===void 0&&i===t?Kee(n,e):Hee(t,i,Jee|ete)}}var nte=tte;function rte(e){return e}var Zd=rte;function ite(e){return function(t){return t==null?void 0:t[e]}}var ste=ite,ate=R1;function ote(e){return function(t){return ate(t,e)}}var lte=ote,cte=ste,dte=lte,ute=k1,fte=rg;function pte(e){return ute(e)?cte(fte(e)):dte(e)}var mte=pte,hte=Tee,xte=nte,vte=Zd,gte=Mr,yte=mte;function bte(e){return typeof e=="function"?e:e==null?vte:typeof e=="object"?gte(e)?xte(e[0],e[1]):hte(e):yte(e)}var ks=bte;function jte(e,t,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var g$=jte;function wte(e){return e!==e}var Nte=wte;function Ste(e,t,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}var Cte=Ste,Ete=g$,kte=Nte,Ate=Cte;function _te(e,t,n){return t===t?Ate(e,t,n):Ete(e,kte,n)}var Pte=_te,Tte=Pte;function Ote(e,t){var n=e==null?0:e.length;return!!n&&Tte(e,t,0)>-1}var Ite=Ote;function Rte(e,t,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(t,e[i]))return!0;return!1}var Mte=Rte;function $te(){}var Dte=$te,t0=p$,Lte=Dte,Fte=V1,qte=1/0,zte=t0&&1/Fte(new t0([,-0]))[1]==qte?function(e){return new t0(e)}:Lte,Bte=zte,Ute=r$,Vte=Ite,Wte=Mte,Hte=s$,Gte=Bte,Kte=V1,Yte=200;function Qte(e,t,n){var i=-1,s=Vte,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=Wte;else if(a>=Yte){var d=t?null:Gte(e);if(d)return Kte(d);o=!1,s=Hte,c=new Ute}else c=t?[]:l;e:for(;++i<a;){var u=e[i],f=t?t(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(u)}else s(c,f,n)||(c!==l&&c.push(f),l.push(u))}return l}var Xte=Qte,Zte=ks,Jte=Xte;function ene(e,t){return e&&e.length?Jte(e,Zte(t)):[]}var tne=ene;const eA=Rt(tne);function y$(e,t,n){return t===!0?eA(e,n):ft(t)?eA(e,t):e}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}var nne=["ref"];function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(i){yg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,j$(i.key),i)}}function ine(e,t,n){return t&&nA(e.prototype,t),n&&nA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sne(e,t,n){return t=cx(t),ane(e,b$()?Reflect.construct(t,n||[],cx(e).constructor):t.apply(e,n))}function ane(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(e)}function one(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(e)}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Aj(e,t)}function yg(e,t,n){return t=j$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j$(e){var t=cne(e,"string");return od(t)=="symbol"?t:t+""}function cne(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(od(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){if(e==null)return{};var n=une(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function une(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function fne(e){return e.value}function pne(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=dne(t,nne);return q.createElement(U1,n)}var rA=1,Ac=function(e){function t(){var n;rne(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=sne(this,t,[].concat(s)),yg(n,"lastBoundingBox",{width:-1,height:-1}),n}return lne(t,e),ine(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>rA||Math.abs(s.height-this.lastBoundingBox.height)>rA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,i&&i(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ts({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();f={left:((d||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();p={top:((u||0)-h.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ts(Ts({},f),p)}},{key:"render",value:function(){var i=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=Ts(Ts({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){i.wrapperNode=x}},pne(a,Ts(Ts({},this.props),{},{payload:y$(u,d,fne)})))}}],[{key:"getWithHeight",value:function(i,s){var a=Ts(Ts({},this.defaultProps),i.props),o=a.layout;return o==="vertical"&&je(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||s}:null}}])}(b.PureComponent);yg(Ac,"displayName","Legend");yg(Ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iA=Vp,mne=W1,hne=Mr,sA=iA?iA.isConcatSpreadable:void 0;function xne(e){return hne(e)||mne(e)||!!(sA&&e&&e[sA])}var vne=xne,gne=o$,yne=vne;function w$(e,t,n,i,s){var a=-1,o=e.length;for(n||(n=yne),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?w$(l,t-1,n,i,s):gne(s,l):i||(s[s.length]=l)}return s}var N$=w$;function bne(e){return function(t,n,i){for(var s=-1,a=Object(t),o=i(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var jne=bne,wne=jne,Nne=wne(),Sne=Nne,Cne=Sne,Ene=gg;function kne(e,t){return e&&Cne(e,t,Ene)}var S$=kne,Ane=Kp;function _ne(e,t){return function(n,i){if(n==null)return n;if(!Ane(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&i(o[a],a,o)!==!1;);return n}}var Pne=_ne,Tne=S$,One=Pne,Ine=One(Tne),Y1=Ine,Rne=Y1,Mne=Kp;function $ne(e,t){var n=-1,i=Mne(e)?Array(e.length):[];return Rne(e,function(s,a,o){i[++n]=t(s,a,o)}),i}var C$=$ne;function Dne(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Lne=Dne,aA=Wd;function Fne(e,t){if(e!==t){var n=e!==void 0,i=e===null,s=e===e,a=aA(e),o=t!==void 0,l=t===null,c=t===t,d=aA(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||i&&o&&c||!n&&c||!s)return 1;if(!i&&!a&&!d&&e<t||d&&n&&s&&!i&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var qne=Fne,zne=qne;function Bne(e,t,n){for(var i=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++i<o;){var c=zne(s[i],a[i]);if(c){if(i>=l)return c;var d=n[i];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Une=Bne,n0=I1,Vne=R1,Wne=ks,Hne=C$,Gne=Lne,Kne=d$,Yne=Une,Qne=Zd,Xne=Mr;function Zne(e,t,n){t.length?t=n0(t,function(a){return Xne(a)?function(o){return Vne(o,a.length===1?a[0]:a)}:a}):t=[Qne];var i=-1;t=n0(t,Kne(Wne));var s=Hne(e,function(a,o,l){var c=n0(t,function(d){return d(a)});return{criteria:c,index:++i,value:a}});return Gne(s,function(a,o){return Yne(a,o,n)})}var Jne=Zne;function ere(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var tre=ere,nre=tre,oA=Math.max;function rre(e,t,n){return t=oA(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=oA(i.length-t,0),o=Array(a);++s<a;)o[s]=i[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=i[s];return l[t]=n(o),nre(e,this,l)}}var ire=rre;function sre(e){return function(){return e}}var are=sre,ore=Ol,lre=function(){try{var e=ore(Object,"defineProperty");return e({},"",{}),e}catch{}}(),E$=lre,cre=are,lA=E$,dre=Zd,ure=lA?function(e,t){return lA(e,"toString",{configurable:!0,enumerable:!1,value:cre(t),writable:!0})}:dre,fre=ure,pre=800,mre=16,hre=Date.now;function xre(e){var t=0,n=0;return function(){var i=hre(),s=mre-(i-n);if(n=i,s>0){if(++t>=pre)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vre=xre,gre=fre,yre=vre,bre=yre(gre),jre=bre,wre=Zd,Nre=ire,Sre=jre;function Cre(e,t){return Sre(Nre(e,t,wre),e+"")}var Ere=Cre,kre=_1,Are=Kp,_re=H1,Pre=bo;function Tre(e,t,n){if(!Pre(n))return!1;var i=typeof t;return(i=="number"?Are(n)&&_re(t,n.length):i=="string"&&t in n)?kre(n[t],e):!1}var bg=Tre,Ore=N$,Ire=Jne,Rre=Ere,cA=bg,Mre=Rre(function(e,t){if(e==null)return[];var n=t.length;return n>1&&cA(e,t[0],t[1])?t=[]:n>2&&cA(t[0],t[1],t[2])&&(t=[t[0]]),Ire(e,Ore(t,1),[])}),$re=Mre;const Q1=Rt($re);function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_j.apply(this,arguments)}function Dre(e,t){return zre(e)||qre(e,t)||Fre(e,t)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(e,t){if(e){if(typeof e=="string")return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function zre(e){if(Array.isArray(e))return e}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function r0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(i){Bre(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Bre(e,t,n){return t=Ure(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ure(e){var t=Vre(e,"string");return Pf(t)=="symbol"?t:t+""}function Vre(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Pf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wre(e){return Array.isArray(e)&&In(e[0])&&In(e[1])?e.join(" ~ "):e}var Hre=function(t){var n=t.separator,i=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,p=t.itemSorter,x=t.wrapperClassName,h=t.labelClassName,m=t.label,y=t.labelFormatter,j=t.accessibilityLayer,g=j===void 0?!1:j,v=function(){if(u&&u.length){var A={padding:0,margin:0},_=(p?Q1(u,p):u).map(function(O,D){if(O.type==="none")return null;var M=r0({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),G=O.formatter||f||Wre,z=O.value,I=O.name,U=z,Z=I;if(G&&U!=null&&Z!=null){var $=G(z,I,O,D,u);if(Array.isArray($)){var ie=Dre($,2);U=ie[0],Z=ie[1]}else U=$}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:M},In(Z)?q.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,In(Z)?q.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,q.createElement("span",{className:"recharts-tooltip-item-value"},U),q.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:A},_)}return null},N=r0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=r0({margin:0},d),S=!Nt(m),E=S?m:"",C=gt("recharts-default-tooltip",x),k=gt("recharts-tooltip-label",h);S&&y&&u!==void 0&&u!==null&&(E=y(m,u));var R=g?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",_j({className:C,style:N},R),q.createElement("p",{className:k,style:w},q.isValidElement(E)?E:"".concat(E)),v())};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Pm(e,t,n){return t=Gre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gre(e){var t=Kre(e,"string");return Tf(t)=="symbol"?t:t+""}function Kre(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vu="recharts-tooltip-wrapper",Yre={visibility:"hidden"};function Qre(e){var t=e.coordinate,n=e.translateX,i=e.translateY;return gt(vu,Pm(Pm(Pm(Pm({},"".concat(vu,"-right"),je(n)&&t&&je(t.x)&&n>=t.x),"".concat(vu,"-left"),je(n)&&t&&je(t.x)&&n<t.x),"".concat(vu,"-bottom"),je(i)&&t&&je(t.y)&&i>=t.y),"".concat(vu,"-top"),je(i)&&t&&je(t.y)&&i<t.y))}function fA(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&je(a[i]))return a[i];var u=n[i]-l-s,f=n[i]+s;if(t[i])return o[i]?u:f;if(o[i]){var p=u,x=c[i];return p<x?Math.max(f,c[i]):Math.max(u,c[i])}var h=f+l,m=c[i]+d;return h>m?Math.max(u,c[i]):Math.max(f,c[i])}function Xre(e){var t=e.translateX,n=e.translateY,i=e.useTranslate3d;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Zre(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&n?(u=fA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=fA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Xre({translateX:u,translateY:f,useTranslate3d:l})):d=Yre,{cssProperties:d,cssClasses:Qre({translateX:u,translateY:f,coordinate:n})}}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(i){Tj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Jre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,A$(i.key),i)}}function tie(e,t,n){return t&&eie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nie(e,t,n){return t=dx(t),rie(e,k$()?Reflect.construct(t,n||[],dx(e).constructor):t.apply(e,n))}function rie(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iie(e)}function iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(e)}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pj(e,t)}function Pj(e,t){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Pj(e,t)}function Tj(e,t,n){return t=A$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A$(e){var t=aie(e,"string");return ld(t)=="symbol"?t:t+""}function aie(e,t){if(ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ld(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hA=1,oie=function(e){function t(){var n;Jre(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=nie(this,t,[].concat(s)),Tj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Tj(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return sie(t,e),tie(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>hA||Math.abs(i.height-this.state.lastBoundingBox.height)>hA)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,x=s.offset,h=s.position,m=s.reverseDirection,y=s.useTranslate3d,j=s.viewBox,g=s.wrapperStyle,v=Zre({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:x,position:h,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:j}),N=v.cssClasses,w=v.cssProperties,S=mA(mA({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return q.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(C){i.wrapperNode=C}},d)}}])}(b.PureComponent),lie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ys={isSsr:lie(),get:function(t){return Ys[t]},set:function(t,n){if(typeof t=="string")Ys[t]=n;else{var i=Object.keys(t);i&&i.length&&i.forEach(function(s){Ys[s]=t[s]})}}};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(i){X1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function die(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,P$(i.key),i)}}function uie(e,t,n){return t&&die(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fie(e,t,n){return t=ux(t),pie(e,_$()?Reflect.construct(t,n||[],ux(e).constructor):t.apply(e,n))}function pie(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(e)}function mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(e)}function hie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oj(e,t)}function Oj(e,t){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Oj(e,t)}function X1(e,t,n){return t=P$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P$(e){var t=xie(e,"string");return cd(t)=="symbol"?t:t+""}function xie(e,t){if(cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(cd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vie(e){return e.dataKey}function gie(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(Hre,t)}var Ci=function(e){function t(){return cie(this,t),fie(this,t,arguments)}return hie(t,e),uie(t,[{key:"render",value:function(){var i=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,p=s.isAnimationActive,x=s.offset,h=s.payload,m=s.payloadUniqBy,y=s.position,j=s.reverseDirection,g=s.useTranslate3d,v=s.viewBox,N=s.wrapperStyle,w=h??[];f&&w.length&&(w=y$(h.filter(function(E){return E.value!=null&&(E.hide!==!0||i.props.includeHidden)}),m,vie));var S=w.length>0;return q.createElement(oie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:u,hasPayload:S,offset:x,position:y,reverseDirection:j,useTranslate3d:g,viewBox:v,wrapperStyle:N},gie(d,vA(vA({},this.props),{},{payload:w})))}}])}(b.PureComponent);X1(Ci,"displayName","Tooltip");X1(Ci,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ys.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yie=Es,bie=function(){return yie.Date.now()},jie=bie,wie=/\s/;function Nie(e){for(var t=e.length;t--&&wie.test(e.charAt(t)););return t}var Sie=Nie,Cie=Sie,Eie=/^\s+/;function kie(e){return e&&e.slice(0,Cie(e)+1).replace(Eie,"")}var Aie=kie,_ie=Aie,gA=bo,Pie=Wd,yA=NaN,Tie=/^[-+]0x[0-9a-f]+$/i,Oie=/^0b[01]+$/i,Iie=/^0o[0-7]+$/i,Rie=parseInt;function Mie(e){if(typeof e=="number")return e;if(Pie(e))return yA;if(gA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_ie(e);var n=Oie.test(e);return n||Iie.test(e)?Rie(e.slice(2),n?2:8):Tie.test(e)?yA:+e}var T$=Mie,$ie=bo,i0=jie,bA=T$,Die="Expected a function",Lie=Math.max,Fie=Math.min;function qie(e,t,n){var i,s,a,o,l,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(Die);t=bA(t)||0,$ie(n)&&(u=!!n.leading,f="maxWait"in n,a=f?Lie(bA(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function x(S){var E=i,C=s;return i=s=void 0,d=S,o=e.apply(C,E),o}function h(S){return d=S,l=setTimeout(j,t),u?x(S):o}function m(S){var E=S-c,C=S-d,k=t-E;return f?Fie(k,a-C):k}function y(S){var E=S-c,C=S-d;return c===void 0||E>=t||E<0||f&&C>=a}function j(){var S=i0();if(y(S))return g(S);l=setTimeout(j,m(S))}function g(S){return l=void 0,p&&i?x(S):(i=s=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,i=c=s=l=void 0}function N(){return l===void 0?o:g(i0())}function w(){var S=i0(),E=y(S);if(i=arguments,s=this,c=S,E){if(l===void 0)return h(c);if(f)return clearTimeout(l),l=setTimeout(j,t),x(c)}return l===void 0&&(l=setTimeout(j,t)),o}return w.cancel=v,w.flush=N,w}var zie=qie,Bie=zie,Uie=bo,Vie="Expected a function";function Wie(e,t,n){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(Vie);return Uie(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Bie(e,t,{leading:i,maxWait:t,trailing:s})}var Hie=Wie;const O$=Rt(Hie);function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(i){Gie(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Gie(e,t,n){return t=Kie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kie(e){var t=Yie(e,"string");return Of(t)=="symbol"?t:t+""}function Yie(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Of(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qie(e,t){return ese(e)||Jie(e,t)||Zie(e,t)||Xie()}function Xie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(e,t){if(e){if(typeof e=="string")return wA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(e,t)}}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ese(e){if(Array.isArray(e))return e}var NA=b.forwardRef(function(e,t){var n=e.aspect,i=e.initialDimension,s=i===void 0?{width:-1,height:-1}:i,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,p=e.maxHeight,x=e.children,h=e.debounce,m=h===void 0?0:h,y=e.id,j=e.className,g=e.onResize,v=e.style,N=v===void 0?{}:v,w=b.useRef(null),S=b.useRef();S.current=g,b.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=b.useState({containerWidth:s.width,containerHeight:s.height}),C=Qie(E,2),k=C[0],R=C[1],P=b.useCallback(function(_,O){R(function(D){var M=Math.round(_),G=Math.round(O);return D.containerWidth===M&&D.containerHeight===G?D:{containerWidth:M,containerHeight:G}})},[]);b.useEffect(function(){var _=function(I){var U,Z=I[0].contentRect,$=Z.width,ie=Z.height;P($,ie),(U=S.current)===null||U===void 0||U.call(S,$,ie)};m>0&&(_=O$(_,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(_),D=w.current.getBoundingClientRect(),M=D.width,G=D.height;return P(M,G),O.observe(w.current),function(){O.disconnect()}},[P,m]);var A=b.useMemo(function(){var _=k.containerWidth,O=k.containerHeight;if(_<0||O<0)return null;qi(Uo(o)||Uo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Uo(o)?_:o,M=Uo(c)?O:c;n&&n>0&&(D?M=D/n:M&&(D=M*n),p&&M>p&&(M=p)),qi(D>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,o,c,u,f,n);var G=!Array.isArray(x)&&Ks(x.type).endsWith("Chart");return q.Children.map(x,function(z){return q.isValidElement(z)?b.cloneElement(z,Tm({width:D,height:M},G?{style:Tm({height:"100%",width:"100%",maxHeight:M,maxWidth:D},z.props.style)}:{})):z})},[n,x,c,p,f,u,k,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:gt("recharts-responsive-container",j),style:Tm(Tm({},N),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:w},A)}),jg=function(t){return null};jg.displayName="Cell";function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(i){tse(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tse(e,t,n){return t=nse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nse(e){var t=rse(e,"string");return If(t)=="symbol"?t:t+""}function rse(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(If(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zl={widthCache:{},cacheCount:0},ise=2e3,sse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CA="recharts_measurement_span";function ase(e){var t=Ij({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Qu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};var i=ase(n),s=JSON.stringify({text:t,copyStyle:i});if(zl.widthCache[s])return zl.widthCache[s];try{var a=document.getElementById(CA);a||(a=document.createElement("span"),a.setAttribute("id",CA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ij(Ij({},sse),i);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return zl.widthCache[s]=c,++zl.cacheCount>ise&&(zl.cacheCount=0,zl.widthCache={}),c}catch{return{width:0,height:0}}},ose=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function fx(e,t){return use(e)||dse(e,t)||cse(e,t)||lse()}function lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(e,t){if(e){if(typeof e=="string")return EA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(e,t)}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function dse(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function use(e){if(Array.isArray(e))return e}function fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mse(i.key),i)}}function pse(e,t,n){return t&&kA(e.prototype,t),n&&kA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mse(e){var t=hse(e,"string");return Rf(t)=="symbol"?t:t+""}function hse(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Rf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_A=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,I$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gse=Object.keys(I$),uc="NaN";function yse(e,t){return e*I$[t]}var Om=function(){function e(t,n){fse(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!xse.test(n)&&(this.num=NaN,this.unit=""),gse.includes(n)&&(this.num=yse(t,n),this.unit="px")}return pse(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var i,s=(i=vse.exec(n))!==null&&i!==void 0?i:[],a=fx(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function R$(e){if(e.includes(uc))return uc;for(var t=e;t.includes("*")||t.includes("/");){var n,i=(n=AA.exec(t))!==null&&n!==void 0?n:[],s=fx(i,4),a=s[1],o=s[2],l=s[3],c=Om.parse(a??""),d=Om.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return uc;t=t.replace(AA,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=_A.exec(t))!==null&&f!==void 0?f:[],x=fx(p,4),h=x[1],m=x[2],y=x[3],j=Om.parse(h??""),g=Om.parse(y??""),v=m==="+"?j.add(g):j.subtract(g);if(v.isNaN())return uc;t=t.replace(_A,v.toString())}return t}var PA=/\(([^()]*)\)/;function bse(e){for(var t=e;t.includes("(");){var n=PA.exec(t),i=fx(n,2),s=i[1];t=t.replace(PA,R$(s))}return t}function jse(e){var t=e.replace(/\s+/g,"");return t=bse(t),t=R$(t),t}function wse(e){try{return jse(e)}catch{return uc}}function s0(e){var t=wse(e.slice(5,-1));return t===uc?"":t}var Nse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sse=["dx","dy","angle","className","breakAll"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rj.apply(this,arguments)}function TA(e,t){if(e==null)return{};var n=Cse(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Cse(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function OA(e,t){return _se(e)||Ase(e,t)||kse(e,t)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kse(e,t){if(e){if(typeof e=="string")return IA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(e,t)}}function IA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ase(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function _se(e){if(Array.isArray(e))return e}var M$=/[ \f\n\r\t\v\u2028\u2029]+/,$$=function(t){var n=t.children,i=t.breakAll,s=t.style;try{var a=[];Nt(n)||(i?a=n.toString().split(""):a=n.toString().split(M$));var o=a.map(function(c){return{word:c,width:Qu(c,s).width}}),l=i?0:Qu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Pse=function(t,n,i,s,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=je(o),f=l,p=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(M,G){var z=G.word,I=G.width,U=M[M.length-1];if(U&&(s==null||a||U.width+I+i<Number(s)))U.words.push(z),U.width+=I+i;else{var Z={words:[z],width:I};M.push(Z)}return M},[])},x=p(n),h=function(D){return D.reduce(function(M,G){return M.width>G.width?M:G})};if(!u)return x;for(var m="",y=function(D){var M=f.slice(0,D),G=$$({breakAll:d,style:c,children:M+m}).wordsWithComputedWidth,z=p(G),I=z.length>o||h(z).width>Number(s);return[I,z]},j=0,g=f.length-1,v=0,N;j<=g&&v<=f.length-1;){var w=Math.floor((j+g)/2),S=w-1,E=y(S),C=OA(E,2),k=C[0],R=C[1],P=y(w),A=OA(P,1),_=A[0];if(!k&&!_&&(j=w+1),k&&_&&(g=w-1),!k&&_){N=R;break}v++}return N||x},RA=function(t){var n=Nt(t)?[]:t.toString().split(M$);return[{words:n}]},Tse=function(t){var n=t.width,i=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||i)&&!Ys.isSsr){var c,d,u=$$({breakAll:o,children:s,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;c=f,d=p}else return RA(s);return Pse({breakAll:o,children:s,maxLines:l,style:a},c,d,n,i)}return RA(s)},MA="#808080",bl=function(t){var n=t.x,i=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,x=p===void 0?"start":p,h=t.verticalAnchor,m=h===void 0?"end":h,y=t.fill,j=y===void 0?MA:y,g=TA(t,Nse),v=b.useMemo(function(){return Tse({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),N=g.dx,w=g.dy,S=g.angle,E=g.className,C=g.breakAll,k=TA(g,Sse);if(!In(i)||!In(a))return null;var R=i+(je(N)?N:0),P=a+(je(w)?w:0),A;switch(m){case"start":A=s0("calc(".concat(d,")"));break;case"middle":A=s0("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=s0("calc(".concat(v.length-1," * -").concat(l,")"));break}var _=[];if(f){var O=v[0].width,D=g.width;_.push("scale(".concat((je(D)?D/O:1)/O,")"))}return S&&_.push("rotate(".concat(S,", ").concat(R,", ").concat(P,")")),_.length&&(k.transform=_.join(" ")),q.createElement("text",Rj({},dt(k,!0),{x:R,y:P,className:gt("recharts-text",E),textAnchor:x,fill:j.includes("url")?MA:j}),v.map(function(M,G){var z=M.words.join(C?"":" ");return q.createElement("tspan",{x:R,dy:G===0?A:l,key:"".concat(z,"-").concat(G)},z)}))};function Ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ose(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z1(e){let t,n,i;e.length!==2?(t=Ja,n=(l,c)=>Ja(e(l),c),i=(l,c)=>e(l)-c):(t=e===Ja||e===Ose?e:Ise,n=e,i=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&i(l[f-1],c)>-i(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function Ise(){return 0}function D$(e){return e===null?NaN:+e}function*Rse(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Mse=Z1(Ja),Yp=Mse.right;Z1(D$).center;class $A extends Map{constructor(t,n=Lse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(DA(this,t))}has(t){return super.has(DA(this,t))}set(t,n){return super.set($se(this,t),n)}delete(t){return super.delete(Dse(this,t))}}function DA({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function $se({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Dse({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Lse(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fse(e=Ja){if(e===Ja)return L$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function L$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qse=Math.sqrt(50),zse=Math.sqrt(10),Bse=Math.sqrt(2);function px(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),o=a>=qse?10:a>=zse?5:a>=Bse?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?px(e,t,n*2):[l,c,d]}function Mj(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,a,o]=i?px(t,e,n):px(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(i)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function $j(e,t,n){return t=+t,e=+e,n=+n,px(e,t,n)[2]}function Dj(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?$j(t,e,n):$j(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function LA(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function FA(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function F$(e,t,n=0,i=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(s=s===void 0?L$:Fse(s);i>n;){if(i-n>600){const c=i-n+1,d=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),x=Math.max(n,Math.floor(t-d*f/c+p)),h=Math.min(i,Math.floor(t+(c-d)*f/c+p));F$(e,t,x,h,s)}const a=e[t];let o=n,l=i;for(gu(e,n,t),s(e[i],a)>0&&gu(e,n,i);o<l;){for(gu(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?gu(e,n,l):(++l,gu(e,l,i)),l<=t&&(n=l+1),t<=l&&(i=l-1)}return e}function gu(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Use(e,t,n){if(e=Float64Array.from(Rse(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return FA(e);if(t>=1)return LA(e);var i,s=(i-1)*t,a=Math.floor(s),o=LA(F$(e,a).subarray(0,a+1)),l=FA(e.subarray(a+1));return o+(l-o)*(s-a)}}function Vse(e,t,n=D$){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,s=(i-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function Wse(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++i<s;)a[i]=e+i*n;return a}function vi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function va(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lj=Symbol("implicit");function J1(){var e=new $A,t=[],n=[],i=Lj;function s(a){let o=e.get(a);if(o===void 0){if(i!==Lj)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $A;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return J1(t,n).unknown(i)},vi.apply(s,arguments),s}function Mf(){var e=J1().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,x=s<i,h=x?s:i,m=x?i:s;a=(m-h)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),h+=(m-h-a*(p-c))*u,o=a*(1-c),l&&(h=Math.round(h),o=Math.round(o));var y=Wse(p).map(function(j){return h+a*j});return n(x?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([i,s]=p,i=+i,s=+s,f()):[i,s]},e.rangeRound=function(p){return[i,s]=p,i=+i,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return Mf(t(),[i,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},vi.apply(f(),arguments)}function q$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return q$(t())},e}function Xu(){return q$(Mf.apply(null,arguments).paddingInner(1))}function eS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z$(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Qp(){}var $f=.7,mx=1/$f,_c="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hse=/^#([0-9a-f]{3,8})$/,Gse=new RegExp(`^rgb\\(${_c},${_c},${_c}\\)$`),Kse=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),Yse=new RegExp(`^rgba\\(${_c},${_c},${_c},${Df}\\)$`),Qse=new RegExp(`^rgba\\(${xs},${xs},${xs},${Df}\\)$`),Xse=new RegExp(`^hsl\\(${Df},${xs},${xs}\\)$`),Zse=new RegExp(`^hsla\\(${Df},${xs},${xs},${Df}\\)$`),qA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eS(Qp,Lf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zA,formatHex:zA,formatHex8:Jse,formatHsl:eae,formatRgb:BA,toString:BA});function zA(){return this.rgb().formatHex()}function Jse(){return this.rgb().formatHex8()}function eae(){return B$(this).formatHsl()}function BA(){return this.rgb().formatRgb()}function Lf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Hse.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UA(t):n===3?new Pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Im(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Im(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gse.exec(e))?new Pr(t[1],t[2],t[3],1):(t=Kse.exec(e))?new Pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yse.exec(e))?Im(t[1],t[2],t[3],t[4]):(t=Qse.exec(e))?Im(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xse.exec(e))?HA(t[1],t[2]/100,t[3]/100,1):(t=Zse.exec(e))?HA(t[1],t[2]/100,t[3]/100,t[4]):qA.hasOwnProperty(e)?UA(qA[e]):e==="transparent"?new Pr(NaN,NaN,NaN,0):null}function UA(e){return new Pr(e>>16&255,e>>8&255,e&255,1)}function Im(e,t,n,i){return i<=0&&(e=t=n=NaN),new Pr(e,t,n,i)}function tae(e){return e instanceof Qp||(e=Lf(e)),e?(e=e.rgb(),new Pr(e.r,e.g,e.b,e.opacity)):new Pr}function Fj(e,t,n,i){return arguments.length===1?tae(e):new Pr(e,t,n,i??1)}function Pr(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}eS(Pr,Fj,z$(Qp,{brighter(e){return e=e==null?mx:Math.pow(mx,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pr(sl(this.r),sl(this.g),sl(this.b),hx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VA,formatHex:VA,formatHex8:nae,formatRgb:WA,toString:WA}));function VA(){return`#${Vo(this.r)}${Vo(this.g)}${Vo(this.b)}`}function nae(){return`#${Vo(this.r)}${Vo(this.g)}${Vo(this.b)}${Vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function WA(){const e=hx(this.opacity);return`${e===1?"rgb(":"rgba("}${sl(this.r)}, ${sl(this.g)}, ${sl(this.b)}${e===1?")":`, ${e})`}`}function hx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vo(e){return e=sl(e),(e<16?"0":"")+e.toString(16)}function HA(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _i(e,t,n,i)}function B$(e){if(e instanceof _i)return new _i(e.h,e.s,e.l,e.opacity);if(e instanceof Qp||(e=Lf(e)),!e)return new _i;if(e instanceof _i)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new _i(o,l,c,e.opacity)}function rae(e,t,n,i){return arguments.length===1?B$(e):new _i(e,t,n,i??1)}function _i(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}eS(_i,rae,z$(Qp,{brighter(e){return e=e==null?mx:Math.pow(mx,e),new _i(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new _i(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Pr(a0(e>=240?e-240:e+120,s,i),a0(e,s,i),a0(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new _i(GA(this.h),Rm(this.s),Rm(this.l),hx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hx(this.opacity);return`${e===1?"hsl(":"hsla("}${GA(this.h)}, ${Rm(this.s)*100}%, ${Rm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GA(e){return e=(e||0)%360,e<0?e+360:e}function Rm(e){return Math.max(0,Math.min(1,e||0))}function a0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tS=e=>()=>e;function iae(e,t){return function(n){return e+n*t}}function sae(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function aae(e){return(e=+e)==1?U$:function(t,n){return n-t?sae(t,n,e):tS(isNaN(t)?n:t)}}function U$(e,t){var n=t-e;return n?iae(e,n):tS(isNaN(e)?t:e)}const KA=function e(t){var n=aae(t);function i(s,a){var o=n((s=Fj(s)).r,(a=Fj(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),d=U$(s.opacity,a.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return i.gamma=e,i}(1);function oae(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function lae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cae(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Jd(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function dae(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function xx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uae(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Jd(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var qj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o0=new RegExp(qj.source,"g");function fae(e){return function(){return e}}function pae(e){return function(t){return e(t)+""}}function mae(e,t){var n=qj.lastIndex=o0.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=qj.exec(e))&&(s=o0.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:xx(i,s)})),n=o0.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?pae(c[0].x):fae(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Jd(e,t){var n=typeof t,i;return t==null||n==="boolean"?tS(t):(n==="number"?xx:n==="string"?(i=Lf(t))?(t=i,KA):mae:t instanceof Lf?KA:t instanceof Date?dae:lae(t)?oae:Array.isArray(t)?cae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uae:xx)(e,t)}function nS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hae(e,t){t===void 0&&(t=e,e=Jd);for(var n=0,i=t.length-1,s=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[l](o-l)}}function xae(e){return function(){return e}}function vx(e){return+e}var YA=[0,1];function vr(e){return e}function zj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xae(isNaN(t)?NaN:.5)}function vae(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function gae(e,t,n){var i=e[0],s=e[1],a=t[0],o=t[1];return s<i?(i=zj(s,i),a=n(o,a)):(i=zj(i,s),a=n(a,o)),function(l){return a(i(l))}}function yae(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=zj(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Yp(e,l,1,i)-1;return a[c](s[c](l))}}function Xp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wg(){var e=YA,t=YA,n=Jd,i,s,a,o=vr,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==vr&&(o=vae(e[0],e[p-1])),l=p>2?yae:gae,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(i),t,n)))(i(o(p)))}return f.invert=function(p){return o(s((d||(d=l(t,e.map(i),xx)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,vx),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=nS,u()},f.clamp=function(p){return arguments.length?(o=p?!0:vr,u()):o!==vr},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,x){return i=p,s=x,u()}}function rS(){return wg()(vr,vr)}function bae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function dd(e){return e=gx(Math.abs(e)),e?e[1]:NaN}function jae(e,t){return function(n,i){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function wae(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Nae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ff(e){if(!(t=Nae.exec(e)))throw new Error("invalid format: "+e);var t;return new iS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ff.prototype=iS.prototype;function iS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sae(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var V$;function Cae(e,t){var n=gx(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(V$=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+gx(e,Math.max(0,t+a-1))[0]}function QA(e,t){var n=gx(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const XA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QA(e*100,t),r:QA,s:Cae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZA(e){return e}var JA=Array.prototype.map,e2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eae(e){var t=e.grouping===void 0||e.thousands===void 0?ZA:jae(JA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ZA:wae(JA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Ff(f);var p=f.fill,x=f.align,h=f.sign,m=f.symbol,y=f.zero,j=f.width,g=f.comma,v=f.precision,N=f.trim,w=f.type;w==="n"?(g=!0,w="g"):XA[w]||(v===void 0&&(v=12),N=!0,w="g"),(y||p==="0"&&x==="=")&&(y=!0,p="0",x="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?i:/[%p]/.test(w)?o:"",C=XA[w],k=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function R(P){var A=S,_=E,O,D,M;if(w==="c")_=C(P)+_,P="";else{P=+P;var G=P<0||1/P<0;if(P=isNaN(P)?c:C(Math.abs(P),v),N&&(P=Sae(P)),G&&+P==0&&h!=="+"&&(G=!1),A=(G?h==="("?h:l:h==="-"||h==="("?"":h)+A,_=(w==="s"?e2[8+V$/3]:"")+_+(G&&h==="("?")":""),k){for(O=-1,D=P.length;++O<D;)if(M=P.charCodeAt(O),48>M||M>57){_=(M===46?s+P.slice(O+1):P.slice(O))+_,P=P.slice(0,O);break}}}g&&!y&&(P=t(P,1/0));var z=A.length+P.length+_.length,I=z<j?new Array(j-z+1).join(p):"";switch(g&&y&&(P=t(I+P,I.length?j-_.length:1/0),I=""),x){case"<":P=A+P+_+I;break;case"=":P=A+I+P+_;break;case"^":P=I.slice(0,z=I.length>>1)+A+P+_+I.slice(z);break;default:P=I+A+P+_;break}return a(P)}return R.toString=function(){return f+""},R}function u(f,p){var x=d((f=Ff(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(dd(p)/3)))*3,m=Math.pow(10,-h),y=e2[8+h/3];return function(j){return x(m*j)+y}}return{format:d,formatPrefix:u}}var Mm,sS,W$;kae({thousands:",",grouping:[3],currency:["$",""]});function kae(e){return Mm=Eae(e),sS=Mm.format,W$=Mm.formatPrefix,Mm}function Aae(e){return Math.max(0,-dd(Math.abs(e)))}function _ae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dd(t)/3)))*3-dd(Math.abs(e)))}function Pae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dd(t)-dd(e))+1}function H$(e,t,n,i){var s=Dj(e,t,n),a;switch(i=Ff(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=_ae(s,o))&&(i.precision=a),W$(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Pae(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Aae(s))&&(i.precision=a-(i.type==="%")*2);break}}return sS(i)}function jo(e){var t=e.domain;return e.ticks=function(n){var i=t();return Mj(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return H$(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,a=i.length-1,o=i[s],l=i[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=a,a=d);u-- >0;){if(d=$j(o,l,n),d===c)return i[s]=o,i[a]=l,t(i);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function yx(){var e=rS();return e.copy=function(){return Xp(e,yx())},vi.apply(e,arguments),jo(e)}function G$(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,vx),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return G$(e).unknown(t)},e=arguments.length?Array.from(e,vx):[0,1],jo(n)}function K$(e,t){e=e.slice();var n=0,i=e.length-1,s=e[n],a=e[i],o;return a<s&&(o=n,n=i,i=o,o=s,s=a,a=o),e[n]=t.floor(s),e[i]=t.ceil(a),e}function t2(e){return Math.log(e)}function n2(e){return Math.exp(e)}function Tae(e){return-Math.log(-e)}function Oae(e){return-Math.exp(-e)}function Iae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Rae(e){return e===10?Iae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Mae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function r2(e){return(t,n)=>-e(-t,n)}function aS(e){const t=e(t2,n2),n=t.domain;let i=10,s,a;function o(){return s=Mae(i),a=Rae(i),n()[0]<0?(s=r2(s),a=r2(a),e(Tae,Oae)):e(t2,n2),t}return t.base=function(l){return arguments.length?(i=+l,o()):i},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=s(d),x=s(u),h,m;const y=l==null?10:+l;let j=[];if(!(i%1)&&x-p<y){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(h=1;h<i;++h)if(m=p<0?h/a(-p):h*a(p),!(m<d)){if(m>u)break;j.push(m)}}else for(;p<=x;++p)for(h=i-1;h>=1;--h)if(m=p>0?h/a(-p):h*a(p),!(m<d)){if(m>u)break;j.push(m)}j.length*2<y&&(j=Mj(d,u,y))}else j=Mj(p,x,Math.min(x-p,y)).map(a);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Ff(c)).precision==null&&(c.trim=!0),c=sS(c)),l===1/0)return c;const d=Math.max(1,i*l/t.ticks().length);return u=>{let f=u/a(Math.round(s(u)));return f*i<i-.5&&(f*=i),f<=d?c(u):""}},t.nice=()=>n(K$(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function Y$(){const e=aS(wg()).domain([1,10]);return e.copy=()=>Xp(e,Y$()).base(e.base()),vi.apply(e,arguments),e}function i2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oS(e){var t=1,n=e(i2(t),s2(t));return n.constant=function(i){return arguments.length?e(i2(t=+i),s2(t)):t},jo(n)}function Q$(){var e=oS(wg());return e.copy=function(){return Xp(e,Q$()).constant(e.constant())},vi.apply(e,arguments)}function a2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $ae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dae(e){return e<0?-e*e:e*e}function lS(e){var t=e(vr,vr),n=1;function i(){return n===1?e(vr,vr):n===.5?e($ae,Dae):e(a2(n),a2(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,i()):n},jo(t)}function cS(){var e=lS(wg());return e.copy=function(){return Xp(e,cS()).exponent(e.exponent())},vi.apply(e,arguments),e}function Lae(){return cS.apply(null,arguments).exponent(.5)}function o2(e){return Math.sign(e)*e*e}function Fae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X$(){var e=rS(),t=[0,1],n=!1,i;function s(a){var o=Fae(e(a));return isNaN(o)?i:n?Math.round(o):o}return s.invert=function(a){return e.invert(o2(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,vx)).map(o2)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return X$(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},vi.apply(s,arguments),jo(s)}function Z$(){var e=[],t=[],n=[],i;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Vse(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?i:t[Yp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ja),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Z$().domain(e).range(t).unknown(i)},vi.apply(a,arguments)}function J$(){var e=0,t=1,n=1,i=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Yp(i,c,0,n)]:a}function l(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,i[0]]:d>=n?[i[n-1],t]:[i[d-1],i[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return i.slice()},o.copy=function(){return J$().domain([e,t]).range(s).unknown(a)},vi.apply(jo(o),arguments)}function eD(){var e=[.5],t=[0,1],n,i=1;function s(a){return a!=null&&a<=a?t[Yp(e,a,0,i)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return eD().domain(e).range(t).unknown(n)},vi.apply(s,arguments)}const l0=new Date,c0=new Date;function Rn(e,t,n,i){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},s.filter=a=>Rn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(l0.setTime(+a),c0.setTime(+o),e(l0),e(c0),Math.floor(n(l0,c0))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(i?o=>i(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const bx=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bx);bx.range;const Bs=1e3,ci=Bs*60,Us=ci*60,la=Us*24,dS=la*7,l2=la*30,d0=la*365,Wo=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCSeconds());Wo.range;const uS=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getMinutes());uS.range;const fS=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getUTCMinutes());fS.range;const pS=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs-e.getMinutes()*ci)},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getHours());pS.range;const mS=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getUTCHours());mS.range;const Zp=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ci)/la,e=>e.getDate()-1);Zp.range;const Ng=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/la,e=>e.getUTCDate()-1);Ng.range;const tD=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/la,e=>Math.floor(e/la));tD.range;function Il(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ci)/dS)}const Sg=Il(0),jx=Il(1),qae=Il(2),zae=Il(3),ud=Il(4),Bae=Il(5),Uae=Il(6);Sg.range;jx.range;qae.range;zae.range;ud.range;Bae.range;Uae.range;function Rl(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/dS)}const Cg=Rl(0),wx=Rl(1),Vae=Rl(2),Wae=Rl(3),fd=Rl(4),Hae=Rl(5),Gae=Rl(6);Cg.range;wx.range;Vae.range;Wae.range;fd.range;Hae.range;Gae.range;const hS=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hS.range;const xS=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xS.range;const ca=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ca.range;const da=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});da.range;function nD(e,t,n,i,s,a){const o=[[Wo,1,Bs],[Wo,5,5*Bs],[Wo,15,15*Bs],[Wo,30,30*Bs],[a,1,ci],[a,5,5*ci],[a,15,15*ci],[a,30,30*ci],[s,1,Us],[s,3,3*Us],[s,6,6*Us],[s,12,12*Us],[i,1,la],[i,2,2*la],[n,1,dS],[t,1,l2],[t,3,3*l2],[e,1,d0]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const x=f&&typeof f.range=="function"?f:c(d,u,f),h=x?x.range(d,+u+1):[];return p?h.reverse():h}function c(d,u,f){const p=Math.abs(u-d)/f,x=Z1(([,,y])=>y).right(o,p);if(x===o.length)return e.every(Dj(d/d0,u/d0,f));if(x===0)return bx.every(Math.max(Dj(d,u,f),1));const[h,m]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return h.every(m)}return[l,c]}const[Kae,Yae]=nD(da,xS,Cg,tD,mS,fS),[Qae,Xae]=nD(ca,hS,Sg,Zp,pS,uS);function u0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Zae(e){var t=e.dateTime,n=e.date,i=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=bu(s),u=ju(s),f=bu(a),p=ju(a),x=bu(o),h=ju(o),m=bu(l),y=ju(l),j=bu(c),g=ju(c),v={a:G,A:z,b:I,B:U,c:null,d:m2,e:m2,f:joe,g:Toe,G:Ioe,H:goe,I:yoe,j:boe,L:rD,m:woe,M:Noe,p:Z,q:$,Q:v2,s:g2,S:Soe,u:Coe,U:Eoe,V:koe,w:Aoe,W:_oe,x:null,X:null,y:Poe,Y:Ooe,Z:Roe,"%":x2},N={a:ie,A:ne,b:J,B:se,c:null,d:h2,e:h2,f:Loe,g:Koe,G:Qoe,H:Moe,I:$oe,j:Doe,L:sD,m:Foe,M:qoe,p:ue,q:ke,Q:v2,s:g2,S:zoe,u:Boe,U:Uoe,V:Voe,w:Woe,W:Hoe,x:null,X:null,y:Goe,Y:Yoe,Z:Xoe,"%":x2},w={a:R,A:P,b:A,B:_,c:O,d:f2,e:f2,f:moe,g:u2,G:d2,H:p2,I:p2,j:doe,L:poe,m:coe,M:uoe,p:k,q:loe,Q:xoe,s:voe,S:foe,u:roe,U:ioe,V:soe,w:noe,W:aoe,x:D,X:M,y:u2,Y:d2,Z:ooe,"%":hoe};v.x=S(n,v),v.X=S(i,v),v.c=S(t,v),N.x=S(n,N),N.X=S(i,N),N.c=S(t,N);function S(ce,ve){return function(he){var B=[],fe=-1,pe=0,Te=ce.length,Ne,et,at;for(he instanceof Date||(he=new Date(+he));++fe<Te;)ce.charCodeAt(fe)===37&&(B.push(ce.slice(pe,fe)),(et=c2[Ne=ce.charAt(++fe)])!=null?Ne=ce.charAt(++fe):et=Ne==="e"?" ":"0",(at=ve[Ne])&&(Ne=at(he,et)),B.push(Ne),pe=fe+1);return B.push(ce.slice(pe,fe)),B.join("")}}function E(ce,ve){return function(he){var B=yu(1900,void 0,1),fe=C(B,ce,he+="",0),pe,Te;if(fe!=he.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(ve&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(pe=f0(yu(B.y,0,1)),Te=pe.getUTCDay(),pe=Te>4||Te===0?wx.ceil(pe):wx(pe),pe=Ng.offset(pe,(B.V-1)*7),B.y=pe.getUTCFullYear(),B.m=pe.getUTCMonth(),B.d=pe.getUTCDate()+(B.w+6)%7):(pe=u0(yu(B.y,0,1)),Te=pe.getDay(),pe=Te>4||Te===0?jx.ceil(pe):jx(pe),pe=Zp.offset(pe,(B.V-1)*7),B.y=pe.getFullYear(),B.m=pe.getMonth(),B.d=pe.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Te="Z"in B?f0(yu(B.y,0,1)).getUTCDay():u0(yu(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Te+5)%7:B.w+B.U*7-(Te+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,f0(B)):u0(B)}}function C(ce,ve,he,B){for(var fe=0,pe=ve.length,Te=he.length,Ne,et;fe<pe;){if(B>=Te)return-1;if(Ne=ve.charCodeAt(fe++),Ne===37){if(Ne=ve.charAt(fe++),et=w[Ne in c2?ve.charAt(fe++):Ne],!et||(B=et(ce,he,B))<0)return-1}else if(Ne!=he.charCodeAt(B++))return-1}return B}function k(ce,ve,he){var B=d.exec(ve.slice(he));return B?(ce.p=u.get(B[0].toLowerCase()),he+B[0].length):-1}function R(ce,ve,he){var B=x.exec(ve.slice(he));return B?(ce.w=h.get(B[0].toLowerCase()),he+B[0].length):-1}function P(ce,ve,he){var B=f.exec(ve.slice(he));return B?(ce.w=p.get(B[0].toLowerCase()),he+B[0].length):-1}function A(ce,ve,he){var B=j.exec(ve.slice(he));return B?(ce.m=g.get(B[0].toLowerCase()),he+B[0].length):-1}function _(ce,ve,he){var B=m.exec(ve.slice(he));return B?(ce.m=y.get(B[0].toLowerCase()),he+B[0].length):-1}function O(ce,ve,he){return C(ce,t,ve,he)}function D(ce,ve,he){return C(ce,n,ve,he)}function M(ce,ve,he){return C(ce,i,ve,he)}function G(ce){return o[ce.getDay()]}function z(ce){return a[ce.getDay()]}function I(ce){return c[ce.getMonth()]}function U(ce){return l[ce.getMonth()]}function Z(ce){return s[+(ce.getHours()>=12)]}function $(ce){return 1+~~(ce.getMonth()/3)}function ie(ce){return o[ce.getUTCDay()]}function ne(ce){return a[ce.getUTCDay()]}function J(ce){return c[ce.getUTCMonth()]}function se(ce){return l[ce.getUTCMonth()]}function ue(ce){return s[+(ce.getUTCHours()>=12)]}function ke(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ve=S(ce+="",v);return ve.toString=function(){return ce},ve},parse:function(ce){var ve=E(ce+="",!1);return ve.toString=function(){return ce},ve},utcFormat:function(ce){var ve=S(ce+="",N);return ve.toString=function(){return ce},ve},utcParse:function(ce){var ve=E(ce+="",!0);return ve.toString=function(){return ce},ve}}}var c2={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,Jae=/^%/,eoe=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,n){var i=e<0?"-":"",s=(i?-e:e)+"",a=s.length;return i+(a<n?new Array(n-a+1).join(t)+s:s)}function toe(e){return e.replace(eoe,"\\$&")}function bu(e){return new RegExp("^(?:"+e.map(toe).join("|")+")","i")}function ju(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function noe(e,t,n){var i=zn.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function roe(e,t,n){var i=zn.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function ioe(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function soe(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function aoe(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function d2(e,t,n){var i=zn.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function u2(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function ooe(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function loe(e,t,n){var i=zn.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function coe(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function f2(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function doe(e,t,n){var i=zn.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function p2(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function uoe(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function foe(e,t,n){var i=zn.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function poe(e,t,n){var i=zn.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function moe(e,t,n){var i=zn.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function hoe(e,t,n){var i=Jae.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function xoe(e,t,n){var i=zn.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function voe(e,t,n){var i=zn.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function m2(e,t){return Pt(e.getDate(),t,2)}function goe(e,t){return Pt(e.getHours(),t,2)}function yoe(e,t){return Pt(e.getHours()%12||12,t,2)}function boe(e,t){return Pt(1+Zp.count(ca(e),e),t,3)}function rD(e,t){return Pt(e.getMilliseconds(),t,3)}function joe(e,t){return rD(e,t)+"000"}function woe(e,t){return Pt(e.getMonth()+1,t,2)}function Noe(e,t){return Pt(e.getMinutes(),t,2)}function Soe(e,t){return Pt(e.getSeconds(),t,2)}function Coe(e){var t=e.getDay();return t===0?7:t}function Eoe(e,t){return Pt(Sg.count(ca(e)-1,e),t,2)}function iD(e){var t=e.getDay();return t>=4||t===0?ud(e):ud.ceil(e)}function koe(e,t){return e=iD(e),Pt(ud.count(ca(e),e)+(ca(e).getDay()===4),t,2)}function Aoe(e){return e.getDay()}function _oe(e,t){return Pt(jx.count(ca(e)-1,e),t,2)}function Poe(e,t){return Pt(e.getFullYear()%100,t,2)}function Toe(e,t){return e=iD(e),Pt(e.getFullYear()%100,t,2)}function Ooe(e,t){return Pt(e.getFullYear()%1e4,t,4)}function Ioe(e,t){var n=e.getDay();return e=n>=4||n===0?ud(e):ud.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Roe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function h2(e,t){return Pt(e.getUTCDate(),t,2)}function Moe(e,t){return Pt(e.getUTCHours(),t,2)}function $oe(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function Doe(e,t){return Pt(1+Ng.count(da(e),e),t,3)}function sD(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Loe(e,t){return sD(e,t)+"000"}function Foe(e,t){return Pt(e.getUTCMonth()+1,t,2)}function qoe(e,t){return Pt(e.getUTCMinutes(),t,2)}function zoe(e,t){return Pt(e.getUTCSeconds(),t,2)}function Boe(e){var t=e.getUTCDay();return t===0?7:t}function Uoe(e,t){return Pt(Cg.count(da(e)-1,e),t,2)}function aD(e){var t=e.getUTCDay();return t>=4||t===0?fd(e):fd.ceil(e)}function Voe(e,t){return e=aD(e),Pt(fd.count(da(e),e)+(da(e).getUTCDay()===4),t,2)}function Woe(e){return e.getUTCDay()}function Hoe(e,t){return Pt(wx.count(da(e)-1,e),t,2)}function Goe(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function Koe(e,t){return e=aD(e),Pt(e.getUTCFullYear()%100,t,2)}function Yoe(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function Qoe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fd(e):fd.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function Xoe(){return"+0000"}function x2(){return"%"}function v2(e){return+e}function g2(e){return Math.floor(+e/1e3)}var Bl,oD,lD;Zoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zoe(e){return Bl=Zae(e),oD=Bl.format,Bl.parse,lD=Bl.utcFormat,Bl.utcParse,Bl}function Joe(e){return new Date(e)}function ele(e){return e instanceof Date?+e:+new Date(+e)}function vS(e,t,n,i,s,a,o,l,c,d){var u=rS(),f=u.invert,p=u.domain,x=d(".%L"),h=d(":%S"),m=d("%I:%M"),y=d("%I %p"),j=d("%a %d"),g=d("%b %d"),v=d("%B"),N=d("%Y");function w(S){return(c(S)<S?x:l(S)<S?h:o(S)<S?m:a(S)<S?y:i(S)<S?s(S)<S?j:g:n(S)<S?v:N)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?p(Array.from(S,ele)):p().map(Joe)},u.ticks=function(S){var E=p();return e(E[0],E[E.length-1],S??10)},u.tickFormat=function(S,E){return E==null?w:d(E)},u.nice=function(S){var E=p();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?p(K$(E,S)):u},u.copy=function(){return Xp(u,vS(e,t,n,i,s,a,o,l,c,d))},u}function tle(){return vi.apply(vS(Qae,Xae,ca,hS,Sg,Zp,pS,uS,Wo,oD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nle(){return vi.apply(vS(Kae,Yae,da,xS,Cg,Ng,mS,fS,Wo,lD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eg(){var e=0,t=1,n,i,s,a,o=vr,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),i=a(t=+t),s=n===i?0:1/(i-n),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(p){var x,h;return arguments.length?([x,h]=p,o=f(x,h),d):[o(0),o(1)]}}return d.range=u(Jd),d.rangeRound=u(nS),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return a=f,n=f(e),i=f(t),s=n===i?0:1/(i-n),d}}function wo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cD(){var e=jo(Eg()(vr));return e.copy=function(){return wo(e,cD())},va.apply(e,arguments)}function dD(){var e=aS(Eg()).domain([1,10]);return e.copy=function(){return wo(e,dD()).base(e.base())},va.apply(e,arguments)}function uD(){var e=oS(Eg());return e.copy=function(){return wo(e,uD()).constant(e.constant())},va.apply(e,arguments)}function gS(){var e=lS(Eg());return e.copy=function(){return wo(e,gS()).exponent(e.exponent())},va.apply(e,arguments)}function rle(){return gS.apply(null,arguments).exponent(.5)}function fD(){var e=[],t=vr;function n(i){if(i!=null&&!isNaN(i=+i))return t((Yp(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ja),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,s)=>t(s/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(s,a)=>Use(e,a/i))},n.copy=function(){return fD(t).domain(e)},va.apply(n,arguments)}function kg(){var e=0,t=.5,n=1,i=1,s,a,o,l,c,d=vr,u,f=!1,p;function x(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(i*m<i*a?l:c),d(f?Math.max(0,Math.min(1,m)):m))}x.domain=function(m){return arguments.length?([e,t,n]=m,s=u(e=+e),a=u(t=+t),o=u(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),i=a<s?-1:1,x):[e,t,n]},x.clamp=function(m){return arguments.length?(f=!!m,x):f},x.interpolator=function(m){return arguments.length?(d=m,x):d};function h(m){return function(y){var j,g,v;return arguments.length?([j,g,v]=y,d=hae(m,[j,g,v]),x):[d(0),d(.5),d(1)]}}return x.range=h(Jd),x.rangeRound=h(nS),x.unknown=function(m){return arguments.length?(p=m,x):p},function(m){return u=m,s=m(e),a=m(t),o=m(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),i=a<s?-1:1,x}}function pD(){var e=jo(kg()(vr));return e.copy=function(){return wo(e,pD())},va.apply(e,arguments)}function mD(){var e=aS(kg()).domain([.1,1,10]);return e.copy=function(){return wo(e,mD()).base(e.base())},va.apply(e,arguments)}function hD(){var e=oS(kg());return e.copy=function(){return wo(e,hD()).constant(e.constant())},va.apply(e,arguments)}function yS(){var e=lS(kg());return e.copy=function(){return wo(e,yS()).exponent(e.exponent())},va.apply(e,arguments)}function ile(){return yS.apply(null,arguments).exponent(.5)}const y2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mf,scaleDiverging:pD,scaleDivergingLog:mD,scaleDivergingPow:yS,scaleDivergingSqrt:ile,scaleDivergingSymlog:hD,scaleIdentity:G$,scaleImplicit:Lj,scaleLinear:yx,scaleLog:Y$,scaleOrdinal:J1,scalePoint:Xu,scalePow:cS,scaleQuantile:Z$,scaleQuantize:J$,scaleRadial:X$,scaleSequential:cD,scaleSequentialLog:dD,scaleSequentialPow:gS,scaleSequentialQuantile:fD,scaleSequentialSqrt:rle,scaleSequentialSymlog:uD,scaleSqrt:Lae,scaleSymlog:Q$,scaleThreshold:eD,scaleTime:tle,scaleUtc:nle,tickFormat:H$},Symbol.toStringTag,{value:"Module"}));var sle=Wd;function ale(e,t,n){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(o!=null&&(l===void 0?o===o&&!sle(o):n(o,l)))var l=o,c=a}return c}var Ag=ale;function ole(e,t){return e>t}var xD=ole,lle=Ag,cle=xD,dle=Zd;function ule(e){return e&&e.length?lle(e,dle,cle):void 0}var fle=ule;const _g=Rt(fle);function ple(e,t){return e<t}var vD=ple,mle=Ag,hle=vD,xle=Zd;function vle(e){return e&&e.length?mle(e,xle,hle):void 0}var gle=vle;const Pg=Rt(gle);var yle=I1,ble=ks,jle=C$,wle=Mr;function Nle(e,t){var n=wle(e)?yle:jle;return n(e,ble(t))}var Sle=Nle,Cle=N$,Ele=Sle;function kle(e,t){return Cle(Ele(e,t),1)}var Ale=kle;const _le=Rt(Ale);var Ple=K1;function Tle(e,t){return Ple(e,t)}var Ole=Tle;const Tg=Rt(Ole);var eu=1e9,Ile={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jS,on=!0,mi="[DecimalError] ",al=mi+"Invalid argument: ",bS=mi+"Exponent out of range: ",tu=Math.floor,Mo=Math.pow,Rle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Br,$n=1e7,tn=7,gD=9007199254740991,Nx=tu(gD/tn),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,n,i,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(i=a.d.length,s=e.d.length,t=0,n=i<s?i:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return i===s?0:i>s^a.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*tn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(e){return Qs(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,n=t.constructor;return Wt(Qs(t,new n(e),0,1),n.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return Cn(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,n=this,i=n.constructor,s=i.precision,a=s+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(Br))throw Error(mi+"NaN");if(n.s<1)throw Error(mi+(n.s?"NaN":"-Infinity"));return n.eq(Br)?new i(0):(on=!1,t=Qs(qf(n,a),qf(e,a),a),on=!0,Wt(t,s))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jD(t,e):yD(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,n=this,i=n.constructor,s=i.precision;if(e=new i(e),!e.s)throw Error(mi+"NaN");return n.s?(on=!1,t=Qs(n,e,0,1).times(e),on=!0,n.minus(t)):Wt(new i(n),s)};Ve.naturalExponential=Ve.exp=function(){return bD(this)};Ve.naturalLogarithm=Ve.ln=function(){return qf(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yD(t,e):jD(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,n,i,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(al+e);if(t=Cn(s)+1,i=s.d.length-1,n=i*tn+1,i=s.d[i],i){for(;i%10==0;i/=10)n--;for(i=s.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};Ve.squareRoot=Ve.sqrt=function(){var e,t,n,i,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(mi+"NaN")}for(e=Cn(l),on=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=ds(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=tu((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new c(t)):i=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=i,i=a.plus(Qs(l,a,o+2)).times(.5),ds(a.d).slice(0,o)===(t=ds(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Wt(a,n+1,0),a.times(a).eq(l)){i=a;break}}else if(t!="9999")break;o+=4}return on=!0,Wt(i,n)};Ve.times=Ve.mul=function(e){var t,n,i,s,a,o,l,c,d,u=this,f=u.constructor,p=u.d,x=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=x.length,c<d&&(a=p,p=x,x=a,o=c,c=d,d=o),a=[],o=c+d,i=o;i--;)a.push(0);for(i=d;--i>=0;){for(t=0,s=c+i;s>i;)l=a[s]+x[i]*p[s-i-1]+t,a[s--]=l%$n|0,t=l/$n|0;a[s]=(a[s]+t)%$n|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,on?Wt(e,f.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(ws(e,0,eu),t===void 0?t=i.rounding:ws(t,0,8),Wt(n,e+Cn(n)+1,t))};Ve.toExponential=function(e,t){var n,i=this,s=i.constructor;return e===void 0?n=jl(i,!0):(ws(e,0,eu),t===void 0?t=s.rounding:ws(t,0,8),i=Wt(new s(i),e+1,t),n=jl(i,!0,e+1)),n};Ve.toFixed=function(e,t){var n,i,s=this,a=s.constructor;return e===void 0?jl(s):(ws(e,0,eu),t===void 0?t=a.rounding:ws(t,0,8),i=Wt(new a(s),e+Cn(s)+1,t),n=jl(i.abs(),!1,e+Cn(i)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),Cn(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,n,i,s,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Br);if(l=new c(l),!l.s){if(e.s<1)throw Error(mi+"Infinity");return l}if(l.eq(Br))return l;if(i=c.precision,e.eq(Br))return Wt(l,i);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=u<0?-u:u)<=gD){for(s=new c(Br),t=Math.ceil(i/tn+4),on=!1;n%2&&(s=s.times(l),j2(s.d,t)),n=tu(n/2),n!==0;)l=l.times(l),j2(l.d,t);return on=!0,e.s<0?new c(Br).div(s):Wt(s,i)}}else if(a<0)throw Error(mi+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,on=!1,s=e.times(qf(l,i+d)),on=!0,s=bD(s),s.s=a,s};Ve.toPrecision=function(e,t){var n,i,s=this,a=s.constructor;return e===void 0?(n=Cn(s),i=jl(s,n<=a.toExpNeg||n>=a.toExpPos)):(ws(e,1,eu),t===void 0?t=a.rounding:ws(t,0,8),s=Wt(new a(s),e,t),n=Cn(s),i=jl(s,e<=n||n<=a.toExpNeg,e)),i};Ve.toSignificantDigits=Ve.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(ws(e,1,eu),t===void 0?t=i.rounding:ws(t,0,8)),Wt(new i(n),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cn(e),n=e.constructor;return jl(e,t<=n.toExpNeg||t>=n.toExpPos)};function yD(e,t){var n,i,s,a,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),on?Wt(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(i=c,a=-a,l=d.length):(i=d,s=o,l=c.length),o=Math.ceil(f/tn),l=o>l?o+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,i=d,d=c,c=i),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/$n|0,c[a]%=$n;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,on?Wt(t,f):t}function ws(e,t,n){if(e!==~~e||e<t||e>n)throw Error(al+e)}function ds(e){var t,n,i,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)i=e[t]+"",n=tn-i.length,n&&(a+=Aa(n)),a+=i;o=e[t],i=o+"",n=tn-i.length,n&&(a+=Aa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Qs=function(){function e(i,s){var a,o=0,l=i.length;for(i=i.slice();l--;)a=i[l]*s+o,i[l]=a%$n|0,o=a/$n|0;return o&&i.unshift(o),i}function t(i,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=s[l]){c=i[l]>s[l]?1:-1;break}return c}function n(i,s,a){for(var o=0;a--;)i[a]-=o,o=i[a]<s[a]?1:0,i[a]=o*$n+i[a]-s[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,s,a,o){var l,c,d,u,f,p,x,h,m,y,j,g,v,N,w,S,E,C,k=i.constructor,R=i.s==s.s?1:-1,P=i.d,A=s.d;if(!i.s)return new k(i);if(!s.s)throw Error(mi+"Division by zero");for(c=i.e-s.e,E=A.length,w=P.length,x=new k(R),h=x.d=[],d=0;A[d]==(P[d]||0);)++d;if(A[d]>(P[d]||0)&&--c,a==null?g=a=k.precision:o?g=a+(Cn(i)-Cn(s))+1:g=a,g<0)return new k(0);if(g=g/tn+2|0,d=0,E==1)for(u=0,A=A[0],g++;(d<w||u)&&g--;d++)v=u*$n+(P[d]||0),h[d]=v/A|0,u=v%A|0;else{for(u=$n/(A[0]+1)|0,u>1&&(A=e(A,u),P=e(P,u),E=A.length,w=P.length),N=E,m=P.slice(0,E),y=m.length;y<E;)m[y++]=0;C=A.slice(),C.unshift(0),S=A[0],A[1]>=$n/2&&++S;do u=0,l=t(A,m,E,y),l<0?(j=m[0],E!=y&&(j=j*$n+(m[1]||0)),u=j/S|0,u>1?(u>=$n&&(u=$n-1),f=e(A,u),p=f.length,y=m.length,l=t(f,m,p,y),l==1&&(u--,n(f,E<p?C:A,p))):(u==0&&(l=u=1),f=A.slice()),p=f.length,p<y&&f.unshift(0),n(m,f,y),l==-1&&(y=m.length,l=t(A,m,E,y),l<1&&(u++,n(m,E<y?C:A,y))),y=m.length):l===0&&(u++,m=[0]),h[d++]=u,l&&m[0]?m[y++]=P[N]||0:(m=[P[N]],y=1);while((N++<w||m[0]!==void 0)&&g--)}return h[0]||h.shift(),x.e=c,Wt(x,o?a+Cn(x)+1:a)}}();function bD(e,t){var n,i,s,a,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(Cn(e)>16)throw Error(bS+Cn(e));if(!e.s)return new u(Br);for(t==null?(on=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(i=Math.log(Mo(2,d))/Math.LN10*2+5|0,l+=i,n=s=a=new u(Br),u.precision=l;;){if(s=Wt(s.times(e),l),n=n.times(++c),o=a.plus(Qs(s,n,l)),ds(o.d).slice(0,l)===ds(a.d).slice(0,l)){for(;d--;)a=Wt(a.times(a),l);return u.precision=f,t==null?(on=!0,Wt(a,f)):a}a=o}}function Cn(e){for(var t=e.e*tn,n=e.d[0];n>=10;n/=10)t++;return t}function p0(e,t,n){if(t>e.LN10.sd())throw on=!0,n&&(e.precision=n),Error(mi+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function Aa(e){for(var t="";e--;)t+="0";return t}function qf(e,t){var n,i,s,a,o,l,c,d,u,f=1,p=10,x=e,h=x.d,m=x.constructor,y=m.precision;if(x.s<1)throw Error(mi+(x.s?"NaN":"-Infinity"));if(x.eq(Br))return new m(0);if(t==null?(on=!1,d=y):d=t,x.eq(10))return t==null&&(on=!0),p0(m,d);if(d+=p,m.precision=d,n=ds(h),i=n.charAt(0),a=Cn(x),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)x=x.times(e),n=ds(x.d),i=n.charAt(0),f++;a=Cn(x),i>1?(x=new m("0."+n),a++):x=new m(i+"."+n.slice(1))}else return c=p0(m,d+2,y).times(a+""),x=qf(new m(i+"."+n.slice(1)),d-p).plus(c),m.precision=y,t==null?(on=!0,Wt(x,y)):x;for(l=o=x=Qs(x.minus(Br),x.plus(Br),d),u=Wt(x.times(x),d),s=3;;){if(o=Wt(o.times(u),d),c=l.plus(Qs(o,new m(s),d)),ds(c.d).slice(0,d)===ds(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(p0(m,d+2,y).times(a+""))),l=Qs(l,new m(f),d),m.precision=y,t==null?(on=!0,Wt(l,y)):l;l=c,s+=2}}function b2(e,t){var n,i,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(i,s),t){if(s-=i,n=n-i-1,e.e=tu(n/tn),e.d=[],i=(n+1)%tn,n<0&&(i+=tn),i<s){for(i&&e.d.push(+t.slice(0,i)),s-=tn;i<s;)e.d.push(+t.slice(i,i+=tn));t=t.slice(i),i=tn-t.length}else i-=s;for(;i--;)t+="0";if(e.d.push(+t),on&&(e.e>Nx||e.e<-Nx))throw Error(bS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,n){var i,s,a,o,l,c,d,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=tn,s=t,d=f[u=0];else{if(u=Math.ceil((i+1)/tn),a=f.length,u>=a)return e;for(d=a=f[u],o=1;a>=10;a/=10)o++;i%=tn,s=i-tn+o}if(n!==void 0&&(a=Mo(10,o-s-1),l=d/a%10|0,c=t<0||f[u+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(i>0?s>0?d/Mo(10,o-s):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=Cn(e),f.length=1,t=t-a-1,f[0]=Mo(10,(tn-t%tn)%tn),e.e=tu(-t/tn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(i==0?(f.length=u,a=1,u--):(f.length=u+1,a=Mo(10,tn-i),f[u]=s>0?(d/Mo(10,o-s)%Mo(10,s)|0)*a:0),c)for(;;)if(u==0){(f[0]+=a)==$n&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=$n)break;f[u--]=0,a=1}for(i=f.length;f[--i]===0;)f.pop();if(on&&(e.e>Nx||e.e<-Nx))throw Error(bS+Cn(e));return e}function jD(e,t){var n,i,s,a,o,l,c,d,u,f,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),on?Wt(t,x):t;if(c=e.d,f=t.d,i=t.e,d=e.e,c=c.slice(),o=d-i,o){for(u=o<0,u?(n=c,o=-o,l=f.length):(n=f,i=d,l=c.length),s=Math.max(Math.ceil(x/tn),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=$n-1;--c[a],c[s]+=$n}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(t.d=c,t.e=i,on?Wt(t,x):t):new p(0)}function jl(e,t,n){var i,s=Cn(e),a=ds(e.d),o=a.length;return t?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Aa(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Aa(-s-1)+a,n&&(i=n-o)>0&&(a+=Aa(i))):s>=o?(a+=Aa(s+1-o),n&&(i=n-s-1)>0&&(a=a+"."+Aa(i))):((i=s+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(s+1===o&&(a+="."),a+=Aa(i))),e.s<0?"-"+a:a}function j2(e,t){if(e.length>t)return e.length=t,!0}function wD(e){var t,n,i;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(al+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return b2(o,a.toString())}else if(typeof a!="string")throw Error(al+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Rle.test(a))b2(o,a);else throw Error(al+a)}if(s.prototype=Ve,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=wD,s.config=s.set=Mle,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return s.config(e),s}function Mle(e){if(!e||typeof e!="object")throw Error(mi+"Object expected");var t,n,i,s=["precision",1,eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((i=e[n=s[t]])!==void 0)if(tu(i)===i&&i>=s[t+1]&&i<=s[t+2])this[n]=i;else throw Error(al+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(al+n+": "+i);return this}var jS=wD(Ile);Br=new jS(1);const Bt=jS;function $le(e){return qle(e)||Fle(e)||Lle(e)||Dle()}function Dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lle(e,t){if(e){if(typeof e=="string")return Bj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bj(e,t)}}function Fle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qle(e){if(Array.isArray(e))return Bj(e)}function Bj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zle=function(t){return t},ND={"@@functional/placeholder":!0},SD=function(t){return t===ND},w2=function(t){return function n(){return arguments.length===0||arguments.length===1&&SD(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Ble=function e(t,n){return t===1?n:w2(function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==ND}).length;return o>=t?n.apply(void 0,s):e(t-o,w2(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(f){return SD(f)?c.shift():f});return n.apply(void 0,$le(u).concat(c))}))})},Og=function(t){return Ble(t.length,t)},Uj=function(t,n){for(var i=[],s=t;s<n;++s)i[s-t]=s;return i},Ule=Og(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Vle=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return zle;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Vj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CD=function(t){var n=null,i=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,i=t.apply(void 0,a)),i}};function Wle(e){var t;return e===0?t=1:t=Math.floor(new Bt(e).abs().log(10).toNumber())+1,t}function Hle(e,t,n){for(var i=new Bt(e),s=0,a=[];i.lt(t)&&s<1e5;)a.push(i.toNumber()),i=i.add(n),s++;return a}var Gle=Og(function(e,t,n){var i=+e,s=+t;return i+n*(s-i)}),Kle=Og(function(e,t,n){var i=t-+e;return i=i||1/0,(n-e)/i}),Yle=Og(function(e,t,n){var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});const Ig={rangeStep:Hle,getDigitCount:Wle,interpolateNumber:Gle,uninterpolateNumber:Kle,uninterpolateTruncation:Yle};function Wj(e){return Zle(e)||Xle(e)||ED(e)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Zle(e){if(Array.isArray(e))return Hj(e)}function zf(e,t){return tce(e)||ece(e,t)||ED(e,t)||Jle()}function Jle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ED(e,t){if(e){if(typeof e=="string")return Hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(e,t)}}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ece(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],i=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function tce(e){if(Array.isArray(e))return e}function kD(e){var t=zf(e,2),n=t[0],i=t[1],s=n,a=i;return n>i&&(s=i,a=n),[s,a]}function AD(e,t,n){if(e.lte(0))return new Bt(0);var i=Ig.getDigitCount(e.toNumber()),s=new Bt(10).pow(i),a=e.div(s),o=i!==1?.05:.1,l=new Bt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new Bt(Math.ceil(c))}function nce(e,t,n){var i=1,s=new Bt(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(i=new Bt(10).pow(Ig.getDigitCount(e)-1),s=new Bt(Math.floor(s.div(i).toNumber())).mul(i)):a>1&&(s=new Bt(Math.floor(e)))}else e===0?s=new Bt(Math.floor((t-1)/2)):n||(s=new Bt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Vle(Ule(function(c){return s.add(new Bt(c-o).mul(i)).toNumber()}),Uj);return l(0,t)}function _D(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var a=AD(new Bt(t).sub(e).div(n-1),i,s),o;e<=0&&t>=0?o=new Bt(0):(o=new Bt(e).add(t).div(2),o=o.sub(new Bt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Bt(t).sub(o).div(a).toNumber()),d=l+c+1;return d>n?_D(e,t,n,i,s+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:a,tickMin:o.sub(new Bt(l).mul(a)),tickMax:o.add(new Bt(c).mul(a))})}function rce(e){var t=zf(e,2),n=t[0],i=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=kD([n,i]),c=zf(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(Wj(Uj(0,s-1).map(function(){return 1/0}))):[].concat(Wj(Uj(0,s-1).map(function(){return-1/0})),[u]);return n>i?Vj(f):f}if(d===u)return nce(d,s,a);var p=_D(d,u,o,a),x=p.step,h=p.tickMin,m=p.tickMax,y=Ig.rangeStep(h,m.add(new Bt(.1).mul(x)),x);return n>i?Vj(y):y}function ice(e,t){var n=zf(e,2),i=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kD([i,s]),l=zf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[i,s];if(c===d)return[c];var u=Math.max(t,2),f=AD(new Bt(d).sub(c).div(u-1),a,0),p=[].concat(Wj(Ig.rangeStep(new Bt(c),new Bt(d).sub(new Bt(.99).mul(f)),f)),[d]);return i>s?Vj(p):p}var sce=CD(rce),ace=CD(ice),oce="Invariant failed";function wl(e,t){throw new Error(oce)}var lce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sx.apply(this,arguments)}function cce(e,t){return pce(e)||fce(e,t)||uce(e,t)||dce()}function dce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uce(e,t){if(e){if(typeof e=="string")return N2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(e,t)}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function pce(e){if(Array.isArray(e))return e}function mce(e,t){if(e==null)return{};var n=hce(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function hce(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function xce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,OD(i.key),i)}}function gce(e,t,n){return t&&vce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yce(e,t,n){return t=Cx(t),bce(e,PD()?Reflect.construct(t,n||[],Cx(e).constructor):t.apply(e,n))}function bce(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(e)}function jce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(e)}function wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gj(e,t)}function Gj(e,t){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Gj(e,t)}function TD(e,t,n){return t=OD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OD(e){var t=Nce(e,"string");return pd(t)=="symbol"?t:t+""}function Nce(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(pd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rg=function(e){function t(){return xce(this,t),yce(this,t,arguments)}return wce(t,e),gce(t,[{key:"render",value:function(){var i=this.props,s=i.offset,a=i.layout,o=i.width,l=i.dataKey,c=i.data,d=i.dataPointFormatter,u=i.xAxis,f=i.yAxis,p=mce(i,lce),x=dt(p,!1);this.props.direction==="x"&&u.type!=="number"&&wl();var h=c.map(function(m){var y=d(m,l),j=y.x,g=y.y,v=y.value,N=y.errorVal;if(!N)return null;var w=[],S,E;if(Array.isArray(N)){var C=cce(N,2);S=C[0],E=C[1]}else S=E=N;if(a==="vertical"){var k=u.scale,R=g+s,P=R+o,A=R-o,_=k(v-S),O=k(v+E);w.push({x1:O,y1:P,x2:O,y2:A}),w.push({x1:_,y1:R,x2:O,y2:R}),w.push({x1:_,y1:P,x2:_,y2:A})}else if(a==="horizontal"){var D=f.scale,M=j+s,G=M-o,z=M+o,I=D(v-S),U=D(v+E);w.push({x1:G,y1:U,x2:z,y2:U}),w.push({x1:M,y1:I,x2:M,y2:U}),w.push({x1:G,y1:I,x2:z,y2:I})}return q.createElement(Lt,Sx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},x),w.map(function(Z){return q.createElement("line",Sx({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return q.createElement(Lt,{className:"recharts-errorBars"},h)}}])}(q.Component);TD(Rg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TD(Rg,"displayName","ErrorBar");function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function S2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(n),!0).forEach(function(i){Sce(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Sce(e,t,n){return t=Cce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cce(e){var t=Ece(e,"string");return Bf(t)=="symbol"?t:t+""}function Ece(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Bf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ID=function(t){var n=t.children,i=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=Fr(n,Ac);if(!o)return null;var l=Ac.defaultProps,c=l!==void 0?Eo(Eo({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(i||[]).reduce(function(u,f){var p=f.item,x=f.props,h=x.sectors||x.data||[];return u.concat(h.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(i||[]).map(function(u){var f=u.item,p=f.type.defaultProps,x=p!==void 0?Eo(Eo({},p),f.props):{},h=x.dataKey,m=x.name,y=x.legendType,j=x.hide;return{inactive:j,dataKey:h,type:c.iconType||y||"square",color:wS(f),value:m||h,payload:x}}),Eo(Eo(Eo({},c),Ac.getWithHeight(o,s)),{},{payload:d,item:o})};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function C2(e){return Pce(e)||_ce(e)||Ace(e)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ace(e,t){if(e){if(typeof e=="string")return Kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(e,t)}}function _ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pce(e){if(Array.isArray(e))return Kj(e)}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(n),!0).forEach(function(i){Pc(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Pc(e,t,n){return t=Tce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tce(e){var t=Oce(e,"string");return Uf(t)=="symbol"?t:t+""}function Oce(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Uf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,n){return Nt(e)||Nt(t)?n:In(t)?Gr(e,t,n):ft(t)?t(e):n}function Zu(e,t,n,i){var s=_le(e,function(l){return nr(l,t)});if(n==="number"){var a=s.filter(function(l){return je(l)||parseFloat(l)});return a.length?[Pg(a),_g(a)]:[1/0,-1/0]}var o=i?s.filter(function(l){return!Nt(l)}):s;return o.map(function(l){return In(l)||l instanceof Date?l:""})}var Ice=function(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=i==null?void 0:i.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,f=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(hr(f-u)!==hr(p-f)){var h=[];if(hr(p-f)===hr(c[1]-c[0])){x=p;var m=f+c[1]-c[0];h[0]=Math.min(m,(m+u)/2),h[1]=Math.max(m,(m+u)/2)}else{x=u;var y=p+c[1]-c[0];h[0]=Math.min(f,(y+f)/2),h[1]=Math.max(f,(y+f)/2)}var j=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(t>j[0]&&t<=j[1]||t>=h[0]&&t<=h[1]){o=s[d].index;break}}else{var g=Math.min(u,p),v=Math.max(u,p);if(t>(g+f)/2&&t<=(v+f)/2){o=s[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(i[N].coordinate+i[N+1].coordinate)/2||N>0&&N<l-1&&t>(i[N].coordinate+i[N-1].coordinate)/2&&t<=(i[N].coordinate+i[N+1].coordinate)/2||N===l-1&&t>(i[N].coordinate+i[N-1].coordinate)/2){o=i[N].index;break}return o},wS=function(t){var n,i=t,s=i.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xn(xn({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Rce=function(t){var n=t.barSize,i=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,f=Object.keys(u),p=0,x=f.length;p<x;p++){var h=u[f[p]],m=h.items,y=h.cateAxisId,j=m.filter(function(E){return Ks(E.type).indexOf("Bar")>=0});if(j&&j.length){var g=j[0].type.defaultProps,v=g!==void 0?xn(xn({},g),j[0].props):j[0].props,N=v.barSize,w=v[y];o[w]||(o[w]=[]);var S=Nt(N)?n:N;o[w].push({item:j[0],stackList:j.slice(1),barSize:Nt(S)?void 0:xr(S,i,0)})}}return o},Mce=function(t){var n=t.barGap,i=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=xr(n,s,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,x=s/c,h=o.reduce(function(N,w){return N+w.barSize||0},0);h+=(c-1)*d,h>=s&&(h-=(c-1)*d,d=0),h>=s&&x>0&&(p=!0,x*=.9,h=c*x);var m=(s-h)/2>>0,y={offset:m-d,size:0};u=o.reduce(function(N,w){var S={item:w.item,position:{offset:y.offset+y.size+d,size:p?x:w.barSize}},E=[].concat(C2(N),[S]);return y=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){E.push({item:C,position:y})}),E},f)}else{var j=xr(i,s,0,!0);s-2*j-(c-1)*d<=0&&(d=0);var g=(s-2*j-(c-1)*d)/c;g>1&&(g>>=0);var v=l===+l?Math.min(g,l):g;u=o.reduce(function(N,w,S){var E=[].concat(C2(N),[{item:w.item,position:{offset:j+(g+d)*S+(g-v)/2,size:v}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return u},$ce=function(t,n,i,s){var a=i.children,o=i.width,l=i.margin,c=o-(l.left||0)-(l.right||0),d=ID({children:a,legendWidth:c});if(d){var u=s||{},f=u.width,p=u.height,x=d.align,h=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&h==="middle")&&x!=="center"&&je(t[x]))return xn(xn({},t),{},Pc({},x,t[x]+(f||0)));if((m==="horizontal"||m==="vertical"&&x==="center")&&h!=="middle"&&je(t[h]))return xn(xn({},t),{},Pc({},h,t[h]+(p||0)))}return t},Dce=function(t,n,i){return Nt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||i==="x"?n==="xAxis":i==="y"?n==="yAxis":!0},RD=function(t,n,i,s,a){var o=n.props.children,l=ui(o,Rg).filter(function(d){return Dce(s,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=nr(u,i);if(Nt(f))return d;var p=Array.isArray(f)?[Pg(f),_g(f)]:[f,f],x=c.reduce(function(h,m){var y=nr(u,m,0),j=p[0]-Math.abs(Array.isArray(y)?y[0]:y),g=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(j,h[0]),Math.max(g,h[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},Lce=function(t,n,i,s,a){var o=n.map(function(l){return RD(t,l,i,a,s)}).filter(function(l){return!Nt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},MD=function(t,n,i,s,a){var o=n.map(function(c){var d=c.props.dataKey;return i==="number"&&d&&RD(t,c,d,s)||Zu(t,d,i,a)});if(i==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},$D=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},DD=function(t,n,i,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===i&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(i),l},Vs=function(t,n,i){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||i)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?hr(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:s(p)+d,value:f,offset:d}});return u.filter(function(f){return!Hp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+d,value:f,index:p,offset:d}}):s.ticks&&!i?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,p){return{coordinate:s(f)+d,value:a?a[f]:f,index:p,offset:d}})},m0=new WeakMap,$m=function(t,n){if(typeof n!="function")return t;m0.has(t)||m0.set(t,new WeakMap);var i=m0.get(t);if(i.has(n))return i.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return i.set(n,s),s},LD=function(t,n,i){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:Xu(),realScaleType:"point"}:a==="category"?{scale:Mf(),realScaleType:"band"}:{scale:yx(),realScaleType:"linear"};if(Wp(s)){var c="scale".concat(mg(s));return{scale:(y2[c]||Xu)(),realScaleType:y2[c]?c:"point"}}return ft(s)?{scale:s}:{scale:Xu(),realScaleType:"point"}},k2=1e-4,FD=function(t){var n=t.domain();if(!(!n||n.length<=2)){var i=n.length,s=t.range(),a=Math.min(s[0],s[1])-k2,o=Math.max(s[0],s[1])+k2,l=t(n[0]),c=t(n[i-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[i-1]])}},Fce=function(t,n){if(!t)return null;for(var i=0,s=t.length;i<s;i++)if(t[i].item===n)return t[i].position;return null},qce=function(t,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return t;var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!je(t[0])||t[0]<i)&&(a[0]=i),(!je(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<i&&(a[1]=i),a},zce=function(t){var n=t.length;if(!(n<=0))for(var i=0,s=t[0].length;i<s;++i)for(var a=0,o=0,l=0;l<n;++l){var c=Hp(t[l][i][1])?t[l][i][0]:t[l][i][1];c>=0?(t[l][i][0]=a,t[l][i][1]=a+c,a=t[l][i][1]):(t[l][i][0]=o,t[l][i][1]=o+c,o=t[l][i][1])}},Bce=function(t){var n=t.length;if(!(n<=0))for(var i=0,s=t[0].length;i<s;++i)for(var a=0,o=0;o<n;++o){var l=Hp(t[o][i][1])?t[o][i][0]:t[o][i][1];l>=0?(t[o][i][0]=a,t[o][i][1]=a+l,a=t[o][i][1]):(t[o][i][0]=0,t[o][i][1]=0)}},Uce={sign:zce,expand:lQ,none:sd,silhouette:cQ,wiggle:dQ,positive:Bce},Vce=function(t,n,i){var s=n.map(function(l){return l.props.dataKey}),a=Uce[i],o=oQ().keys(s).value(function(l,c){return+nr(l,c,0)}).order(yj).offset(a);return o(t)},Wce=function(t,n,i,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(f,p){var x,h=(x=p.type)!==null&&x!==void 0&&x.defaultProps?xn(xn({},p.type.defaultProps),p.props):p.props,m=h.stackId,y=h.hide;if(y)return f;var j=h[i],g=f[j]||{hasStack:!1,stackGroups:{}};if(In(m)){var v=g.stackGroups[m]||{numericAxisId:i,cateAxisId:s,items:[]};v.items.push(p),g.hasStack=!0,g.stackGroups[m]=v}else g.stackGroups[Gp("_stackId_")]={numericAxisId:i,cateAxisId:s,items:[p]};return xn(xn({},f),{},Pc({},j,g))},c),u={};return Object.keys(d).reduce(function(f,p){var x=d[p];if(x.hasStack){var h={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(m,y){var j=x.stackGroups[y];return xn(xn({},m),{},Pc({},y,{numericAxisId:i,cateAxisId:s,items:j.items,stackedData:Vce(t,j.items,a)}))},h)}return xn(xn({},f),{},Pc({},p,x))},u)},qD=function(t,n){var i=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=i||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=sce(d,a,l);return t.domain([Pg(u),_g(u)]),{niceTicks:u}}if(a&&s==="number"){var f=t.domain(),p=ace(f,a,l);return{niceTicks:p}}return null},A2=function(t){var n=t.axis,i=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return i[l]?i[l].coordinate+s:null;var c=nr(o,n.dataKey,n.domain[l]);return Nt(c)?null:n.scale(c)-a/2+s},Hce=function(t){var n=t.numericAxis,i=n.scale.domain();if(n.type==="number"){var s=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return s<=0&&a>=0?0:a<0?a:s}return i[0]},Gce=function(t,n){var i,s=(i=t.type)!==null&&i!==void 0&&i.defaultProps?xn(xn({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(In(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Kce=function(t){return t.reduce(function(n,i){return[Pg(i.concat([n[0]]).filter(je)),_g(i.concat([n[1]]).filter(je))]},[1/0,-1/0])},zD=function(t,n,i){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var f=Kce(u.slice(n,i+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},_2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yj=function(t,n,i){if(ft(t))return t(n,i);if(!Array.isArray(t))return n;var s=[];if(je(t[0]))s[0]=i?t[0]:Math.min(t[0],n[0]);else if(_2.test(t[0])){var a=+_2.exec(t[0])[1];s[0]=n[0]-a}else ft(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(je(t[1]))s[1]=i?t[1]:Math.max(t[1],n[1]);else if(P2.test(t[1])){var o=+P2.exec(t[1])[1];s[1]=n[1]+o}else ft(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Ex=function(t,n,i){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!i||s>0)return s}if(t&&n&&n.length>=2){for(var a=Q1(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return i?void 0:0},T2=function(t,n,i){return!t||!t.length||Tg(t,Gr(i,"type.defaultProps.domain"))?n:t},BD=function(t,n){var i=t.type.defaultProps?xn(xn({},t.type.defaultProps),t.props):t.props,s=i.dataKey,a=i.name,o=i.unit,l=i.formatter,c=i.tooltipType,d=i.chartType,u=i.hide;return xn(xn({},dt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:wS(t),value:nr(n,s),type:c,payload:n,chartType:d,hide:u})};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function O2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(n),!0).forEach(function(i){UD(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function UD(e,t,n){return t=Yce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yce(e){var t=Qce(e,"string");return Vf(t)=="symbol"?t:t+""}function Qce(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Vf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xce(e,t){return tde(e)||ede(e,t)||Jce(e,t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(e,t){if(e){if(typeof e=="string")return I2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I2(e,t)}}function I2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ede(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tde(e){if(Array.isArray(e))return e}var kx=Math.PI/180,nde=function(t){return t*180/Math.PI},Qt=function(t,n,i,s){return{x:t+Math.cos(-kx*s)*i,y:n+Math.sin(-kx*s)*i}},VD=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},rde=function(t,n,i,s,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=xr(t.cx,o,o/2),f=xr(t.cy,l,l/2),p=VD(o,l,i),x=xr(t.innerRadius,p,0),h=xr(t.outerRadius,p,p*.8),m=Object.keys(n);return m.reduce(function(y,j){var g=n[j],v=g.domain,N=g.reversed,w;if(Nt(g.range))s==="angleAxis"?w=[c,d]:s==="radiusAxis"&&(w=[x,h]),N&&(w=[w[1],w[0]]);else{w=g.range;var S=w,E=Xce(S,2);c=E[0],d=E[1]}var C=LD(g,a),k=C.realScaleType,R=C.scale;R.domain(v).range(w),FD(R);var P=qD(R,$s($s({},g),{},{realScaleType:k})),A=$s($s($s({},g),P),{},{range:w,radius:h,realScaleType:k,scale:R,cx:u,cy:f,innerRadius:x,outerRadius:h,startAngle:c,endAngle:d});return $s($s({},y),{},UD({},j,A))},{})},ide=function(t,n){var i=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(i-a,2)+Math.pow(s-o,2))},sde=function(t,n){var i=t.x,s=t.y,a=n.cx,o=n.cy,l=ide({x:i,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(i-a)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:nde(d),angleInRadian:d}},ade=function(t){var n=t.startAngle,i=t.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:i-o*360}},ode=function(t,n){var i=n.startAngle,s=n.endAngle,a=Math.floor(i/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},R2=function(t,n){var i=t.x,s=t.y,a=sde({x:i,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=ade(n),f=u.startAngle,p=u.endAngle,x=l,h;if(f<=p){for(;x>p;)x-=360;for(;x<f;)x+=360;h=x>=f&&x<=p}else{for(;x>f;)x-=360;for(;x<p;)x+=360;h=x>=p&&x<=f}return h?$s($s({},n),{},{radius:o,angle:ode(x,n)}):null},WD=function(t){return!b.isValidElement(t)&&!ft(t)&&typeof t!="boolean"?t.className:""};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}var lde=["offset"];function cde(e){return pde(e)||fde(e)||ude(e)||dde()}function dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ude(e,t){if(e){if(typeof e=="string")return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}}function fde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pde(e){if(Array.isArray(e))return Qj(e)}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mde(e,t){if(e==null)return{};var n=hde(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function hde(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(i){xde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xde(e,t,n){return t=vde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vde(e){var t=gde(e,"string");return Wf(t)=="symbol"?t:t+""}function gde(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Wf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hf.apply(this,arguments)}var yde=function(t){var n=t.value,i=t.formatter,s=Nt(t.children)?n:t.children;return ft(i)?i(s):s},bde=function(t,n){var i=hr(n-t),s=Math.min(Math.abs(n-t),360);return i*s},jde=function(t,n,i){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,f=c.innerRadius,p=c.outerRadius,x=c.startAngle,h=c.endAngle,m=c.clockWise,y=(f+p)/2,j=bde(x,h),g=j>=0?1:-1,v,N;s==="insideStart"?(v=x+g*o,N=m):s==="insideEnd"?(v=h-g*o,N=!m):s==="end"&&(v=h+g*o,N=m),N=j<=0?N:!N;var w=Qt(d,u,y,v),S=Qt(d,u,y,v+(N?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),C=Nt(t.id)?Gp("recharts-radial-line-"):t.id;return q.createElement("text",Hf({},i,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:C,d:E})),q.createElement("textPath",{xlinkHref:"#".concat(C)},n))},wde=function(t){var n=t.viewBox,i=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(s==="outside"){var x=Qt(o,l,d+i,p),h=x.x,m=x.y;return{x:h,y:m,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,j=Qt(o,l,y,p),g=j.x,v=j.y;return{x:g,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Nde=function(t){var n=t.viewBox,i=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,p=f*s,x=f>0?"end":"start",h=f>0?"start":"end",m=d>=0?1:-1,y=m*s,j=m>0?"end":"start",g=m>0?"start":"end";if(a==="top"){var v={x:l+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return En(En({},v),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var N={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:h};return En(En({},N),i?{height:Math.max(i.y+i.height-(c+u),0),width:d}:{})}if(a==="left"){var w={x:l-y,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return En(En({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(a==="right"){var S={x:l+d+y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return En(En({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var E=i?{width:d,height:u}:{};return a==="insideLeft"?En({x:l+y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},E):a==="insideRight"?En({x:l+d-y,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},E):a==="insideTop"?En({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:h},E):a==="insideBottom"?En({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:x},E):a==="insideTopLeft"?En({x:l+y,y:c+p,textAnchor:g,verticalAnchor:h},E):a==="insideTopRight"?En({x:l+d-y,y:c+p,textAnchor:j,verticalAnchor:h},E):a==="insideBottomLeft"?En({x:l+y,y:c+u-p,textAnchor:g,verticalAnchor:x},E):a==="insideBottomRight"?En({x:l+d-y,y:c+u-p,textAnchor:j,verticalAnchor:x},E):Hd(a)&&(je(a.x)||Uo(a.x))&&(je(a.y)||Uo(a.y))?En({x:l+xr(a.x,d),y:c+xr(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):En({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Sde=function(t){return"cx"in t&&je(t.cx)};function Ln(e){var t=e.offset,n=t===void 0?5:t,i=mde(e,lde),s=En({offset:n},i),a=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,p=s.textBreakAll;if(!a||Nt(l)&&Nt(c)&&!b.isValidElement(d)&&!ft(d))return null;if(b.isValidElement(d))return b.cloneElement(d,s);var x;if(ft(d)){if(x=b.createElement(d,s),b.isValidElement(x))return x}else x=yde(s);var h=Sde(a),m=dt(s,!0);if(h&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jde(s,x,m);var y=h?wde(s):Nde(s);return q.createElement(bl,Hf({className:gt("recharts-label",f)},m,y,{breakAll:p}),x)}Ln.displayName="Label";var HD=function(t){var n=t.cx,i=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,x=t.top,h=t.left,m=t.width,y=t.height,j=t.clockWise,g=t.labelViewBox;if(g)return g;if(je(m)&&je(y)){if(je(f)&&je(p))return{x:f,y:p,width:m,height:y};if(je(x)&&je(h))return{x,y:h,width:m,height:y}}return je(f)&&je(p)?{x:f,y:p,width:0,height:0}:je(n)&&je(i)?{cx:n,cy:i,startAngle:a||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},Cde=function(t,n){return t?t===!0?q.createElement(Ln,{key:"label-implicit",viewBox:n}):In(t)?q.createElement(Ln,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===Ln?b.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(Ln,{key:"label-implicit",content:t,viewBox:n}):ft(t)?q.createElement(Ln,{key:"label-implicit",content:t,viewBox:n}):Hd(t)?q.createElement(Ln,Hf({viewBox:n},t,{key:"label-implicit"})):null:null},Ede=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var s=t.children,a=HD(t),o=ui(s,Ln).map(function(c,d){return b.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!i)return o;var l=Cde(t.label,n||a);return[l].concat(cde(o))};Ln.parseViewBox=HD;Ln.renderCallByParent=Ede;function kde(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ade=kde;const _de=Rt(Ade);function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}var Pde=["valueAccessor"],Tde=["data","dataKey","clockWise","id","textBreakAll"];function Ode(e){return $de(e)||Mde(e)||Rde(e)||Ide()}function Ide(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(e,t){if(e){if(typeof e=="string")return Xj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xj(e,t)}}function Mde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $de(e){if(Array.isArray(e))return Xj(e)}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ax.apply(this,arguments)}function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function D2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(i){Dde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Dde(e,t,n){return t=Lde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lde(e){var t=Fde(e,"string");return Gf(t)=="symbol"?t:t+""}function Fde(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Gf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L2(e,t){if(e==null)return{};var n=qde(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function qde(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var zde=function(t){return Array.isArray(t.value)?_de(t.value):t.value};function eo(e){var t=e.valueAccessor,n=t===void 0?zde:t,i=L2(e,Pde),s=i.data,a=i.dataKey,o=i.clockWise,l=i.id,c=i.textBreakAll,d=L2(i,Tde);return!s||!s.length?null:q.createElement(Lt,{className:"recharts-label-list"},s.map(function(u,f){var p=Nt(a)?n(u,f):nr(u&&u.payload,a),x=Nt(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(Ln,Ax({},dt(u,!0),d,x,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Ln.parseViewBox(Nt(o)?u:D2(D2({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}eo.displayName="LabelList";function Bde(e,t){return e?e===!0?q.createElement(eo,{key:"labelList-implicit",data:t}):q.isValidElement(e)||ft(e)?q.createElement(eo,{key:"labelList-implicit",data:t,content:e}):Hd(e)?q.createElement(eo,Ax({data:t},e,{key:"labelList-implicit"})):null:null}function Ude(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=ui(i,eo).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=Bde(e.label,t);return[a].concat(Ode(s))}eo.renderCallByParent=Ude;function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zj.apply(this,arguments)}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(i){Vde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Vde(e,t,n){return t=Wde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wde(e){var t=Hde(e,"string");return Kf(t)=="symbol"?t:t+""}function Hde(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Kf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gde=function(t,n){var i=hr(n-t),s=Math.min(Math.abs(n-t),359.999);return i*s},Dm=function(t){var n=t.cx,i=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,f=Math.asin(c/u)/kx,p=d?a:a+o*f,x=Qt(n,i,u,p),h=Qt(n,i,s,p),m=d?a-o*f:a,y=Qt(n,i,u*Math.cos(f*kx),m);return{center:x,circleTangency:h,lineTangency:y,theta:f}},GD=function(t){var n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Gde(o,l),d=o+c,u=Qt(n,i,a,o),f=Qt(n,i,a,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=Qt(n,i,s,o),h=Qt(n,i,s,d);p+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(n,",").concat(i," Z");return p},Kde=function(t){var n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=hr(u-d),p=Dm({cx:n,cy:i,radius:a,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),x=p.circleTangency,h=p.lineTangency,m=p.theta,y=Dm({cx:n,cy:i,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=y.circleTangency,g=y.lineTangency,v=y.theta,N=c?Math.abs(d-u):Math.abs(d-u)-m-v;if(N<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GD({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var S=Dm({cx:n,cy:i,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=S.circleTangency,C=S.lineTangency,k=S.theta,R=Dm({cx:n,cy:i,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=R.circleTangency,A=R.lineTangency,_=R.theta,O=c?Math.abs(d-u):Math.abs(d-u)-k-_;if(O<0&&o===0)return"".concat(w,"L").concat(n,",").concat(i,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(n,",").concat(i,"Z");return w},Yde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KD=function(t){var n=q2(q2({},Yde),t),i=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,p=n.className;if(o<a||u===f)return null;var x=gt("recharts-sector",p),h=o-a,m=xr(l,h,0,!0),y;return m>0&&Math.abs(u-f)<360?y=Kde({cx:i,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,h/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=GD({cx:i,cy:s,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),q.createElement("path",Zj({},dt(n,!0),{className:x,d:y,role:"img"}))};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jj.apply(this,arguments)}function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function B2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(i){Qde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qde(e,t,n){return t=Xde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xde(e){var t=Zde(e,"string");return Yf(t)=="symbol"?t:t+""}function Zde(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Yf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U2={curveBasisClosed:QY,curveBasisOpen:XY,curveBasis:YY,curveBumpX:MY,curveBumpY:$Y,curveLinearClosed:ZY,curveLinear:xg,curveMonotoneX:JY,curveMonotoneY:eQ,curveNatural:tQ,curveStep:nQ,curveStepAfter:iQ,curveStepBefore:rQ},Lm=function(t){return t.x===+t.x&&t.y===+t.y},wu=function(t){return t.x},Nu=function(t){return t.y},Jde=function(t,n){if(ft(t))return t;var i="curve".concat(mg(t));return(i==="curveMonotone"||i==="curveBump")&&n?U2["".concat(i).concat(n==="vertical"?"Y":"X")]:U2[i]||xg},eue=function(t){var n=t.type,i=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Jde(i,l),f=d?a.filter(function(m){return Lm(m)}):a,p;if(Array.isArray(o)){var x=d?o.filter(function(m){return Lm(m)}):o,h=f.map(function(m,y){return B2(B2({},m),{},{base:x[y]})});return l==="vertical"?p=Am().y(Nu).x1(wu).x0(function(m){return m.base.x}):p=Am().x(wu).y1(Nu).y0(function(m){return m.base.y}),p.defined(Lm).curve(u),p(h)}return l==="vertical"&&je(o)?p=Am().y(Nu).x1(wu).x0(o):je(o)?p=Am().x(wu).y1(Nu).y0(o):p=B4().x(wu).y(Nu),p.defined(Lm).curve(u),p(f)},ew=function(t){var n=t.className,i=t.points,s=t.path,a=t.pathRef;if((!i||!i.length)&&!s)return null;var o=i&&i.length?eue(t):s;return q.createElement("path",Jj({},dt(t,!1),Jh(t),{className:gt("recharts-curve",n),d:o,ref:a}))},YD={exports:{}},tue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nue=tue,rue=nue;function QD(){}function XD(){}XD.resetWarningCache=QD;var iue=function(){function e(i,s,a,o,l,c){if(c!==rue){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:XD,resetWarningCache:QD};return n.PropTypes=n,n};YD.exports=iue();var sue=YD.exports;const Je=Rt(sue);var aue=Object.getOwnPropertyNames,oue=Object.getOwnPropertySymbols,lue=Object.prototype.hasOwnProperty;function V2(e,t){return function(i,s,a){return e(i,s,a)&&t(i,s,a)}}function Fm(e){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return e(n,i,s);var a=s.cache,o=a.get(n),l=a.get(i);if(o&&l)return o===i&&l===n;a.set(n,i),a.set(i,n);var c=e(n,i,s);return a.delete(n),a.delete(i),c}}function W2(e){return aue(e).concat(oue(e))}var cue=Object.hasOwn||function(e,t){return lue.call(e,t)};function Ml(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var due="__v",uue="__o",fue="_owner",H2=Object.getOwnPropertyDescriptor,G2=Object.keys;function pue(e,t,n){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function mue(e,t){return Ml(e.getTime(),t.getTime())}function hue(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xue(e,t){return e===t}function K2(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var s=new Array(i),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(s[f]){f++;continue}var p=o.value,x=l.value;if(n.equals(p[0],x[0],c,f,e,t,n)&&n.equals(p[1],x[1],p[0],x[0],e,t,n)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}var vue=Ml;function gue(e,t,n){var i=G2(e),s=i.length;if(G2(t).length!==s)return!1;for(;s-- >0;)if(!ZD(e,t,n,i[s]))return!1;return!0}function Su(e,t,n){var i=W2(e),s=i.length;if(W2(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=i[s],!ZD(e,t,n,a)||(o=H2(e,a),l=H2(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function yue(e,t){return Ml(e.valueOf(),t.valueOf())}function bue(e,t){return e.source===t.source&&e.flags===t.flags}function Y2(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var s=new Array(i),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function jue(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function wue(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZD(e,t,n,i){return(i===fue||i===uue||i===due)&&(e.$$typeof||t.$$typeof)?!0:cue(t,i)&&n.equals(e[i],t[i],i,i,e,t,n)}var Nue="[object Arguments]",Sue="[object Boolean]",Cue="[object Date]",Eue="[object Error]",kue="[object Map]",Aue="[object Number]",_ue="[object Object]",Pue="[object RegExp]",Tue="[object Set]",Oue="[object String]",Iue="[object URL]",Rue=Array.isArray,Q2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,X2=Object.assign,Mue=Object.prototype.toString.call.bind(Object.prototype.toString);function $ue(e){var t=e.areArraysEqual,n=e.areDatesEqual,i=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(h,m,y){if(h===m)return!0;if(h==null||m==null)return!1;var j=typeof h;if(j!==typeof m)return!1;if(j!=="object")return j==="number"?o(h,m,y):j==="function"?s(h,m,y):!1;var g=h.constructor;if(g!==m.constructor)return!1;if(g===Object)return l(h,m,y);if(Rue(h))return t(h,m,y);if(Q2!=null&&Q2(h))return f(h,m,y);if(g===Date)return n(h,m,y);if(g===RegExp)return d(h,m,y);if(g===Map)return a(h,m,y);if(g===Set)return u(h,m,y);var v=Mue(h);return v===Cue?n(h,m,y):v===Pue?d(h,m,y):v===kue?a(h,m,y):v===Tue?u(h,m,y):v===_ue?typeof h.then!="function"&&typeof m.then!="function"&&l(h,m,y):v===Iue?p(h,m,y):v===Eue?i(h,m,y):v===Nue?l(h,m,y):v===Sue||v===Aue||v===Oue?c(h,m,y):!1}}function Due(e){var t=e.circular,n=e.createCustomConfig,i=e.strict,s={areArraysEqual:i?Su:pue,areDatesEqual:mue,areErrorsEqual:hue,areFunctionsEqual:xue,areMapsEqual:i?V2(K2,Su):K2,areNumbersEqual:vue,areObjectsEqual:i?Su:gue,arePrimitiveWrappersEqual:yue,areRegExpsEqual:bue,areSetsEqual:i?V2(Y2,Su):Y2,areTypedArraysEqual:i?Su:jue,areUrlsEqual:wue};if(n&&(s=X2({},s,n(s))),t){var a=Fm(s.areArraysEqual),o=Fm(s.areMapsEqual),l=Fm(s.areObjectsEqual),c=Fm(s.areSetsEqual);s=X2({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function Lue(e){return function(t,n,i,s,a,o,l){return e(t,n,l)}}function Fue(e){var t=e.circular,n=e.comparator,i=e.createState,s=e.equals,a=e.strict;if(i)return function(c,d){var u=i(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,x=u.meta;return n(c,d,{cache:p,equals:s,meta:x,strict:a})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var que=No();No({strict:!0});No({circular:!0});No({circular:!0,strict:!0});No({createInternalComparator:function(){return Ml}});No({strict:!0,createInternalComparator:function(){return Ml}});No({circular:!0,createInternalComparator:function(){return Ml}});No({circular:!0,createInternalComparator:function(){return Ml},strict:!0});function No(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,i=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=Due(e),c=$ue(l),d=i?i(c):Lue(c);return Fue({circular:n,comparator:c,createState:s,equals:d,strict:o})}function zue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Z2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):zue(s)};requestAnimationFrame(i)}function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function Bue(e){return Hue(e)||Wue(e)||Vue(e)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vue(e,t){if(e){if(typeof e=="string")return J2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J2(e,t)}}function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Wue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hue(e){if(Array.isArray(e))return e}function Gue(){var e={},t=function(){return null},n=!1,i=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Bue(o),c=l[0],d=l.slice(1);if(typeof c=="number"){Z2(s.bind(null,d),c);return}s(c),Z2(s.bind(null,d));return}tw(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,i(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(i){JD(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function JD(e,t,n){return t=Kue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kue(e){var t=Yue(e,"string");return Qf(t)==="symbol"?t:String(t)}function Yue(e,t){if(Qf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Qf(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Que=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(i,s){return i.filter(function(a){return s.includes(a)})})},Xue=function(t){return t},Zue=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ju=function(t,n){return Object.keys(n).reduce(function(i,s){return t_(t_({},i),{},JD({},s,t(s,n[s])))},{})},n_=function(t,n,i){return t.map(function(s){return"".concat(Zue(s)," ").concat(n,"ms ").concat(i)}).join(",")};function Jue(e,t){return nfe(e)||tfe(e,t)||eL(e,t)||efe()}function efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nfe(e){if(Array.isArray(e))return e}function rfe(e){return afe(e)||sfe(e)||eL(e)||ife()}function ife(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eL(e,t){if(e){if(typeof e=="string")return nw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(e,t)}}function sfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function afe(e){if(Array.isArray(e))return nw(e)}function nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _x=1e-4,tL=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},nL=function(t,n){return t.map(function(i,s){return i*Math.pow(n,s)}).reduce(function(i,s){return i+s})},r_=function(t,n){return function(i){var s=tL(t,n);return nL(s,i)}},ofe=function(t,n){return function(i){var s=tL(t,n),a=[].concat(rfe(s.map(function(o,l){return o*l}).slice(1)),[0]);return nL(a,i)}},i_=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Jue(d,4);s=u[0],a=u[1],o=u[2],l=u[3]}}}var f=r_(s,o),p=r_(a,l),x=ofe(s,o),h=function(j){return j>1?1:j<0?0:j},m=function(j){for(var g=j>1?1:j,v=g,N=0;N<8;++N){var w=f(v)-g,S=x(v);if(Math.abs(w-g)<_x||S<_x)return p(v);v=h(v-w/S)}return p(v)};return m.isStepper=!1,m},lfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,i=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,f,p){var x=-(u-f)*i,h=p*a,m=p+(x-h)*l/1e3,y=p*l/1e3+u;return Math.abs(y-f)<_x&&Math.abs(m)<_x?[f,0]:[y,m]};return c.isStepper=!0,c.dt=l,c},cfe=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i_(s);case"spring":return lfe();default:if(s.split("(")[0]==="cubic-bezier")return i_(s)}return typeof s=="function"?s:null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function s_(e){return ffe(e)||ufe(e)||rL(e)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ufe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ffe(e){if(Array.isArray(e))return iw(e)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(i){rw(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rw(e,t,n){return t=pfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pfe(e){var t=mfe(e,"string");return Xf(t)==="symbol"?t:String(t)}function mfe(e,t){if(Xf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Xf(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hfe(e,t){return gfe(e)||vfe(e,t)||rL(e,t)||xfe()}function xfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rL(e,t){if(e){if(typeof e=="string")return iw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(e,t)}}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function gfe(e){if(Array.isArray(e))return e}var Px=function(t,n,i){return t+(n-t)*i},sw=function(t){var n=t.from,i=t.to;return n!==i},yfe=function e(t,n,i){var s=Ju(function(a,o){if(sw(o)){var l=t(o.from,o.to,o.velocity),c=hfe(l,2),d=c[0],u=c[1];return Un(Un({},o),{},{from:d,velocity:u})}return o},n);return i<1?Ju(function(a,o){return sw(o)?Un(Un({},o),{},{velocity:Px(o.velocity,s[a].velocity,i),from:Px(o.from,s[a].from,i)}):o},n):e(t,s,i-1)};const bfe=function(e,t,n,i,s){var a=Que(e,t),o=a.reduce(function(y,j){return Un(Un({},y),{},rw({},j,[e[j],t[j]]))},{}),l=a.reduce(function(y,j){return Un(Un({},y),{},rw({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},p=function(){return Ju(function(j,g){return g.from},l)},x=function(){return!Object.values(l).filter(sw).length},h=function(j){d||(d=j);var g=j-d,v=g/n.dt;l=yfe(n,l,v),s(Un(Un(Un({},e),t),p())),d=j,x()||(c=requestAnimationFrame(f))},m=function(j){u||(u=j);var g=(j-u)/i,v=Ju(function(w,S){return Px.apply(void 0,s_(S).concat([n(g)]))},o);if(s(Un(Un(Un({},e),t),v)),g<1)c=requestAnimationFrame(f);else{var N=Ju(function(w,S){return Px.apply(void 0,s_(S).concat([n(1)]))},o);s(Un(Un(Un({},e),t),N))}};return f=n.isStepper?h:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}var jfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wfe(e,t){if(e==null)return{};var n=Nfe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Nfe(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function h0(e){return kfe(e)||Efe(e)||Cfe(e)||Sfe()}function Sfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cfe(e,t){if(e){if(typeof e=="string")return aw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(e,t)}}function Efe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kfe(e){if(Array.isArray(e))return aw(e)}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(i){$u(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $u(e,t,n){return t=iL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Afe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,iL(i.key),i)}}function Pfe(e,t,n){return t&&_fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iL(e){var t=Tfe(e,"string");return md(t)==="symbol"?t:String(t)}function Tfe(e,t){if(md(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(md(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ofe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}function ow(e,t){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},ow(e,t)}function Ife(e){var t=Rfe();return function(){var i=Tx(e),s;if(t){var a=Tx(this).constructor;s=Reflect.construct(i,arguments,a)}else s=i.apply(this,arguments);return lw(this,s)}}function lw(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cw(e)}function cw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tx(e){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(e)}var ua=function(e){Ofe(n,e);var t=Ife(n);function n(i,s){var a;Afe(this,n),a=t.call(this,i,s);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,p=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(cw(a)),a.changeStyle=a.changeStyle.bind(cw(a)),!l||x<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),lw(a);if(f&&f.length)a.state={style:f[0].style};else if(d){if(typeof p=="function")return a.state={style:d},lw(a);a.state={style:c?$u({},c,d):d}}else a.state={style:{}};return a}return Pfe(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(l){if(!o){var x={style:c?$u({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(x);return}if(!(que(s.to,u)&&s.canBegin&&s.isActive)){var h=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=h||d?f:s.to;if(this.state&&p){var y={style:c?$u({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(y)}this.runAnimation(bi(bi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,x=bfe(o,l,cfe(d),c,this.changeStyle),h=function(){a.stopJSAnimation=x()};this.manager.start([p,u,h,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,f=d.duration,p=f===void 0?0:f,x=function(m,y,j){if(j===0)return m;var g=y.duration,v=y.easing,N=v===void 0?"ease":v,w=y.style,S=y.properties,E=y.onAnimationEnd,C=j>0?o[j-1]:y,k=S||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(h0(m),[a.runJSAnimation.bind(a,{from:C.style,to:w,duration:g,easing:N}),g]);var R=n_(k,g,N),P=bi(bi(bi({},C.style),w),{},{transition:R});return[].concat(h0(m),[P,g,E]).filter(Xue)};return this.manager.start([c].concat(h0(o.reduce(x,[u,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Gue());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,x=s.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var m=l?$u({},l,c):c,y=n_(Object.keys(m),o,d);h.start([u,a,bi(bi({},m),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=wfe(s,jfe),d=b.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var f=function(x){var h=x.props,m=h.style,y=m===void 0?{}:m,j=h.className,g=b.cloneElement(x,bi(bi({},c),{},{style:bi(bi({},y),u),className:j}));return g};return d===1?f(b.Children.only(a)):q.createElement("div",null,b.Children.map(a,function(p){return f(p)}))}}]),n}(b.PureComponent);ua.displayName="Animate";ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ua.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ox.apply(this,arguments)}function Mfe(e,t){return Ffe(e)||Lfe(e,t)||Dfe(e,t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dfe(e,t){if(e){if(typeof e=="string")return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Lfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Ffe(e){if(Array.isArray(e))return e}function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function d_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(i){qfe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qfe(e,t,n){return t=zfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zfe(e){var t=Bfe(e,"string");return Zf(t)=="symbol"?t:t+""}function Bfe(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Zf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u_=function(t,n,i,s,a){var o=Math.min(Math.abs(i)/2,Math.abs(s)/2),l=s>=0?1:-1,c=i>=0?1:-1,d=s>=0&&i>=0||s<0&&i<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(n)),u+="L ".concat(t+i-c*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+i,",").concat(n+l*f[1])),u+="L ".concat(t+i,",").concat(n+s-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+i-c*f[2],",").concat(n+s)),u+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-l*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);u="M ".concat(t,",").concat(n+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t+c*h,",").concat(n,`
            L `).concat(t+i-c*h,",").concat(n,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t+i,",").concat(n+l*h,`
            L `).concat(t+i,",").concat(n+s-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t+i-c*h,",").concat(n+s,`
            L `).concat(t+c*h,",").concat(n+s,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t,",").concat(n+s-l*h," Z")}else u="M ".concat(t,",").concat(n," h ").concat(i," v ").concat(s," h ").concat(-i," Z");return u},Ufe=function(t,n){if(!t||!n)return!1;var i=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return i>=d&&i<=u&&s>=f&&s<=p}return!1},Vfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NS=function(t){var n=d_(d_({},Vfe),t),i=b.useRef(),s=b.useState(-1),a=Mfe(s,2),o=a[0],l=a[1];b.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var N=i.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,f=n.height,p=n.radius,x=n.className,h=n.animationEasing,m=n.animationDuration,y=n.animationBegin,j=n.isAnimationActive,g=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var v=gt("recharts-rectangle",x);return g?q.createElement(ua,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:m,animationEasing:h,isActive:g},function(N){var w=N.width,S=N.height,E=N.x,C=N.y;return q.createElement(ua,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:j,easing:h},q.createElement("path",Ox({},dt(n,!0),{className:v,d:u_(E,C,w,S,p),ref:i})))}):q.createElement("path",Ox({},dt(n,!0),{className:v,d:u_(c,d,u,f,p)}))},Wfe=["points","className","baseLinePoints","connectNulls"];function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fc.apply(this,arguments)}function Hfe(e,t){if(e==null)return{};var n=Gfe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Gfe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function f_(e){return Xfe(e)||Qfe(e)||Yfe(e)||Kfe()}function Kfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(e,t){if(e){if(typeof e=="string")return dw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(e,t)}}function Qfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xfe(e){if(Array.isArray(e))return dw(e)}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var p_=function(t){return t&&t.x===+t.x&&t.y===+t.y},Zfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(i){p_(i)?n[n.length-1].push(i):n[n.length-1].length>0&&n.push([])}),p_(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ef=function(t,n){var i=Zfe(t);n&&(i=[i.reduce(function(a,o){return[].concat(f_(a),f_(o))},[])]);var s=i.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return i.length===1?"".concat(s,"Z"):s},Jfe=function(t,n,i){var s=ef(t,i);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(ef(n.reverse(),i).slice(1))},epe=function(t){var n=t.points,i=t.className,s=t.baseLinePoints,a=t.connectNulls,o=Hfe(t,Wfe);if(!n||!n.length)return null;var l=gt("recharts-polygon",i);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=Jfe(n,s,a);return q.createElement("g",{className:l},q.createElement("path",fc({},dt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?q.createElement("path",fc({},dt(o,!0),{fill:"none",d:ef(n,a)})):null,c?q.createElement("path",fc({},dt(o,!0),{fill:"none",d:ef(s,a)})):null)}var u=ef(n,a);return q.createElement("path",fc({},dt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uw.apply(this,arguments)}var SS=function(t){var n=t.cx,i=t.cy,s=t.r,a=t.className,o=gt("recharts-dot",a);return n===+n&&i===+i&&s===+s?q.createElement("circle",uw({},dt(t,!1),Jh(t),{className:o,cx:n,cy:i,r:s})):null};function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}var tpe=["x","y","top","left","width","height","className"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fw.apply(this,arguments)}function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function npe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(i){rpe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rpe(e,t,n){return t=ipe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ipe(e){var t=spe(e,"string");return Jf(t)=="symbol"?t:t+""}function spe(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Jf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ape(e,t){if(e==null)return{};var n=ope(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function ope(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var lpe=function(t,n,i,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(i)},cpe=function(t){var n=t.x,i=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,p=t.height,x=p===void 0?0:p,h=t.className,m=ape(t,tpe),y=npe({x:i,y:a,top:l,left:d,width:f,height:x},m);return!je(i)||!je(a)||!je(f)||!je(x)||!je(l)||!je(d)?null:q.createElement("path",fw({},dt(y,!0),{className:gt("recharts-cross",h),d:lpe(i,a,f,x,l,d)}))},dpe=Ag,upe=xD,fpe=ks;function ppe(e,t){return e&&e.length?dpe(e,fpe(t),upe):void 0}var mpe=ppe;const hpe=Rt(mpe);var xpe=Ag,vpe=ks,gpe=vD;function ype(e,t){return e&&e.length?xpe(e,vpe(t),gpe):void 0}var bpe=ype;const jpe=Rt(bpe);var wpe=["cx","cy","angle","ticks","axisLine"],Npe=["ticks","tick","angle","tickFormatter","stroke"];function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tf.apply(this,arguments)}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(i){Mg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function x_(e,t){if(e==null)return{};var n=Spe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Spe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Cpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,aL(i.key),i)}}function Epe(e,t,n){return t&&v_(e.prototype,t),n&&v_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kpe(e,t,n){return t=Ix(t),Ape(e,sL()?Reflect.construct(t,n||[],Ix(e).constructor):t.apply(e,n))}function Ape(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(e)}function _pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!e})()}function Ix(e){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(e)}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pw(e,t)}function pw(e,t){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},pw(e,t)}function Mg(e,t,n){return t=aL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aL(e){var t=Tpe(e,"string");return hd(t)=="symbol"?t:t+""}function Tpe(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(hd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $g=function(e){function t(){return Cpe(this,t),kpe(this,t,arguments)}return Ppe(t,e),Epe(t,[{key:"getTickValueCoord",value:function(i){var s=i.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Qt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var i=this.props.orientation,s;switch(i){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.angle,l=i.ticks,c=hpe(l,function(u){return u.coordinate||0}),d=jpe(l,function(u){return u.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.angle,l=i.ticks,c=i.axisLine,d=x_(i,wpe),u=l.reduce(function(h,m){return[Math.min(h[0],m.coordinate),Math.max(h[1],m.coordinate)]},[1/0,-1/0]),f=Qt(s,a,u[0],o),p=Qt(s,a,u[1],o),x=ko(ko(ko({},dt(d,!1)),{},{fill:"none"},dt(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return q.createElement("line",tf({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var i=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=x_(s,Npe),f=this.getTickTextAnchor(),p=dt(u,!1),x=dt(o,!1),h=a.map(function(m,y){var j=i.getTickValueCoord(m),g=ko(ko(ko(ko({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},p),{},{stroke:"none",fill:d},x),{},{index:y},j),{},{payload:m});return q.createElement(Lt,tf({className:gt("recharts-polar-radius-axis-tick",WD(o)),key:"tick-".concat(m.coordinate)},yl(i.props,m,y)),t.renderTickItem(o,g,c?c(m.value,y):m.value))});return q.createElement(Lt,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var i=this.props,s=i.ticks,a=i.axisLine,o=i.tick;return!s||!s.length?null:q.createElement(Lt,{className:gt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ln.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(i,s,a){var o;return q.isValidElement(i)?o=q.cloneElement(i,s):ft(i)?o=i(s):o=q.createElement(bl,tf({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(b.PureComponent);Mg($g,"displayName","PolarRadiusAxis");Mg($g,"axisType","radiusAxis");Mg($g,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lo.apply(this,arguments)}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(i){Dg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ope(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lL(i.key),i)}}function Ipe(e,t,n){return t&&y_(e.prototype,t),n&&y_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rpe(e,t,n){return t=Rx(t),Mpe(e,oL()?Reflect.construct(t,n||[],Rx(e).constructor):t.apply(e,n))}function Mpe(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(e)}function $pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(e)}function Dpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},mw(e,t)}function Dg(e,t,n){return t=lL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lL(e){var t=Lpe(e,"string");return xd(t)=="symbol"?t:t+""}function Lpe(e,t){if(xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(xd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fpe=Math.PI/180,b_=1e-5,Lg=function(e){function t(){return Ope(this,t),Rpe(this,t,arguments)}return Dpe(t,e),Ipe(t,[{key:"getTickLineCoord",value:function(i){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,f=Qt(a,o,l,i.coordinate),p=Qt(a,o,l+(c==="inner"?-1:1)*u,i.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(i){var s=this.props.orientation,a=Math.cos(-i.coordinate*Fpe),o;return a>b_?o=s==="outer"?"start":"end":a<-b_?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.axisLine,c=i.axisLineType,d=Ao(Ao({},dt(this.props,!1)),{},{fill:"none"},dt(l,!1));if(c==="circle")return q.createElement(SS,Lo({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(p){return Qt(s,a,o,p.coordinate)});return q.createElement(epe,Lo({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var i=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=dt(this.props,!1),f=dt(o,!1),p=Ao(Ao({},u),{},{fill:"none"},dt(l,!1)),x=a.map(function(h,m){var y=i.getTickLineCoord(h),j=i.getTickTextAnchor(h),g=Ao(Ao(Ao({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:m,payload:h,x:y.x2,y:y.y2});return q.createElement(Lt,Lo({className:gt("recharts-polar-angle-axis-tick",WD(o)),key:"tick-".concat(h.coordinate)},yl(i.props,h,m)),l&&q.createElement("line",Lo({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,g,c?c(h.value,m):h.value))});return q.createElement(Lt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var i=this.props,s=i.ticks,a=i.radius,o=i.axisLine;return a<=0||!s||!s.length?null:q.createElement(Lt,{className:gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(i,s,a){var o;return q.isValidElement(i)?o=q.cloneElement(i,s):ft(i)?o=i(s):o=q.createElement(bl,Lo({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(b.PureComponent);Dg(Lg,"displayName","PolarAngleAxis");Dg(Lg,"axisType","angleAxis");Dg(Lg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qpe=f$,zpe=qpe(Object.getPrototypeOf,Object),Bpe=zpe,Upe=ha,Vpe=Bpe,Wpe=xa,Hpe="[object Object]",Gpe=Function.prototype,Kpe=Object.prototype,cL=Gpe.toString,Ype=Kpe.hasOwnProperty,Qpe=cL.call(Object);function Xpe(e){if(!Wpe(e)||Upe(e)!=Hpe)return!1;var t=Vpe(e);if(t===null)return!0;var n=Ype.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&cL.call(n)==Qpe}var Zpe=Xpe;const Jpe=Rt(Zpe);var eme=ha,tme=xa,nme="[object Boolean]";function rme(e){return e===!0||e===!1||tme(e)&&eme(e)==nme}var ime=rme;const sme=Rt(ime);function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mx.apply(this,arguments)}function ame(e,t){return dme(e)||cme(e,t)||lme(e,t)||ome()}function ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lme(e,t){if(e){if(typeof e=="string")return j_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(e,t)}}function j_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function cme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function dme(e){if(Array.isArray(e))return e}function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(i){ume(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ume(e,t,n){return t=fme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fme(e){var t=pme(e,"string");return ep(t)=="symbol"?t:t+""}function pme(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ep(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S_=function(t,n,i,s,a){var o=i-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+i,",").concat(n),l+="L ".concat(t+i-o/2,",").concat(n+a),l+="L ".concat(t+i-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},mme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hme=function(t){var n=N_(N_({},mme),t),i=b.useRef(),s=b.useState(-1),a=ame(s,2),o=a[0],l=a[1];b.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var v=i.current.getTotalLength();v&&l(v)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,f=n.lowerWidth,p=n.height,x=n.className,h=n.animationEasing,m=n.animationDuration,y=n.animationBegin,j=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var g=gt("recharts-trapezoid",x);return j?q.createElement(ua,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:p,x:c,y:d},duration:m,animationEasing:h,isActive:j},function(v){var N=v.upperWidth,w=v.lowerWidth,S=v.height,E=v.x,C=v.y;return q.createElement(ua,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:h},q.createElement("path",Mx({},dt(n,!0),{className:g,d:S_(E,C,N,w,S),ref:i})))}):q.createElement("g",null,q.createElement("path",Mx({},dt(n,!0),{className:g,d:S_(c,d,u,f,p)})))},xme=["option","shapeType","propTransformer","activeClassName","isActive"];function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function vme(e,t){if(e==null)return{};var n=gme(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function gme(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(i){yme(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yme(e,t,n){return t=bme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bme(e){var t=jme(e,"string");return tp(t)=="symbol"?t:t+""}function jme(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(tp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wme(e,t){return $x($x({},t),e)}function Nme(e,t){return e==="symbols"}function E_(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(NS,n);case"trapezoid":return q.createElement(hme,n);case"sector":return q.createElement(KD,n);case"symbols":if(Nme(t))return q.createElement(B1,n);break;default:return null}}function Sme(e){return b.isValidElement(e)?e.props:e}function dL(e){var t=e.option,n=e.shapeType,i=e.propTransformer,s=i===void 0?wme:i,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=vme(e,xme),d;if(b.isValidElement(t))d=b.cloneElement(t,$x($x({},c),Sme(t)));else if(ft(t))d=t(c);else if(Jpe(t)&&!sme(t)){var u=s(t,c);d=q.createElement(E_,{shapeType:n,elementProps:u})}else{var f=c;d=q.createElement(E_,{shapeType:n,elementProps:f})}return l?q.createElement(Lt,{className:o},d):d}function Fg(e,t){return t!=null&&"trapezoids"in e.props}function qg(e,t){return t!=null&&"sectors"in e.props}function np(e,t){return t!=null&&"points"in e.props}function Cme(e,t){var n,i,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(i=t.labelViewBox)===null||i===void 0?void 0:i.y)||e.y===t.y;return s&&a}function Eme(e,t){var n=e.endAngle===t.endAngle,i=e.startAngle===t.startAngle;return n&&i}function kme(e,t){var n=e.x===t.x,i=e.y===t.y,s=e.z===t.z;return n&&i&&s}function Ame(e,t){var n;return Fg(e,t)?n=Cme:qg(e,t)?n=Eme:np(e,t)&&(n=kme),n}function _me(e,t){var n;return Fg(e,t)?n="trapezoids":qg(e,t)?n="sectors":np(e,t)&&(n="points"),n}function Pme(e,t){if(Fg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qg(e,t)){var i;return(i=t.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return np(e,t)?t.payload:{}}function Tme(e){var t=e.activeTooltipItem,n=e.graphicalItem,i=e.itemData,s=_me(n,t),a=Pme(n,t),o=i.filter(function(c,d){var u=Tg(a,c),f=n.props[s].filter(function(h){var m=Ame(n,t);return m(h,t)}),p=n.props[s].indexOf(f[f.length-1]),x=d===p;return u&&x}),l=i.indexOf(o[o.length-1]);return l}var vh;function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pc.apply(this,arguments)}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(i){ai(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ome(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,fL(i.key),i)}}function Ime(e,t,n){return t&&A_(e.prototype,t),n&&A_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rme(e,t,n){return t=Dx(t),Mme(e,uL()?Reflect.construct(t,n||[],Dx(e).constructor):t.apply(e,n))}function Mme(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $me(e)}function $me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dx(e)}function Dme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},hw(e,t)}function ai(e,t,n){return t=fL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fL(e){var t=Lme(e,"string");return vd(t)=="symbol"?t:t+""}function Lme(e,t){if(vd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(vd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ga=function(e){function t(n){var i;return Ome(this,t),i=Rme(this,t,[n]),ai(i,"pieRef",null),ai(i,"sectorRefs",[]),ai(i,"id",Gp("recharts-pie-")),ai(i,"handleAnimationEnd",function(){var s=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),ft(s)&&s()}),ai(i,"handleAnimationStart",function(){var s=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),ft(s)&&s()}),i.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},i}return Dme(t,e),Ime(t,[{key:"isActiveIndex",value:function(i){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(i)!==-1:i===s}},{key:"hasActiveIndex",value:function(){var i=this.props.activeIndex;return Array.isArray(i)?i.length!==0:i||i===0}},{key:"renderLabels",value:function(i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=dt(this.props,!1),f=dt(o,!1),p=dt(l,!1),x=o&&o.offsetRadius||20,h=i.map(function(m,y){var j=(m.startAngle+m.endAngle)/2,g=Qt(m.cx,m.cy,m.outerRadius+x,j),v=Gt(Gt(Gt(Gt({},u),m),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(g.x,m.cx)},g),N=Gt(Gt(Gt(Gt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:y,points:[Qt(m.cx,m.cy,m.outerRadius,j),g]}),w=c;return Nt(c)&&Nt(d)?w="value":Nt(c)&&(w=d),q.createElement(Lt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,v,nr(m,w)))});return q.createElement(Lt,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(i){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return i.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&i.length!==1)return null;var f=s.isActiveIndex(u),p=c&&s.hasActiveIndex()?c:null,x=f?o:p,h=Gt(Gt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return q.createElement(Lt,pc({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},yl(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),q.createElement(dL,pc({option:x,isActive:f,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var i=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,p=f.prevSectors,x=f.prevIsAnimationActive;return q.createElement(ua,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var m=h.t,y=[],j=a&&a[0],g=j.startAngle;return a.forEach(function(v,N){var w=p&&p[N],S=N>0?Gr(v,"paddingAngle",0):0;if(w){var E=ka(w.endAngle-w.startAngle,v.endAngle-v.startAngle),C=Gt(Gt({},v),{},{startAngle:g+S,endAngle:g+E(m)+S});y.push(C),g=C.endAngle}else{var k=v.endAngle,R=v.startAngle,P=ka(0,k-R),A=P(m),_=Gt(Gt({},v),{},{startAngle:g+S,endAngle:g+A+S});y.push(_),g=_.endAngle}}),q.createElement(Lt,null,i.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(i){var s=this;i.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var i=this.props,s=i.sectors,a=i.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Tg(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var i=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,f=s.innerRadius,p=s.outerRadius,x=s.isAnimationActive,h=this.state.isAnimationFinished;if(a||!o||!o.length||!je(d)||!je(u)||!je(f)||!je(p))return null;var m=gt("recharts-pie",l);return q.createElement(Lt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(j){i.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Ln.renderCallByParent(this.props,null,!1),(!x||h)&&eo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return s.prevIsAnimationActive!==i.isAnimationActive?{prevIsAnimationActive:i.isAnimationActive,prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:[],isAnimationFinished:!0}:i.isAnimationActive&&i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:i.sectors!==s.curSectors?{curSectors:i.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(i,s){return i>s?"start":i<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(i,s,a){if(q.isValidElement(i))return q.cloneElement(i,s);if(ft(i))return i(s);var o=gt("recharts-pie-label-line",typeof i!="boolean"?i.className:"");return q.createElement(ew,pc({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(i,s,a){if(q.isValidElement(i))return q.cloneElement(i,s);var o=a;if(ft(i)&&(o=i(s),q.isValidElement(o)))return o;var l=gt("recharts-pie-label-text",typeof i!="boolean"&&!ft(i)?i.className:"");return q.createElement(bl,pc({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);vh=ga;ai(ga,"displayName","Pie");ai(ga,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ys.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ai(ga,"parseDeltaAngle",function(e,t){var n=hr(t-e),i=Math.min(Math.abs(t-e),360);return n*i});ai(ga,"getRealPieData",function(e){var t=e.data,n=e.children,i=dt(e,!1),s=ui(n,jg);return t&&t.length?t.map(function(a,o){return Gt(Gt(Gt({payload:a},i),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return Gt(Gt({},i),a.props)}):[]});ai(ga,"parseCoordinateOfPie",function(e,t){var n=t.top,i=t.left,s=t.width,a=t.height,o=VD(s,a),l=i+xr(e.cx,s,s/2),c=n+xr(e.cy,a,a/2),d=xr(e.innerRadius,o,0),u=xr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});ai(ga,"getComposedData",function(e){var t=e.item,n=e.offset,i=t.type.defaultProps!==void 0?Gt(Gt({},t.type.defaultProps),t.props):t.props,s=vh.getRealPieData(i);if(!s||!s.length)return null;var a=i.cornerRadius,o=i.startAngle,l=i.endAngle,c=i.paddingAngle,d=i.dataKey,u=i.nameKey,f=i.valueKey,p=i.tooltipType,x=Math.abs(i.minAngle),h=vh.parseCoordinateOfPie(i,n),m=vh.parseDeltaAngle(o,l),y=Math.abs(m),j=d;Nt(d)&&Nt(f)?(qi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Nt(d)&&(qi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var g=s.filter(function(C){return nr(C,j,0)!==0}).length,v=(y>=360?g:g-1)*c,N=y-g*x-v,w=s.reduce(function(C,k){var R=nr(k,j,0);return C+(je(R)?R:0)},0),S;if(w>0){var E;S=s.map(function(C,k){var R=nr(C,j,0),P=nr(C,u,k),A=(je(R)?R:0)/w,_;k?_=E.endAngle+hr(m)*c*(R!==0?1:0):_=o;var O=_+hr(m)*((R!==0?x:0)+A*N),D=(_+O)/2,M=(h.innerRadius+h.outerRadius)/2,G=[{name:P,value:R,payload:C,dataKey:j,type:p}],z=Qt(h.cx,h.cy,M,D);return E=Gt(Gt(Gt({percent:A,cornerRadius:a,name:P,tooltipPayload:G,midAngle:D,middleRadius:M,tooltipPosition:z},C),h),{},{value:nr(C,j),startAngle:_,endAngle:O,payload:C,paddingAngle:hr(m)*c}),E})}return Gt(Gt({},h),{},{sectors:S,data:s})});var Fme=Math.ceil,qme=Math.max;function zme(e,t,n,i){for(var s=-1,a=qme(Fme((t-e)/(n||1)),0),o=Array(a);a--;)o[i?a:++s]=e,e+=n;return o}var Bme=zme,Ume=T$,__=1/0,Vme=17976931348623157e292;function Wme(e){if(!e)return e===0?e:0;if(e=Ume(e),e===__||e===-__){var t=e<0?-1:1;return t*Vme}return e===e?e:0}var pL=Wme,Hme=Bme,Gme=bg,x0=pL;function Kme(e){return function(t,n,i){return i&&typeof i!="number"&&Gme(t,n,i)&&(n=i=void 0),t=x0(t),n===void 0?(n=t,t=0):n=x0(n),i=i===void 0?t<n?1:-1:x0(i),Hme(t,n,i,e)}}var Yme=Kme,Qme=Yme,Xme=Qme(),Zme=Xme;const Lx=Rt(Zme);function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(i){mL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mL(e,t,n){return t=Jme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jme(e){var t=ehe(e,"string");return rp(t)=="symbol"?t:t+""}function ehe(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(rp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var the=["Webkit","Moz","O","ms"],nhe=function(t,n){var i=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=the.reduce(function(a,o){return T_(T_({},a),{},mL({},o+i,n))},{});return s[t]=n,s};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fx.apply(this,arguments)}function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function v0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(n),!0).forEach(function(i){$r(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xL(i.key),i)}}function ihe(e,t,n){return t&&I_(e.prototype,t),n&&I_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function she(e,t,n){return t=qx(t),ahe(e,hL()?Reflect.construct(t,n||[],qx(e).constructor):t.apply(e,n))}function ahe(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ohe(e)}function ohe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(e)}function lhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xw(e,t)}function xw(e,t){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},xw(e,t)}function $r(e,t,n){return t=xL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xL(e){var t=che(e,"string");return gd(t)=="symbol"?t:t+""}function che(e,t){if(gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(gd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dhe=function(t){var n=t.data,i=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Xu().domain(Lx(0,c)).range([a,a+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(i),endX:d(s),scale:d,scaleValues:u}},R_=function(t){return t.changedTouches&&!!t.changedTouches.length},yd=function(e){function t(n){var i;return rhe(this,t),i=she(this,t,[n]),$r(i,"handleDrag",function(s){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(s):i.state.isSlideMoving&&i.handleSlideDrag(s)}),$r(i,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&i.handleDrag(s.changedTouches[0])}),$r(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=i.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),i.detachDragEndListener()}),$r(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),$r(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),$r(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),$r(i,"handleSlideDragStart",function(s){var a=R_(s)?s.changedTouches[0]:s;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return lhe(t,e),ihe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var s=i.startX,a=i.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(s,a),p=Math.max(s,a),x=t.getIndexInRange(o,f),h=t.getIndexInRange(o,p);return{startIndex:x-x%c,endIndex:h===u?u:h-h%c}}},{key:"getTextOfTick",value:function(i){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=nr(a[i],l,i);return ft(o)?o(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,p=c.startIndex,x=c.endIndex,h=c.onChange,m=i.pageX-a;m>0?m=Math.min(m,d+u-f-l,d+u-f-o):m<0&&(m=Math.max(m,d-o,d-l));var y=this.getIndex({startX:o+m,endX:l+m});(y.startIndex!==p||y.endIndex!==x)&&h&&h(y),this.setState({startX:o+m,endX:l+m,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,s){var a=R_(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,f=u.x,p=u.width,x=u.travellerWidth,h=u.onChange,m=u.gap,y=u.data,j={startX:this.state.startX,endX:this.state.endX},g=i.pageX-a;g>0?g=Math.min(g,f+p-x-d):g<0&&(g=Math.max(g,f-d)),j[o]=d+g;var v=this.getIndex(j),N=v.startIndex,w=v.endIndex,S=function(){var C=y.length-1;return o==="startX"&&(l>c?N%m===0:w%m===0)||l<c&&w===C||o==="endX"&&(l>c?w%m===0:N%m===0)||l>c&&w===C};this.setState($r($r({},o,d+g),"brushMoveStartX",i.pageX),function(){h&&S()&&h(v)})}},{key:"handleTravellerMoveKeyboard",value:function(i,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],f=l.indexOf(u);if(f!==-1){var p=f+i;if(!(p===-1||p>=l.length)){var x=l[p];s==="startX"&&x>=d||s==="endX"&&x<=c||this.setState($r({},s,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.fill,d=i.stroke;return q.createElement("rect",{stroke:d,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.data,d=i.children,u=i.padding,f=b.Children.only(d);return f?q.cloneElement(f,{x:s,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,s){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,p=c.traveller,x=c.ariaLabel,h=c.data,m=c.startIndex,y=c.endIndex,j=Math.max(i,this.props.x),g=v0(v0({},dt(this.props,!1)),{},{x:j,y:d,width:u,height:f}),v=x||"Min value: ".concat((a=h[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=h[y])===null||o===void 0?void 0:o.name);return q.createElement(Lt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,g))}},{key:"renderSlide",value:function(i,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(i,s)+d,f=Math.max(Math.abs(s-i)-d,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var i=this.props,s=i.startIndex,a=i.endIndex,o=i.y,l=i.height,c=i.travellerWidth,d=i.stroke,u=this.state,f=u.startX,p=u.endX,x=5,h={pointerEvents:"none",fill:d};return q.createElement(Lt,{className:"recharts-brush-texts"},q.createElement(bl,Fx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-x,y:o+l/2},h),this.getTextOfTick(s)),q.createElement(bl,Fx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+x,y:o+l/2},h),this.getTextOfTick(a)))}},{key:"render",value:function(){var i=this.props,s=i.data,a=i.className,o=i.children,l=i.x,c=i.y,d=i.width,u=i.height,f=i.alwaysShowText,p=this.state,x=p.startX,h=p.endX,m=p.isTextActive,y=p.isSlideMoving,j=p.isTravellerMoving,g=p.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(d)||!je(u)||d<=0||u<=0)return null;var v=gt("recharts-brush",a),N=q.Children.count(o)===1,w=nhe("userSelect","none");return q.createElement(Lt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(x,h),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(h,"endX"),(m||y||j||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var s=i.x,a=i.y,o=i.width,l=i.height,c=i.stroke,d=Math.floor(a+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,s){var a;return q.isValidElement(i)?a=q.cloneElement(i,s):ft(i)?a=i(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(i,s){var a=i.data,o=i.width,l=i.x,c=i.travellerWidth,d=i.updateId,u=i.startIndex,f=i.endIndex;if(a!==s.prevData||d!==s.prevUpdateId)return v0({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?dhe({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(i.startIndex),endX:s.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,s){for(var a=i.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);i[c]>s?l=c:o=c}return s>=i[l]?l:o}}])}(b.PureComponent);$r(yd,"displayName","Brush");$r(yd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uhe=Y1;function fhe(e,t){var n;return uhe(e,function(i,s,a){return n=t(i,s,a),!n}),!!n}var phe=fhe,mhe=i$,hhe=ks,xhe=phe,vhe=Mr,ghe=bg;function yhe(e,t,n){var i=vhe(e)?mhe:xhe;return n&&ghe(e,t,n)&&(t=void 0),i(e,hhe(t))}var bhe=yhe;const jhe=Rt(bhe);var vs=function(t,n){var i=t.alwaysShow,s=t.ifOverflow;return i&&(s="extendDomain"),s===n},M_=E$;function whe(e,t,n){t=="__proto__"&&M_?M_(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Nhe=whe,She=Nhe,Che=S$,Ehe=ks;function khe(e,t){var n={};return t=Ehe(t),Che(e,function(i,s,a){She(n,s,t(i,s,a))}),n}var Ahe=khe;const _he=Rt(Ahe);function Phe(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}var The=Phe,Ohe=Y1;function Ihe(e,t){var n=!0;return Ohe(e,function(i,s,a){return n=!!t(i,s,a),n}),n}var Rhe=Ihe,Mhe=The,$he=Rhe,Dhe=ks,Lhe=Mr,Fhe=bg;function qhe(e,t,n){var i=Lhe(e)?Mhe:$he;return n&&Fhe(e,t,n)&&(t=void 0),i(e,Dhe(t))}var zhe=qhe;const vL=Rt(zhe);var Bhe=["x","y"];function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vw.apply(this,arguments)}function $_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(n),!0).forEach(function(i){Uhe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Uhe(e,t,n){return t=Vhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vhe(e){var t=Whe(e,"string");return ip(t)=="symbol"?t:t+""}function Whe(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ip(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hhe(e,t){if(e==null)return{};var n=Ghe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Ghe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Khe(e,t){var n=e.x,i=e.y,s=Hhe(e,Bhe),a="".concat(n),o=parseInt(a,10),l="".concat(i),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),p=parseInt(f,10);return Cu(Cu(Cu(Cu(Cu({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function D_(e){return q.createElement(dL,vw({shapeType:"rectangle",propTransformer:Khe,activeClassName:"recharts-active-bar"},e))}var Yhe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,s){if(typeof t=="number")return t;var a=typeof i=="number";return a?t(i,s):(a||wl(),n)}},Qhe=["value","background"],gL;function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Xhe(e,t){if(e==null)return{};var n=Zhe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Zhe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zx.apply(this,arguments)}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(n),!0).forEach(function(i){Va(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Jhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,bL(i.key),i)}}function exe(e,t,n){return t&&F_(e.prototype,t),n&&F_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function txe(e,t,n){return t=Bx(t),nxe(e,yL()?Reflect.construct(t,n||[],Bx(e).constructor):t.apply(e,n))}function nxe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rxe(e)}function rxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!e})()}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(e)}function ixe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},gw(e,t)}function Va(e,t,n){return t=bL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bL(e){var t=sxe(e,"string");return bd(t)=="symbol"?t:t+""}function sxe(e,t){if(bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(bd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $l=function(e){function t(){var n;Jhe(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=txe(this,t,[].concat(s)),Va(n,"state",{isAnimationFinished:!1}),Va(n,"id",Gp("recharts-bar-")),Va(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Va(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return ixe(t,e),exe(t,[{key:"renderRectanglesStatically",value:function(i){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=dt(this.props,!1);return i&&i.map(function(f,p){var x=p===c,h=x?d:o,m=Nn(Nn(Nn({},u),f),{},{isActive:x,option:h,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(Lt,zx({className:"recharts-bar-rectangle"},yl(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),q.createElement(D_,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state.prevData;return q.createElement(ua,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var h=x.t,m=a.map(function(y,j){var g=p&&p[j];if(g){var v=ka(g.x,y.x),N=ka(g.y,y.y),w=ka(g.width,y.width),S=ka(g.height,y.height);return Nn(Nn({},y),{},{x:v(h),y:N(h),width:w(h),height:S(h)})}if(o==="horizontal"){var E=ka(0,y.height),C=E(h);return Nn(Nn({},y),{},{y:y.y+y.height-C,height:C})}var k=ka(0,y.width),R=k(h);return Nn(Nn({},y),{},{width:R})});return q.createElement(Lt,null,i.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var i=this.props,s=i.data,a=i.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Tg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var i=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=dt(this.props.background,!1);return a.map(function(d,u){d.value;var f=d.background,p=Xhe(d,Qhe);if(!f)return null;var x=Nn(Nn(Nn(Nn(Nn({},p),{},{fill:"#eee"},f),c),yl(i.props,d,u)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return q.createElement(D_,zx({key:"background-bar-".concat(u),option:i.props.background,isActive:u===l},x))})}},{key:"renderErrorBar",value:function(i,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,f=ui(u,Rg);if(!f)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,x=function(y,j){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:nr(y,j)}},h={clipPath:i?"url(#clipPath-".concat(s,")"):null};return q.createElement(Lt,h,f.map(function(m){return q.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var i=this.props,s=i.hide,a=i.data,o=i.className,l=i.xAxis,c=i.yAxis,d=i.left,u=i.top,f=i.width,p=i.height,x=i.isAnimationActive,h=i.background,m=i.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,j=gt("recharts-bar",o),g=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,N=g||v,w=Nt(m)?this.id:m;return q.createElement(Lt,{className:j},g||v?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(w)},q.createElement("rect",{x:g?d:d-f/2,y:v?u:u-p/2,width:g?f:f*2,height:v?p:p*2}))):null,q.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!x||y)&&eo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:s.curData}:i.data!==s.curData?{curData:i.data}:null}}])}(b.PureComponent);gL=$l;Va($l,"displayName","Bar");Va($l,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ys.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va($l,"getComposedData",function(e){var t=e.props,n=e.item,i=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,x=Fce(i,n);if(!x)return null;var h=t.layout,m=n.type.defaultProps,y=m!==void 0?Nn(Nn({},m),n.props):n.props,j=y.dataKey,g=y.children,v=y.minPointSize,N=h==="horizontal"?o:a,w=d?N.scale.domain():null,S=Hce({numericAxis:N}),E=ui(g,jg),C=f.map(function(k,R){var P,A,_,O,D,M;d?P=qce(d[u+R],w):(P=nr(k,j),Array.isArray(P)||(P=[S,P]));var G=Yhe(v,gL.defaultProps.minPointSize)(P[1],R);if(h==="horizontal"){var z,I=[o.scale(P[0]),o.scale(P[1])],U=I[0],Z=I[1];A=A2({axis:a,ticks:l,bandSize:s,offset:x.offset,entry:k,index:R}),_=(z=Z??U)!==null&&z!==void 0?z:void 0,O=x.size;var $=U-Z;if(D=Number.isNaN($)?0:$,M={x:A,y:o.y,width:O,height:o.height},Math.abs(G)>0&&Math.abs(D)<Math.abs(G)){var ie=hr(D||G)*(Math.abs(G)-Math.abs(D));_-=ie,D+=ie}}else{var ne=[a.scale(P[0]),a.scale(P[1])],J=ne[0],se=ne[1];if(A=J,_=A2({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:k,index:R}),O=se-J,D=x.size,M={x:a.x,y:_,width:a.width,height:D},Math.abs(G)>0&&Math.abs(O)<Math.abs(G)){var ue=hr(O||G)*(Math.abs(G)-Math.abs(O));O+=ue}}return Nn(Nn(Nn({},k),{},{x:A,y:_,width:O,height:D,value:d?P:P[1],payload:k,background:M},E&&E[R]&&E[R].props),{},{tooltipPayload:[BD(n,k)],tooltipPosition:{x:A+O/2,y:_+D/2}})});return Nn({data:C,layout:h},p)});function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function axe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jL(i.key),i)}}function oxe(e,t,n){return t&&q_(e.prototype,t),n&&q_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(i){zg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zg(e,t,n){return t=jL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jL(e){var t=lxe(e,"string");return sp(t)=="symbol"?t:t+""}function lxe(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(sp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cxe=function(t,n,i,s,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),f={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:l-i.bottom,bottomMirror:l-i.bottom},p=!!Fr(d,$l);return u.reduce(function(x,h){var m=n[h],y=m.orientation,j=m.domain,g=m.padding,v=g===void 0?{}:g,N=m.mirror,w=m.reversed,S="".concat(y).concat(N?"Mirror":""),E,C,k,R,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=j[1]-j[0],_=1/0,O=m.categoricalDomain.sort();if(O.forEach(function(ne,J){J>0&&(_=Math.min((ne||0)-(O[J-1]||0),_))}),Number.isFinite(_)){var D=_/A,M=m.layout==="vertical"?i.height:i.width;if(m.padding==="gap"&&(E=D*M/2),m.padding==="no-gap"){var G=xr(t.barCategoryGap,D*M),z=D*M/2;E=z-G-(z-G)/M*G}}}s==="xAxis"?C=[i.left+(v.left||0)+(E||0),i.left+i.width-(v.right||0)-(E||0)]:s==="yAxis"?C=c==="horizontal"?[i.top+i.height-(v.bottom||0),i.top+(v.top||0)]:[i.top+(v.top||0)+(E||0),i.top+i.height-(v.bottom||0)-(E||0)]:C=m.range,w&&(C=[C[1],C[0]]);var I=LD(m,a,p),U=I.scale,Z=I.realScaleType;U.domain(j).range(C),FD(U);var $=qD(U,Ei(Ei({},m),{},{realScaleType:Z}));s==="xAxis"?(P=y==="top"&&!N||y==="bottom"&&N,k=i.left,R=f[S]-P*m.height):s==="yAxis"&&(P=y==="left"&&!N||y==="right"&&N,k=f[S]-P*m.width,R=i.top);var ie=Ei(Ei(Ei({},m),$),{},{realScaleType:Z,x:k,y:R,scale:U,width:s==="xAxis"?i.width:m.width,height:s==="yAxis"?i.height:m.height});return ie.bandSize=Ex(ie,$),!m.hide&&s==="xAxis"?f[S]+=(P?-1:1)*ie.height:m.hide||(f[S]+=(P?-1:1)*ie.width),Ei(Ei({},x),{},zg({},h,ie))},{})},wL=function(t,n){var i=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(i,a),y:Math.min(s,o),width:Math.abs(a-i),height:Math.abs(o-s)}},dxe=function(t){var n=t.x1,i=t.y1,s=t.x2,a=t.y2;return wL({x:n,y:i},{x:s,y:a})},NL=function(){function e(t){axe(this,e),this.scale=t}return oxe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,a=i.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var i=this.range(),s=i[0],a=i[i.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();zg(NL,"EPS",1e-4);var CS=function(t){var n=Object.keys(t).reduce(function(i,s){return Ei(Ei({},i),{},zg({},s,NL.create(t[s])))},{});return Ei(Ei({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return _he(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return vL(s,function(a,o){return n[o].isInRange(a)})}})};function uxe(e){return(e%180+180)%180}var fxe=function(t){var n=t.width,i=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uxe(s),o=a*Math.PI/180,l=Math.atan(i/n),c=o>l&&o<Math.PI-l?i/Math.sin(o):n/Math.cos(o);return Math.abs(c)},pxe=ks,mxe=Kp,hxe=gg;function xxe(e){return function(t,n,i){var s=Object(t);if(!mxe(t)){var a=pxe(n);t=hxe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,i);return o>-1?s[a?t[o]:o]:void 0}}var vxe=xxe,gxe=pL;function yxe(e){var t=gxe(e),n=t%1;return t===t?n?t-n:t:0}var bxe=yxe,jxe=g$,wxe=ks,Nxe=bxe,Sxe=Math.max;function Cxe(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=n==null?0:Nxe(n);return s<0&&(s=Sxe(i+s,0)),jxe(e,wxe(t),s)}var Exe=Cxe,kxe=vxe,Axe=Exe,_xe=kxe(Axe),Pxe=_xe;const Txe=Rt(Pxe);var Oxe=kG(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ES=b.createContext(void 0),kS=b.createContext(void 0),SL=b.createContext(void 0),CL=b.createContext({}),EL=b.createContext(void 0),kL=b.createContext(0),AL=b.createContext(0),B_=function(t){var n=t.state,i=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Oxe(a);return q.createElement(ES.Provider,{value:i},q.createElement(kS.Provider,{value:s},q.createElement(CL.Provider,{value:a},q.createElement(SL.Provider,{value:u},q.createElement(EL.Provider,{value:o},q.createElement(kL.Provider,{value:d},q.createElement(AL.Provider,{value:c},l)))))))},Ixe=function(){return b.useContext(EL)},_L=function(t){var n=b.useContext(ES);n==null&&wl();var i=n[t];return i==null&&wl(),i},Rxe=function(){var t=b.useContext(ES);return Ta(t)},Mxe=function(){var t=b.useContext(kS),n=Txe(t,function(i){return vL(i.domain,Number.isFinite)});return n||Ta(t)},PL=function(t){var n=b.useContext(kS);n==null&&wl();var i=n[t];return i==null&&wl(),i},$xe=function(){var t=b.useContext(SL);return t},Dxe=function(){return b.useContext(CL)},AS=function(){return b.useContext(AL)},_S=function(){return b.useContext(kL)};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function Lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fxe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,OL(i.key),i)}}function qxe(e,t,n){return t&&Fxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zxe(e,t,n){return t=Ux(t),Bxe(e,TL()?Reflect.construct(t,n||[],Ux(e).constructor):t.apply(e,n))}function Bxe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uxe(e)}function Uxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(e)}function Vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yw(e,t)}function yw(e,t){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},yw(e,t)}function U_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function V_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(n),!0).forEach(function(i){PS(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function PS(e,t,n){return t=OL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OL(e){var t=Wxe(e,"string");return jd(t)=="symbol"?t:t+""}function Wxe(e,t){if(jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(jd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hxe(e,t){return Qxe(e)||Yxe(e,t)||Kxe(e,t)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(e,t){if(e){if(typeof e=="string")return W_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(e,t)}}function W_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Qxe(e){if(Array.isArray(e))return e}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bw.apply(this,arguments)}var Xxe=function(t,n){var i;return q.isValidElement(t)?i=q.cloneElement(t,n):ft(t)?i=t(n):i=q.createElement("line",bw({},n,{className:"recharts-reference-line-line"})),i},Zxe=function(t,n,i,s,a,o,l,c,d){var u=a.x,f=a.y,p=a.width,x=a.height;if(i){var h=d.y,m=t.y.apply(h,{position:o});if(vs(d,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+p,y:m},{x:u,y:m}];return c==="left"?y.reverse():y}if(n){var j=d.x,g=t.x.apply(j,{position:o});if(vs(d,"discard")&&!t.x.isInRange(g))return null;var v=[{x:g,y:f+x},{x:g,y:f}];return l==="top"?v.reverse():v}if(s){var N=d.segment,w=N.map(function(S){return t.apply(S,{position:o})});return vs(d,"discard")&&jhe(w,function(S){return!t.isInRange(S)})?null:w}return null};function Jxe(e){var t=e.x,n=e.y,i=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Ixe(),u=_L(s),f=PL(a),p=$xe();if(!d||!p)return null;qi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=CS({x:u.scale,y:f.scale}),h=In(t),m=In(n),y=i&&i.length===2,j=Zxe(x,h,m,y,p,e.position,u.orientation,f.orientation,e);if(!j)return null;var g=Hxe(j,2),v=g[0],N=v.x,w=v.y,S=g[1],E=S.x,C=S.y,k=vs(e,"hidden")?"url(#".concat(d,")"):void 0,R=V_(V_({clipPath:k},dt(e,!0)),{},{x1:N,y1:w,x2:E,y2:C});return q.createElement(Lt,{className:gt("recharts-reference-line",l)},Xxe(o,R),Ln.renderCallByParent(e,dxe({x1:N,y1:w,x2:E,y2:C})))}var TS=function(e){function t(){return Lxe(this,t),zxe(this,t,arguments)}return Vxe(t,e),qxe(t,[{key:"render",value:function(){return q.createElement(Jxe,this.props)}}])}(q.Component);PS(TS,"displayName","ReferenceLine");PS(TS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jw.apply(this,arguments)}function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function H_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function G_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(n),!0).forEach(function(i){Bg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function eve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,RL(i.key),i)}}function nve(e,t,n){return t&&tve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rve(e,t,n){return t=Vx(t),ive(e,IL()?Reflect.construct(t,n||[],Vx(e).constructor):t.apply(e,n))}function ive(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(e)}function sve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(e)}function ave(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ww(e,t)}function ww(e,t){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},ww(e,t)}function Bg(e,t,n){return t=RL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RL(e){var t=ove(e,"string");return wd(t)=="symbol"?t:t+""}function ove(e,t){if(wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(wd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lve=function(t){var n=t.x,i=t.y,s=t.xAxis,a=t.yAxis,o=CS({x:s.scale,y:a.scale}),l=o.apply({x:n,y:i},{bandAware:!0});return vs(t,"discard")&&!o.isInRange(l)?null:l},Ug=function(e){function t(){return eve(this,t),rve(this,t,arguments)}return ave(t,e),nve(t,[{key:"render",value:function(){var i=this.props,s=i.x,a=i.y,o=i.r,l=i.alwaysShow,c=i.clipPathId,d=In(s),u=In(a);if(qi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=lve(this.props);if(!f)return null;var p=f.x,x=f.y,h=this.props,m=h.shape,y=h.className,j=vs(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=G_(G_({clipPath:j},dt(this.props,!0)),{},{cx:p,cy:x});return q.createElement(Lt,{className:gt("recharts-reference-dot",y)},t.renderDot(m,g),Ln.renderCallByParent(this.props,{x:p-o,y:x-o,width:2*o,height:2*o}))}}])}(q.Component);Bg(Ug,"displayName","ReferenceDot");Bg(Ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bg(Ug,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):ft(e)?n=e(t):n=q.createElement(SS,jw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nw.apply(this,arguments)}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Y_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(n),!0).forEach(function(i){Vg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$L(i.key),i)}}function uve(e,t,n){return t&&dve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fve(e,t,n){return t=Wx(t),pve(e,ML()?Reflect.construct(t,n||[],Wx(e).constructor):t.apply(e,n))}function pve(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(e)}function mve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ML(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(e)}function hve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Sw(e,t)}function Vg(e,t,n){return t=$L(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e){var t=xve(e,"string");return Nd(t)=="symbol"?t:t+""}function xve(e,t){if(Nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Nd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vve=function(t,n,i,s,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=CS({x:u.scale,y:f.scale}),x={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:i?p.y.apply(c,{position:"start"}):p.y.rangeMin},h={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return vs(a,"discard")&&(!p.isInRange(x)||!p.isInRange(h))?null:wL(x,h)},Wg=function(e){function t(){return cve(this,t),fve(this,t,arguments)}return hve(t,e),uve(t,[{key:"render",value:function(){var i=this.props,s=i.x1,a=i.x2,o=i.y1,l=i.y2,c=i.className,d=i.alwaysShow,u=i.clipPathId;qi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=In(s),p=In(a),x=In(o),h=In(l),m=this.props.shape;if(!f&&!p&&!x&&!h&&!m)return null;var y=vve(f,p,x,h,this.props);if(!y&&!m)return null;var j=vs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return q.createElement(Lt,{className:gt("recharts-reference-area",c)},t.renderRect(m,Y_(Y_({clipPath:j},dt(this.props,!0)),y)),Ln.renderCallByParent(this.props,y))}}])}(q.Component);Vg(Wg,"displayName","ReferenceArea");Vg(Wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vg(Wg,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):ft(e)?n=e(t):n=q.createElement(NS,Nw({},t,{className:"recharts-reference-area-rect"})),n});function DL(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],s=0;s<e.length;s+=t)i.push(e[s]);return i}function gve(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return fxe(i,n)}function yve(e,t,n){var i=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:i?s:a,end:i?s+o:a+l}:{start:i?s+o:a+l,end:i?s:a}}function Hx(e,t,n,i,s){if(e*t<e*i||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-i)>=0&&e*(t+e*a/2-s)<=0}function bve(e,t){return DL(e,t+1)}function jve(e,t,n,i,s){for(var a=(i||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var h=i==null?void 0:i[c];if(h===void 0)return{v:DL(i,d)};var m=c,y,j=function(){return y===void 0&&(y=n(h,m)),y},g=h.coordinate,v=c===0||Hx(e,g,j,u,l);v||(c=0,u=o,d+=1),v&&(u=g+e*(j()/2+s),c+=d)},p;d<=a.length;)if(p=f(),p)return p.v;return[]}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(n),!0).forEach(function(i){wve(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wve(e,t,n){return t=Nve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nve(e){var t=Sve(e,"string");return ap(t)=="symbol"?t:t+""}function Sve(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ap(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cve(e,t,n,i,s){for(var a=(i||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(p){var x=a[p],h,m=function(){return h===void 0&&(h=n(x,p)),h};if(p===o-1){var y=e*(x.coordinate+e*m()/2-c);a[p]=x=Jn(Jn({},x),{},{tickCoord:y>0?x.coordinate-y*e:x.coordinate})}else a[p]=x=Jn(Jn({},x),{},{tickCoord:x.coordinate});var j=Hx(e,x.tickCoord,m,l,c);j&&(c=x.tickCoord-e*(m()/2+s),a[p]=Jn(Jn({},x),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function Eve(e,t,n,i,s,a){var o=(i||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=i[l-1],f=n(u,l-1),p=e*(u.coordinate+e*f/2-d);o[l-1]=u=Jn(Jn({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var x=Hx(e,u.tickCoord,function(){return f},c,d);x&&(d=u.tickCoord-e*(f/2+s),o[l-1]=Jn(Jn({},u),{},{isShow:!0}))}for(var h=a?l-1:l,m=function(g){var v=o[g],N,w=function(){return N===void 0&&(N=n(v,g)),N};if(g===0){var S=e*(v.coordinate-e*w()/2-c);o[g]=v=Jn(Jn({},v),{},{tickCoord:S<0?v.coordinate-S*e:v.coordinate})}else o[g]=v=Jn(Jn({},v),{},{tickCoord:v.coordinate});var E=Hx(e,v.tickCoord,w,c,d);E&&(c=v.tickCoord+e*(w()/2+s),o[g]=Jn(Jn({},v),{},{isShow:!0}))},y=0;y<h;y++)m(y);return o}function OS(e,t,n){var i=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!i)return[];if(je(c)||Ys.isSsr)return bve(s,typeof c=="number"&&je(c)?c:0);var p=[],x=l==="top"||l==="bottom"?"width":"height",h=u&&x==="width"?Qu(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(v,N){var w=ft(d)?d(v.value,N):v.value;return x==="width"?gve(Qu(w,{fontSize:t,letterSpacing:n}),h,f):Qu(w,{fontSize:t,letterSpacing:n})[x]},y=s.length>=2?hr(s[1].coordinate-s[0].coordinate):1,j=yve(a,y,x);return c==="equidistantPreserveStart"?jve(y,j,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Eve(y,j,m,s,o,c==="preserveStartEnd"):p=Cve(y,j,m,s,o),p.filter(function(g){return g.isShow}))}var kve=["viewBox"],Ave=["viewBox"],_ve=["ticks"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mc.apply(this,arguments)}function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(i){IS(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function g0(e,t){if(e==null)return{};var n=Pve(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Pve(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,FL(i.key),i)}}function Ove(e,t,n){return t&&Z_(e.prototype,t),n&&Z_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ive(e,t,n){return t=Gx(t),Rve(e,LL()?Reflect.construct(t,n||[],Gx(e).constructor):t.apply(e,n))}function Rve(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mve(e)}function Mve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(e)}function $ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Cw(e,t)}function IS(e,t,n){return t=FL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FL(e){var t=Dve(e,"string");return Sd(t)=="symbol"?t:t+""}function Dve(e,t){if(Sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Sd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nu=function(e){function t(n){var i;return Tve(this,t),i=Ive(this,t,[n]),i.state={fontSize:"",letterSpacing:""},i}return $ve(t,e),Ove(t,[{key:"shouldComponentUpdate",value:function(i,s){var a=i.viewBox,o=g0(i,kve),l=this.props,c=l.viewBox,d=g0(l,Ave);return!kc(a,c)||!kc(o,d)||!kc(s,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var s=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,p=s.tickMargin,x,h,m,y,j,g,v=f?-1:1,N=i.tickSize||u,w=je(i.tickCoord)?i.tickCoord:i.coordinate;switch(d){case"top":x=h=i.coordinate,y=o+ +!f*c,m=y-v*N,g=m-v*p,j=w;break;case"left":m=y=i.coordinate,h=a+ +!f*l,x=h-v*N,j=x-v*p,g=w;break;case"right":m=y=i.coordinate,h=a+ +f*l,x=h+v*N,j=x+v*p,g=w;break;default:x=h=i.coordinate,y=o+ +f*c,m=y+v*N,g=m+v*p,j=w;break}return{line:{x1:x,y1:m,x2:h,y2:y},tick:{x:j,y:g}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,s=i.orientation,a=i.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,s=i.orientation,a=i.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.mirror,u=i.axisLine,f=cr(cr(cr({},dt(this.props,!1)),dt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);f=cr(cr({},f),{},{x1:s,y1:a+p*l,x2:s+o,y2:a+p*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);f=cr(cr({},f),{},{x1:s+x*o,y1:a,x2:s+x*o,y2:a+l})}return q.createElement("line",mc({},f,{className:gt("recharts-cartesian-axis-line",Gr(u,"className"))}))}},{key:"renderTicks",value:function(i,s,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,p=l.unit,x=OS(cr(cr({},this.props),{},{ticks:i}),s,a),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=dt(this.props,!1),j=dt(u,!1),g=cr(cr({},y),{},{fill:"none"},dt(c,!1)),v=x.map(function(N,w){var S=o.getTickLineCoord(N),E=S.line,C=S.tick,k=cr(cr(cr(cr({textAnchor:h,verticalAnchor:m},y),{},{stroke:"none",fill:d},j),C),{},{index:w,payload:N,visibleTicksCount:x.length,tickFormatter:f});return q.createElement(Lt,mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},yl(o.props,N,w)),c&&q.createElement("line",mc({},g,E,{className:gt("recharts-cartesian-axis-tick-line",Gr(c,"className"))})),u&&t.renderTickItem(u,k,"".concat(ft(f)?f(N.value,w):N.value).concat(p||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var i=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,p=f.ticks,x=g0(f,_ve),h=p;return ft(c)&&(h=p&&p.length>0?c(this.props):c(x)),o<=0||l<=0||!h||!h.length?null:q.createElement(Lt,{className:gt("recharts-cartesian-axis",d),ref:function(y){i.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,s,a){var o;return q.isValidElement(i)?o=q.cloneElement(i,s):ft(i)?o=i(s):o=q.createElement(bl,mc({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);IS(nu,"displayName","CartesianAxis");IS(nu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lve=["x1","y1","x2","y2","key"],Fve=["offset"];function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function J_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(n),!0).forEach(function(i){qve(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qve(e,t,n){return t=zve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zve(e){var t=Bve(e,"string");return Nl(t)=="symbol"?t:t+""}function Bve(e,t){if(Nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Nl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ho.apply(this,arguments)}function eP(e,t){if(e==null)return{};var n=Uve(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Uve(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var Vve=function(t){var n=t.fill;if(!n||n==="none")return null;var i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return q.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function qL(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(ft(e))n=e(t);else{var i=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=eP(t,Lve),d=dt(c,!1);d.offset;var u=eP(d,Fve);n=q.createElement("line",Ho({},u,{x1:i,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function Wve(e){var t=e.x,n=e.width,i=e.horizontal,s=i===void 0?!0:i,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=tr(tr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return qL(s,d)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Hve(e){var t=e.y,n=e.height,i=e.vertical,s=i===void 0?!0:i,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=tr(tr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return qL(s,d)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Gve(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,x){return p-x});s!==u[0]&&u.unshift(0);var f=u.map(function(p,x){var h=!u[x+1],m=h?s+o-p:u[x+1]-p;if(m<=0)return null;var y=x%t.length;return q.createElement("rect",{key:"react-".concat(x),y:p,x:i,height:m,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Kve(e){var t=e.vertical,n=t===void 0?!0:t,i=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!i||!i.length)return null;var u=d.map(function(p){return Math.round(p+a-a)}).sort(function(p,x){return p-x});a!==u[0]&&u.unshift(0);var f=u.map(function(p,x){var h=!u[x+1],m=h?a+l-p:u[x+1]-p;if(m<=0)return null;var y=x%i.length;return q.createElement("rect",{key:"react-".concat(x),x:p,y:o,width:m,height:c,stroke:"none",fill:i[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Yve=function(t,n){var i=t.xAxis,s=t.width,a=t.height,o=t.offset;return DD(OS(tr(tr(tr({},nu.defaultProps),i),{},{ticks:Vs(i,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},Qve=function(t,n){var i=t.yAxis,s=t.width,a=t.height,o=t.offset;return DD(OS(tr(tr(tr({},nu.defaultProps),i),{},{ticks:Vs(i,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},Ul={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zL(e){var t,n,i,s,a,o,l=AS(),c=_S(),d=Dxe(),u=tr(tr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ul.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ul.fill,horizontal:(i=e.horizontal)!==null&&i!==void 0?i:Ul.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ul.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Ul.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ul.verticalFill,x:je(e.x)?e.x:d.left,y:je(e.y)?e.y:d.top,width:je(e.width)?e.width:d.width,height:je(e.height)?e.height:d.height}),f=u.x,p=u.y,x=u.width,h=u.height,m=u.syncWithTicks,y=u.horizontalValues,j=u.verticalValues,g=Rxe(),v=Mxe();if(!je(x)||x<=0||!je(h)||h<=0||!je(f)||f!==+f||!je(p)||p!==+p)return null;var N=u.verticalCoordinatesGenerator||Yve,w=u.horizontalCoordinatesGenerator||Qve,S=u.horizontalPoints,E=u.verticalPoints;if((!S||!S.length)&&ft(w)){var C=y&&y.length,k=w({yAxis:v?tr(tr({},v),{},{ticks:C?y:v.ticks}):void 0,width:l,height:c,offset:d},C?!0:m);qi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nl(k),"]")),Array.isArray(k)&&(S=k)}if((!E||!E.length)&&ft(N)){var R=j&&j.length,P=N({xAxis:g?tr(tr({},g),{},{ticks:R?j:g.ticks}):void 0,width:l,height:c,offset:d},R?!0:m);qi(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nl(P),"]")),Array.isArray(P)&&(E=P)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(Vve,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),q.createElement(Wve,Ho({},u,{offset:d,horizontalPoints:S,xAxis:g,yAxis:v})),q.createElement(Hve,Ho({},u,{offset:d,verticalPoints:E,xAxis:g,yAxis:v})),q.createElement(Gve,Ho({},u,{horizontalPoints:S})),q.createElement(Kve,Ho({},u,{verticalPoints:E})))}zL.displayName="CartesianGrid";function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function Xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,VL(i.key),i)}}function Jve(e,t,n){return t&&Zve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ege(e,t,n){return t=Kx(t),tge(e,BL()?Reflect.construct(t,n||[],Kx(e).constructor):t.apply(e,n))}function tge(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nge(e)}function nge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(e)}function rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ew(e,t)}function UL(e,t,n){return t=VL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(e){var t=ige(e,"string");return Cd(t)=="symbol"?t:t+""}function ige(e,t){if(Cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Cd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kw.apply(this,arguments)}function sge(e){var t=e.xAxisId,n=AS(),i=_S(),s=_L(t);return s==null?null:q.createElement(nu,kw({},s,{className:gt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Vs(o,!0)}}))}var Hg=function(e){function t(){return Xve(this,t),ege(this,t,arguments)}return rge(t,e),Jve(t,[{key:"render",value:function(){return q.createElement(sge,this.props)}}])}(q.Component);UL(Hg,"displayName","XAxis");UL(Hg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function age(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,GL(i.key),i)}}function lge(e,t,n){return t&&oge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cge(e,t,n){return t=Yx(t),dge(e,WL()?Reflect.construct(t,n||[],Yx(e).constructor):t.apply(e,n))}function dge(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uge(e)}function uge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yx(e)}function fge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Aw(e,t)}function HL(e,t,n){return t=GL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GL(e){var t=pge(e,"string");return Ed(t)=="symbol"?t:t+""}function pge(e,t){if(Ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_w.apply(this,arguments)}var mge=function(t){var n=t.yAxisId,i=AS(),s=_S(),a=PL(n);return a==null?null:q.createElement(nu,_w({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:s},ticksGenerator:function(l){return Vs(l,!0)}}))},Gg=function(e){function t(){return age(this,t),cge(this,t,arguments)}return fge(t,e),lge(t,[{key:"render",value:function(){return q.createElement(mge,this.props)}}])}(q.Component);HL(Gg,"displayName","YAxis");HL(Gg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tP(e){return gge(e)||vge(e)||xge(e)||hge()}function hge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(e,t){if(e){if(typeof e=="string")return Pw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(e,t)}}function vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gge(e){if(Array.isArray(e))return Pw(e)}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Tw=function(t,n,i,s,a){var o=ui(t,TS),l=ui(t,Ug),c=[].concat(tP(o),tP(l)),d=ui(t,Wg),u="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(m,y){if(y.props[u]===i&&vs(y.props,"extendDomain")&&je(y.props[f])){var j=y.props[f];return[Math.min(m[0],j),Math.max(m[1],j)]}return m},p)),d.length){var x="".concat(f,"1"),h="".concat(f,"2");p=d.reduce(function(m,y){if(y.props[u]===i&&vs(y.props,"extendDomain")&&je(y.props[x])&&je(y.props[h])){var j=y.props[x],g=y.props[h];return[Math.min(m[0],j,g),Math.max(m[1],j,g)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,y){return je(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},p)),p},KL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var x=new s(u,f||c,p),h=n?n+d:d;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],x]:c._events[h].push(x):(c._events[h]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new i:delete c._events[d]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,x=f.length,h=new Array(x);p<x;p++)h[p]=f[p].fn;return h},l.prototype.listenerCount=function(d){var u=n?n+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,x,h){var m=n?n+d:d;if(!this._events[m])return!1;var y=this._events[m],j=arguments.length,g,v;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,p),!0;case 5:return y.fn.call(y.context,u,f,p,x),!0;case 6:return y.fn.call(y.context,u,f,p,x,h),!0}for(v=1,g=new Array(j-1);v<j;v++)g[v-1]=arguments[v];y.fn.apply(y.context,g)}else{var N=y.length,w;for(v=0;v<N;v++)switch(y[v].once&&this.removeListener(d,y[v].fn,void 0,!0),j){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,f);break;case 4:y[v].fn.call(y[v].context,u,f,p);break;default:if(!g)for(w=1,g=new Array(j-1);w<j;w++)g[w-1]=arguments[w];y[v].fn.apply(y[v].context,g)}}return!0},l.prototype.on=function(d,u,f){return a(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return a(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var x=n?n+d:d;if(!this._events[x])return this;if(!u)return o(this,x),this;var h=this._events[x];if(h.fn)h.fn===u&&(!p||h.once)&&(!f||h.context===f)&&o(this,x);else{for(var m=0,y=[],j=h.length;m<j;m++)(h[m].fn!==u||p&&!h[m].once||f&&h[m].context!==f)&&y.push(h[m]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(KL);var yge=KL.exports;const bge=Rt(yge);var y0=new bge,b0="recharts.syncMouseEvents";function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,YL(i.key),i)}}function Nge(e,t,n){return t&&wge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j0(e,t,n){return t=YL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YL(e){var t=Sge(e,"string");return op(t)=="symbol"?t:t+""}function Sge(e,t){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(op(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cge=function(){function e(){jge(this,e),j0(this,"activeIndex",0),j0(this,"coordinateList",[]),j0(this,"layout","horizontal")}return Nge(e,[{key:"setDetails",value:function(n){var i,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,f=u===void 0?null:u,p=n.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(i=a??this.coordinateList)!==null&&i!==void 0?i:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((i=window)===null||i===void 0?void 0:i.scrollY)||0,f=a+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Ege(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var i=e==null?void 0:e[0],s=e==null?void 0:e[1];if(i&&s&&je(i)&&je(s))return!0}return!1}function kge(e,t,n,i){var s=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function QL(e){var t=e.cx,n=e.cy,i=e.radius,s=e.startAngle,a=e.endAngle,o=Qt(t,n,i,s),l=Qt(t,n,i,a);return{points:[o,l],cx:t,cy:n,radius:i,startAngle:s,endAngle:a}}function Age(e,t,n){var i,s,a,o;if(e==="horizontal")i=t.x,a=i,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,i=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,p=Qt(l,c,d,f),x=Qt(l,c,u,f);i=p.x,s=p.y,a=x.x,o=x.y}else return QL(t);return[{x:i,y:s},{x:a,y:o}]}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(i){_ge(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _ge(e,t,n){return t=Pge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pge(e){var t=Tge(e,"string");return lp(t)=="symbol"?t:t+""}function Tge(e,t){if(lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(lp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oge(e){var t,n,i=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,x=(t=i.props.cursor)!==null&&t!==void 0?t:(n=i.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!i||!x||!a||!o||p!=="ScatterChart"&&s!=="axis")return null;var h,m=ew;if(p==="ScatterChart")h=o,m=cpe;else if(p==="BarChart")h=kge(f,o,c,u),m=NS;else if(f==="radial"){var y=QL(o),j=y.cx,g=y.cy,v=y.radius,N=y.startAngle,w=y.endAngle;h={cx:j,cy:g,startAngle:N,endAngle:w,innerRadius:v,outerRadius:v},m=KD}else h={points:Age(f,o,c)},m=ew;var S=qm(qm(qm(qm({stroke:"#ccc",pointerEvents:"none"},c),h),dt(x,!1)),{},{payload:l,payloadIndex:d,className:gt("recharts-tooltip-cursor",x.className)});return b.isValidElement(x)?b.cloneElement(x,S):b.createElement(m,S)}var Ige=["item"],Rge=["children","className","width","height","style","compact","title","desc"];function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hc.apply(this,arguments)}function rP(e,t){return Dge(e)||$ge(e,t)||ZL(e,t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Dge(e){if(Array.isArray(e))return e}function iP(e,t){if(e==null)return{};var n=Lge(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Lge(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Fge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,JL(i.key),i)}}function zge(e,t,n){return t&&qge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bge(e,t,n){return t=Qx(t),Uge(e,XL()?Reflect.construct(t,n||[],Qx(e).constructor):t.apply(e,n))}function Uge(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vge(e)}function Vge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qx(e)}function Wge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ow(e,t)}function Ad(e){return Kge(e)||Gge(e)||ZL(e)||Hge()}function Hge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(e,t){if(e){if(typeof e=="string")return Iw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(e,t)}}function Gge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kge(e){if(Array.isArray(e))return Iw(e)}function Iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(i){it(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function it(e,t,n){return t=JL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JL(e){var t=Yge(e,"string");return kd(t)=="symbol"?t:t+""}function Yge(e,t){if(kd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(kd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qge={xAxis:["bottom","top"],yAxis:["left","right"]},Xge={width:"100%",height:"100%"},eF={x:0,y:0};function zm(e){return e}var Zge=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Jge=function(t,n,i,s){var a=n.find(function(u){return u&&u.index===i});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return le(le(le({},s),Qt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=s.angle;return le(le(le({},s),Qt(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return eF},Kg=function(t,n){var i=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(i??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ad(l),Ad(d)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(a)?t.slice(s,a+1):[]};function tF(e){return e==="number"?[0,"auto"]:void 0}var Rw=function(t,n,i,s){var a=t.graphicalItems,o=t.tooltipAxis,l=Kg(n,t);return i<0||!a||!a.length||i>=l.length?null:a.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=i&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;p=lj(x,o.dataKey,s)}else p=f&&f[i]||l[i];return p?[].concat(Ad(c),[BD(d,p)]):c},[])},aP=function(t,n,i,s){var a=s||{x:t.chartX,y:t.chartY},o=Zge(a,i),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Ice(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,p=Rw(t,n,u,f),x=Jge(i,l,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:x}}return null},eye=function(t,n){var i=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,x=$D(u,a);return i.reduce(function(h,m){var y,j=m.type.defaultProps!==void 0?le(le({},m.type.defaultProps),m.props):m.props,g=j.type,v=j.dataKey,N=j.allowDataOverflow,w=j.allowDuplicatedCategory,S=j.scale,E=j.ticks,C=j.includeHidden,k=j[o];if(h[k])return h;var R=Kg(t.data,{graphicalItems:s.filter(function($){var ie,ne=o in $.props?$.props[o]:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie[o];return ne===k}),dataStartIndex:c,dataEndIndex:d}),P=R.length,A,_,O;Ege(j.domain,N,g)&&(A=Yj(j.domain,null,N),x&&(g==="number"||S!=="auto")&&(O=Zu(R,v,"category")));var D=tF(g);if(!A||A.length===0){var M,G=(M=j.domain)!==null&&M!==void 0?M:D;if(v){if(A=Zu(R,v,g),g==="category"&&x){var z=SK(A);w&&z?(_=A,A=Lx(0,P)):w||(A=T2(G,A,m).reduce(function($,ie){return $.indexOf(ie)>=0?$:[].concat(Ad($),[ie])},[]))}else if(g==="category")w?A=A.filter(function($){return $!==""&&!Nt($)}):A=T2(G,A,m).reduce(function($,ie){return $.indexOf(ie)>=0||ie===""||Nt(ie)?$:[].concat(Ad($),[ie])},[]);else if(g==="number"){var I=Lce(R,s.filter(function($){var ie,ne,J=o in $.props?$.props[o]:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie[o],se="hide"in $.props?$.props.hide:(ne=$.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return J===k&&(C||!se)}),v,a,u);I&&(A=I)}x&&(g==="number"||S!=="auto")&&(O=Zu(R,v,"category"))}else x?A=Lx(0,P):l&&l[k]&&l[k].hasStack&&g==="number"?A=p==="expand"?[0,1]:zD(l[k].stackGroups,c,d):A=MD(R,s.filter(function($){var ie=o in $.props?$.props[o]:$.type.defaultProps[o],ne="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return ie===k&&(C||!ne)}),g,u,!0);if(g==="number")A=Tw(f,A,k,a,E),G&&(A=Yj(G,A,N));else if(g==="category"&&G){var U=G,Z=A.every(function($){return U.indexOf($)>=0});Z&&(A=U)}}return le(le({},h),{},it({},k,le(le({},j),{},{axisType:a,domain:A,categoricalDomain:O,duplicateDomain:_,originalDomain:(y=j.domain)!==null&&y!==void 0?y:D,isCategorical:x,layout:u})))},{})},tye=function(t,n){var i=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=Kg(t.data,{graphicalItems:i,dataStartIndex:c,dataEndIndex:d}),x=p.length,h=$D(u,a),m=-1;return i.reduce(function(y,j){var g=j.type.defaultProps!==void 0?le(le({},j.type.defaultProps),j.props):j.props,v=g[o],N=tF("number");if(!y[v]){m++;var w;return h?w=Lx(0,x):l&&l[v]&&l[v].hasStack?(w=zD(l[v].stackGroups,c,d),w=Tw(f,w,v,a)):(w=Yj(N,MD(p,i.filter(function(S){var E,C,k=o in S.props?S.props[o]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[o],R="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===v&&!R}),"number",u),s.defaultProps.allowDataOverflow),w=Tw(f,w,v,a)),le(le({},y),{},it({},v,le(le({axisType:a},s.defaultProps),{},{hide:!0,orientation:Gr(Qge,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:N,isCategorical:h,layout:u})))}return y},{})},nye=function(t,n){var i=n.axisType,s=i===void 0?"xAxis":i,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,f="".concat(s,"Id"),p=ui(u,a),x={};return p&&p.length?x=eye(t,{axes:p,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=tye(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},rye=function(t){var n=Ta(t),i=Vs(n,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:Q1(i,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ex(n,i)}},oP=function(t){var n=t.children,i=t.defaultShowTooltip,s=Fr(n,yd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!i}},iye=function(t){return!t||!t.length?!1:t.some(function(n){var i=Ks(n&&n.type);return i&&i.indexOf("Bar")>=0})},lP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sye=function(t,n){var i=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=i.width,u=i.height,f=i.children,p=i.margin||{},x=Fr(f,yd),h=Fr(f,Ac),m=Object.keys(c).reduce(function(w,S){var E=c[S],C=E.orientation;return!E.mirror&&!E.hide?le(le({},w),{},it({},C,w[C]+E.width)):w},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(w,S){var E=o[S],C=E.orientation;return!E.mirror&&!E.hide?le(le({},w),{},it({},C,Gr(w,"".concat(C))+E.height)):w},{top:p.top||0,bottom:p.bottom||0}),j=le(le({},y),m),g=j.bottom;x&&(j.bottom+=x.props.height||yd.defaultProps.height),h&&n&&(j=$ce(j,s,i,n));var v=d-j.left-j.right,N=u-j.top-j.bottom;return le(le({brushBottom:g},j),{},{width:Math.max(v,0),height:Math.max(N,0)})},aye=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},nF=function(t){var n=t.chartName,i=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(j,g){var v=g.graphicalItems,N=g.stackGroups,w=g.offset,S=g.updateId,E=g.dataStartIndex,C=g.dataEndIndex,k=j.barSize,R=j.layout,P=j.barGap,A=j.barCategoryGap,_=j.maxBarSize,O=lP(R),D=O.numericAxisName,M=O.cateAxisName,G=iye(v),z=[];return v.forEach(function(I,U){var Z=Kg(j.data,{graphicalItems:[I],dataStartIndex:E,dataEndIndex:C}),$=I.type.defaultProps!==void 0?le(le({},I.type.defaultProps),I.props):I.props,ie=$.dataKey,ne=$.maxBarSize,J=$["".concat(D,"Id")],se=$["".concat(M,"Id")],ue={},ke=c.reduce(function(Mn,T){var W=g["".concat(T.axisType,"Map")],F=$["".concat(T.axisType,"Id")];W&&W[F]||T.axisType==="zAxis"||wl();var re=W[F];return le(le({},Mn),{},it(it({},T.axisType,re),"".concat(T.axisType,"Ticks"),Vs(re)))},ue),ce=ke[M],ve=ke["".concat(M,"Ticks")],he=N&&N[J]&&N[J].hasStack&&Gce(I,N[J].stackGroups),B=Ks(I.type).indexOf("Bar")>=0,fe=Ex(ce,ve),pe=[],Te=G&&Rce({barSize:k,stackGroups:N,totalSize:aye(ke,M)});if(B){var Ne,et,at=Nt(ne)?_:ne,Ct=(Ne=(et=Ex(ce,ve,!0))!==null&&et!==void 0?et:at)!==null&&Ne!==void 0?Ne:0;pe=Mce({barGap:P,barCategoryGap:A,bandSize:Ct!==fe?Ct:fe,sizeList:Te[se],maxBarSize:at}),Ct!==fe&&(pe=pe.map(function(Mn){return le(le({},Mn),{},{position:le(le({},Mn.position),{},{offset:Mn.position.offset-Ct/2})})}))}var vn=I&&I.type&&I.type.getComposedData;vn&&z.push({props:le(le({},vn(le(le({},ke),{},{displayedData:Z,props:j,dataKey:ie,item:I,bandSize:fe,barPosition:pe,offset:w,stackedData:he,layout:R,dataStartIndex:E,dataEndIndex:C}))),{},it(it(it({key:I.key||"item-".concat(U)},D,ke[D]),M,ke[M]),"animationId",S)),childIndex:MK(I,j.children),item:I})}),z},x=function(j,g){var v=j.props,N=j.dataStartIndex,w=j.dataEndIndex,S=j.updateId;if(!Sk({props:v}))return null;var E=v.children,C=v.layout,k=v.stackOffset,R=v.data,P=v.reverseStackOrder,A=lP(C),_=A.numericAxisName,O=A.cateAxisName,D=ui(E,i),M=Wce(R,D,"".concat(_,"Id"),"".concat(O,"Id"),k,P),G=c.reduce(function($,ie){var ne="".concat(ie.axisType,"Map");return le(le({},$),{},it({},ne,nye(v,le(le({},ie),{},{graphicalItems:D,stackGroups:ie.axisType===_&&M,dataStartIndex:N,dataEndIndex:w}))))},{}),z=sye(le(le({},G),{},{props:v,graphicalItems:D}),g==null?void 0:g.legendBBox);Object.keys(G).forEach(function($){G[$]=u(v,G[$],z,$.replace("Map",""),n)});var I=G["".concat(O,"Map")],U=rye(I),Z=p(v,le(le({},G),{},{dataStartIndex:N,dataEndIndex:w,updateId:S,graphicalItems:D,stackGroups:M,offset:z}));return le(le({formattedGraphicalItems:Z,graphicalItems:D,offset:z,stackGroups:M},U),G)},h=function(y){function j(g){var v,N,w;return Fge(this,j),w=Bge(this,j,[g]),it(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(w,"accessibilityManager",new Cge),it(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,C=E.dataStartIndex,k=E.dataEndIndex,R=E.updateId;w.setState(le({legendBBox:S},x({props:w.props,dataStartIndex:C,dataEndIndex:k,updateId:R},le(le({},w.state),{},{legendBBox:S}))))}}),it(w,"handleReceiveSyncEvent",function(S,E,C){if(w.props.syncId===S){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),it(w,"handleBrushChange",function(S){var E=S.startIndex,C=S.endIndex;if(E!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return le({dataStartIndex:E,dataEndIndex:C},x({props:w.props,dataStartIndex:E,dataEndIndex:C,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),it(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var C=le(le({},E),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseEnter;ft(k)&&k(C,S)}}),it(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),C=E?le(le({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseMove;ft(k)&&k(C,S)}),it(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),it(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),it(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),it(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var C=w.props.onMouseLeave;ft(C)&&C(E,S)}),it(w,"handleOuterEvent",function(S){var E=RK(S),C=Gr(w.props,"".concat(E));if(E&&ft(C)){var k,R;/.*touch.*/i.test(E)?R=w.getMouseInfo(S.changedTouches[0]):R=w.getMouseInfo(S),C((k=R)!==null&&k!==void 0?k:{},S)}}),it(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var C=le(le({},E),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var k=w.props.onClick;ft(k)&&k(C,S)}}),it(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(ft(E)){var C=w.getMouseInfo(S);E(C,S)}}),it(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(ft(E)){var C=w.getMouseInfo(S);E(C,S)}}),it(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),it(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),it(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),it(w,"handleDoubleClick",function(S){var E=w.props.onDoubleClick;if(ft(E)){var C=w.getMouseInfo(S);E(C,S)}}),it(w,"handleContextMenu",function(S){var E=w.props.onContextMenu;if(ft(E)){var C=w.getMouseInfo(S);E(C,S)}}),it(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&y0.emit(b0,w.props.syncId,S,w.eventEmitterSymbol)}),it(w,"applySyncEvent",function(S){var E=w.props,C=E.layout,k=E.syncMethod,R=w.state.updateId,P=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(le({dataStartIndex:P,dataEndIndex:A},x({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:R},w.state)));else if(S.activeTooltipIndex!==void 0){var _=S.chartX,O=S.chartY,D=S.activeTooltipIndex,M=w.state,G=M.offset,z=M.tooltipTicks;if(!G)return;if(typeof k=="function")D=k(z,S);else if(k==="value"){D=-1;for(var I=0;I<z.length;I++)if(z[I].value===S.activeLabel){D=I;break}}var U=le(le({},G),{},{x:G.left,y:G.top}),Z=Math.min(_,U.x+U.width),$=Math.min(O,U.y+U.height),ie=z[D]&&z[D].value,ne=Rw(w.state,w.props.data,D),J=z[D]?{x:C==="horizontal"?z[D].coordinate:Z,y:C==="horizontal"?$:z[D].coordinate}:eF;w.setState(le(le({},S),{},{activeLabel:ie,activeCoordinate:J,activePayload:ne,activeTooltipIndex:D}))}else w.setState(S)}),it(w,"renderCursor",function(S){var E,C=w.state,k=C.isTooltipActive,R=C.activeCoordinate,P=C.activePayload,A=C.offset,_=C.activeTooltipIndex,O=C.tooltipAxisBandSize,D=w.getTooltipEventType(),M=(E=S.props.active)!==null&&E!==void 0?E:k,G=w.props.layout,z=S.key||"_recharts-cursor";return q.createElement(Oge,{key:z,activeCoordinate:R,activePayload:P,activeTooltipIndex:_,chartName:n,element:S,isActive:M,layout:G,offset:A,tooltipAxisBandSize:O,tooltipEventType:D})}),it(w,"renderPolarAxis",function(S,E,C){var k=Gr(S,"type.axisType"),R=Gr(w.state,"".concat(k,"Map")),P=S.type.defaultProps,A=P!==void 0?le(le({},P),S.props):S.props,_=R&&R[A["".concat(k,"Id")]];return b.cloneElement(S,le(le({},_),{},{className:gt(k,_.className),key:S.key||"".concat(E,"-").concat(C),ticks:Vs(_,!0)}))}),it(w,"renderPolarGrid",function(S){var E=S.props,C=E.radialLines,k=E.polarAngles,R=E.polarRadius,P=w.state,A=P.radiusAxisMap,_=P.angleAxisMap,O=Ta(A),D=Ta(_),M=D.cx,G=D.cy,z=D.innerRadius,I=D.outerRadius;return b.cloneElement(S,{polarAngles:Array.isArray(k)?k:Vs(D,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(R)?R:Vs(O,!0).map(function(U){return U.coordinate}),cx:M,cy:G,innerRadius:z,outerRadius:I,key:S.key||"polar-grid",radialLines:C})}),it(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,C=E.children,k=E.width,R=E.height,P=w.props.margin||{},A=k-(P.left||0)-(P.right||0),_=ID({children:C,formattedGraphicalItems:S,legendWidth:A,legendContent:d});if(!_)return null;var O=_.item,D=iP(_,Ige);return b.cloneElement(O,le(le({},D),{},{chartWidth:k,chartHeight:R,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),it(w,"renderTooltip",function(){var S,E=w.props,C=E.children,k=E.accessibilityLayer,R=Fr(C,Ci);if(!R)return null;var P=w.state,A=P.isTooltipActive,_=P.activeCoordinate,O=P.activePayload,D=P.activeLabel,M=P.offset,G=(S=R.props.active)!==null&&S!==void 0?S:A;return b.cloneElement(R,{viewBox:le(le({},M),{},{x:M.left,y:M.top}),active:G,label:D,payload:G?O:[],coordinate:_,accessibilityLayer:k})}),it(w,"renderBrush",function(S){var E=w.props,C=E.margin,k=E.data,R=w.state,P=R.offset,A=R.dataStartIndex,_=R.dataEndIndex,O=R.updateId;return b.cloneElement(S,{key:S.key||"_recharts-brush",onChange:$m(w.handleBrushChange,S.props.onChange),data:k,x:je(S.props.x)?S.props.x:P.left,y:je(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:je(S.props.width)?S.props.width:P.width,startIndex:A,endIndex:_,updateId:"brush-".concat(O)})}),it(w,"renderReferenceElement",function(S,E,C){if(!S)return null;var k=w,R=k.clipPathId,P=w.state,A=P.xAxisMap,_=P.yAxisMap,O=P.offset,D=S.type.defaultProps||{},M=S.props,G=M.xAxisId,z=G===void 0?D.xAxisId:G,I=M.yAxisId,U=I===void 0?D.yAxisId:I;return b.cloneElement(S,{key:S.key||"".concat(E,"-").concat(C),xAxis:A[z],yAxis:_[U],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:R})}),it(w,"renderActivePoints",function(S){var E=S.item,C=S.activePoint,k=S.basePoint,R=S.childIndex,P=S.isRange,A=[],_=E.props.key,O=E.item.type.defaultProps!==void 0?le(le({},E.item.type.defaultProps),E.item.props):E.item.props,D=O.activeDot,M=O.dataKey,G=le(le({index:R,dataKey:M,cx:C.x,cy:C.y,r:4,fill:wS(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},dt(D,!1)),Jh(D));return A.push(j.renderActiveDot(D,G,"".concat(_,"-activePoint-").concat(R))),k?A.push(j.renderActiveDot(D,le(le({},G),{},{cx:k.x,cy:k.y}),"".concat(_,"-basePoint-").concat(R))):P&&A.push(null),A}),it(w,"renderGraphicChild",function(S,E,C){var k=w.filterFormatItem(S,E,C);if(!k)return null;var R=w.getTooltipEventType(),P=w.state,A=P.isTooltipActive,_=P.tooltipAxis,O=P.activeTooltipIndex,D=P.activeLabel,M=w.props.children,G=Fr(M,Ci),z=k.props,I=z.points,U=z.isRange,Z=z.baseLine,$=k.item.type.defaultProps!==void 0?le(le({},k.item.type.defaultProps),k.item.props):k.item.props,ie=$.activeDot,ne=$.hide,J=$.activeBar,se=$.activeShape,ue=!!(!ne&&A&&G&&(ie||J||se)),ke={};R!=="axis"&&G&&G.props.trigger==="click"?ke={onClick:$m(w.handleItemMouseEnter,S.props.onClick)}:R!=="axis"&&(ke={onMouseLeave:$m(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:$m(w.handleItemMouseEnter,S.props.onMouseEnter)});var ce=b.cloneElement(S,le(le({},k.props),ke));function ve(T){return typeof _.dataKey=="function"?_.dataKey(T.payload):null}if(ue)if(O>=0){var he,B;if(_.dataKey&&!_.allowDuplicatedCategory){var fe=typeof _.dataKey=="function"?ve:"payload.".concat(_.dataKey.toString());he=lj(I,fe,D),B=U&&Z&&lj(Z,fe,D)}else he=I==null?void 0:I[O],B=U&&Z&&Z[O];if(se||J){var pe=S.props.activeIndex!==void 0?S.props.activeIndex:O;return[b.cloneElement(S,le(le(le({},k.props),ke),{},{activeIndex:pe})),null,null]}if(!Nt(he))return[ce].concat(Ad(w.renderActivePoints({item:k,activePoint:he,basePoint:B,childIndex:O,isRange:U})))}else{var Te,Ne=(Te=w.getItemByXY(w.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ce},et=Ne.graphicalItem,at=et.item,Ct=at===void 0?S:at,vn=et.childIndex,Mn=le(le(le({},k.props),ke),{},{activeIndex:vn});return[b.cloneElement(Ct,Mn),null,null]}return U?[ce,null,null]:[ce,null]}),it(w,"renderCustomized",function(S,E,C){return b.cloneElement(S,le(le({key:"recharts-customized-".concat(C)},w.props),w.state))}),it(w,"renderMap",{CartesianGrid:{handler:zm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:zm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:zm},YAxis:{handler:zm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((v=g.id)!==null&&v!==void 0?v:Gp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=O$(w.triggeredAfterMouseMove,(N=g.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return Wge(j,y),zge(j,[{key:"componentDidMount",value:function(){var v,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,N=v.children,w=v.data,S=v.height,E=v.layout,C=Fr(N,Ci);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=Rw(this.state,w,k,R),A=this.state.tooltipTicks[k].coordinate,_=(this.state.offset.top+S)/2,O=E==="horizontal",D=O?{x:A,y:_}:{y:A,x:_},M=this.state.formattedGraphicalItems.find(function(z){var I=z.item;return I.type.name==="Scatter"});M&&(D=le(le({},D),M.props.points[k].tooltipPosition),P=M.props.points[k].tooltipPayload);var G={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:D};this.setState(G),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(v){dj([Fr(v.children,Ci)],[Fr(this.props.children,Ci)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Fr(this.props.children,Ci);if(v&&typeof v.props.shared=="boolean"){var N=v.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),S=ose(w),E={chartX:Math.round(v.pageX-S.left),chartY:Math.round(v.pageY-S.top)},C=w.width/N.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,C);if(!k)return null;var R=this.state,P=R.xAxisMap,A=R.yAxisMap,_=this.getTooltipEventType(),O=aP(this.state,this.props.data,this.props.layout,k);if(_!=="axis"&&P&&A){var D=Ta(P).scale,M=Ta(A).scale,G=D&&D.invert?D.invert(E.chartX):null,z=M&&M.invert?M.invert(E.chartY):null;return le(le({},E),{},{xValue:G,yValue:z},O)}return O?le(le({},E),O):null}},{key:"inRange",value:function(v,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=v/w,C=N/w;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,R=E>=k.left&&E<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return R?{x:E,y:C}:null}var P=this.state,A=P.angleAxisMap,_=P.radiusAxisMap;if(A&&_){var O=Ta(A);return R2({x:E,y:C},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,N=this.getTooltipEventType(),w=Fr(v,Ci),S={};w&&N==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Jh(this.props,this.handleOuterEvent);return le(le({},E),S)}},{key:"addListener",value:function(){y0.on(b0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){y0.removeListener(b0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,N,w){for(var S=this.state.formattedGraphicalItems,E=0,C=S.length;E<C;E++){var k=S[E];if(k.item===v||k.props.key===v.key||N===Ks(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,N=this.state.offset,w=N.left,S=N.top,E=N.height,C=N.width;return q.createElement("defs",null,q.createElement("clipPath",{id:v},q.createElement("rect",{x:w,y:S,height:E,width:C})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(N,w){var S=rP(w,2),E=S[0],C=S[1];return le(le({},N),{},it({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(N,w){var S=rP(w,2),E=S[0],C=S[1];return le(le({},N),{},it({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(v){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(v){var N=this.state,w=N.formattedGraphicalItems,S=N.activeItem;if(w&&w.length)for(var E=0,C=w.length;E<C;E++){var k=w[E],R=k.props,P=k.item,A=P.type.defaultProps!==void 0?le(le({},P.type.defaultProps),P.props):P.props,_=Ks(P.type);if(_==="Bar"){var O=(R.data||[]).find(function(z){return Ufe(v,z)});if(O)return{graphicalItem:k,payload:O}}else if(_==="RadialBar"){var D=(R.data||[]).find(function(z){return R2(v,z)});if(D)return{graphicalItem:k,payload:D}}else if(Fg(k,S)||qg(k,S)||np(k,S)){var M=Tme({graphicalItem:k,activeTooltipItem:S,itemData:A.data}),G=A.activeIndex===void 0?M:A.activeIndex;return{graphicalItem:le(le({},k),{},{childIndex:G}),payload:np(k,S)?A.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var v=this;if(!Sk(this))return null;var N=this.props,w=N.children,S=N.className,E=N.width,C=N.height,k=N.style,R=N.compact,P=N.title,A=N.desc,_=iP(N,Rge),O=dt(_,!1);if(R)return q.createElement(B_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(fj,hc({},O,{width:E,height:C,title:P,desc:A}),this.renderClipPath(),Ek(w,this.renderMap)));if(this.props.accessibilityLayer){var D,M;O.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,O.role=(M=this.props.role)!==null&&M!==void 0?M:"application",O.onKeyDown=function(z){v.accessibilityManager.keyboardEvent(z)},O.onFocus=function(){v.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return q.createElement(B_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",hc({className:gt("recharts-wrapper",S),style:le({position:"relative",cursor:"default",width:E,height:C},k)},G,{ref:function(I){v.container=I}}),q.createElement(fj,hc({},O,{width:E,height:C,title:P,desc:A,style:Xge}),this.renderClipPath(),Ek(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);it(h,"displayName",n),it(h,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),it(h,"getDerivedStateFromProps",function(y,j){var g=y.dataKey,v=y.data,N=y.children,w=y.width,S=y.height,E=y.layout,C=y.stackOffset,k=y.margin,R=j.dataStartIndex,P=j.dataEndIndex;if(j.updateId===void 0){var A=oP(y);return le(le(le({},A),{},{updateId:0},x(le(le({props:y},A),{},{updateId:0}),j)),{},{prevDataKey:g,prevData:v,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:C,prevMargin:k,prevChildren:N})}if(g!==j.prevDataKey||v!==j.prevData||w!==j.prevWidth||S!==j.prevHeight||E!==j.prevLayout||C!==j.prevStackOffset||!kc(k,j.prevMargin)){var _=oP(y),O={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},D=le(le({},aP(j,v,E)),{},{updateId:j.updateId+1}),M=le(le(le({},_),O),D);return le(le(le({},M),x(le({props:y},M),j)),{},{prevDataKey:g,prevData:v,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:C,prevMargin:k,prevChildren:N})}if(!dj(N,j.prevChildren)){var G,z,I,U,Z=Fr(N,yd),$=Z&&(G=(z=Z.props)===null||z===void 0?void 0:z.startIndex)!==null&&G!==void 0?G:R,ie=Z&&(I=(U=Z.props)===null||U===void 0?void 0:U.endIndex)!==null&&I!==void 0?I:P,ne=$!==R||ie!==P,J=!Nt(v),se=J&&!ne?j.updateId:j.updateId+1;return le(le({updateId:se},x(le(le({props:y},j),{},{updateId:se,dataStartIndex:$,dataEndIndex:ie}),j)),{},{prevChildren:N,dataStartIndex:$,dataEndIndex:ie})}return null}),it(h,"renderActiveDot",function(y,j,g){var v;return b.isValidElement(y)?v=b.cloneElement(y,j):ft(y)?v=y(j):v=q.createElement(SS,j),q.createElement(Lt,{className:"recharts-active-dot",key:g},v)});var m=b.forwardRef(function(j,g){return q.createElement(h,hc({},j,{ref:g}))});return m.displayName=h.displayName,m},oye=nF({chartName:"BarChart",GraphicalChild:$l,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hg},{axisType:"yAxis",AxisComp:Gg}],formatAxisMap:cxe}),lye=nF({chartName:"PieChart",GraphicalChild:ga,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Lg},{axisType:"radiusAxis",AxisComp:$g}],formatAxisMap:rde,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function cye(){const{data:e=[]}=Ce({queryKey:["/api/analyses"]}),{data:t}=Ce({queryKey:["/api/analytics"]}),i=e.filter(u=>u.status==="completed").slice(0,3),s=t!=null&&t.rootCauseDistribution?Object.entries(t.rootCauseDistribution).map(([u,f])=>({name:u,value:f})):[],a=t!=null&&t.confidenceDistribution?Object.entries(t.confidenceDistribution).map(([u,f])=>({name:u,value:f})):[],o=["#ef4444","#f59e0b","#3b82f6","#10b981","#8b5cf6"],l=u=>{switch(u){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},c=u=>u>=90?"confidence-high":u>=70?"confidence-medium":"confidence-low",d=u=>{const f=new Date,p=new Date(u),x=Math.floor((f.getTime()-p.getTime())/(1e3*60*60));if(x<1)return"Less than an hour ago";if(x===1)return"1 hour ago";if(x<24)return`${x} hours ago`;const h=Math.floor(x/24);return h===1?"1 day ago":`${h} days ago`};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(H,{children:r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues Analyzed"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.totalAnalyses)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Sc,{className:"text-blue-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx($i,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+12%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})}),r.jsx(H,{children:r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Root Causes Identified"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.rootCausesIdentified)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Wi,{className:"text-green-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx($i,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+8%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"resolution rate"})]})]})}),r.jsx(H,{children:r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Analysis Time"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.avgAnalysisTime)||"0m"})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Kn,{className:"text-yellow-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx($i,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"-15%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"faster than manual"})]})]})}),r.jsx(H,{children:r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[(t==null?void 0:t.successRate)||0,"%"]})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Hi,{className:"text-purple-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx($i,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+3%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"accuracy improvement"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Root Cause Distribution"})}),r.jsx(K,{children:r.jsx(NA,{width:"100%",height:300,children:r.jsxs(lye,{children:[r.jsx(ga,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:f})=>`${u} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((u,f)=>r.jsx(jg,{fill:o[f%o.length]},`cell-${f}`))}),r.jsx(Ci,{})]})})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Analysis Confidence Levels"})}),r.jsx(K,{children:r.jsx(NA,{width:"100%",height:300,children:r.jsxs(oye,{data:a,children:[r.jsx(zL,{strokeDasharray:"3 3"}),r.jsx(Hg,{dataKey:"name"}),r.jsx(Gg,{}),r.jsx(Ci,{}),r.jsx($l,{dataKey:"value",fill:"hsl(217, 91%, 60%)"})]})})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{className:"flex flex-row items-center justify-between",children:[r.jsx(X,{children:"Recent Root Cause Findings"}),r.jsx(V,{variant:"ghost",size:"sm",children:"View All"})]}),r.jsx(K,{className:"space-y-4",children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Rr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No completed analyses yet. Upload files to get started."})]}):i.map(u=>r.jsx("div",{className:"border border-border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"font-medium text-foreground",children:u.issueDescription}),r.jsxs(ee,{className:l(u.priority),children:[u.priority.charAt(0).toUpperCase()+u.priority.slice(1)," Priority"]}),u.confidence&&r.jsxs(ee,{className:c(u.confidence),children:[u.confidence,"% Confidence"]})]}),u.rootCause&&r.jsxs("p",{className:"text-muted-foreground text-sm mb-3",children:["Root cause identified: ",u.rootCause]}),u.recommendations&&Array.isArray(u.recommendations)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Recommendations:"}),r.jsx("ul",{className:"text-sm text-muted-foreground ml-4 mt-1 space-y-1",children:u.recommendations.map((f,p)=>r.jsxs("li",{children:[" ",f]},p))})]})]}),r.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:d(u.createdAt)}),u.equipmentType&&r.jsx(ee,{variant:"outline",className:"text-xs mt-1",children:u.equipmentType.charAt(0).toUpperCase()+u.equipmentType.slice(1).replace("_"," ")})]}),r.jsx(V,{variant:"ghost",size:"sm",children:"View Details"})]})]})},u.id))})]})]})}const me=b.forwardRef(({className:e,type:t,...n},i)=>r.jsx("input",{type:t,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));me.displayName="Input";function Mw(e,[t,n]){return Math.min(n,Math.max(t,e))}var w0=0;function rF(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cP()),document.body.insertAdjacentElement("beforeend",e[1]??cP()),w0++,()=>{w0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),w0--}},[])}function cP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var N0="focusScope.autoFocusOnMount",S0="focusScope.autoFocusOnUnmount",dP={bubbles:!1,cancelable:!0},dye="FocusScope",RS=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=b.useState(null),d=bn(s),u=bn(a),f=b.useRef(null),p=jt(t,m=>c(m)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(i){let m=function(v){if(x.paused||!l)return;const N=v.target;l.contains(N)?f.current=N:Sa(f.current,{select:!0})},y=function(v){if(x.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||Sa(f.current,{select:!0}))},j=function(v){if(document.activeElement===document.body)for(const w of v)w.removedNodes.length>0&&Sa(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const g=new MutationObserver(j);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),g.disconnect()}}},[i,l,x.paused]),b.useEffect(()=>{if(l){fP.add(x);const m=document.activeElement;if(!l.contains(m)){const j=new CustomEvent(N0,dP);l.addEventListener(N0,d),l.dispatchEvent(j),j.defaultPrevented||(uye(xye(iF(l)),{select:!0}),document.activeElement===m&&Sa(l))}return()=>{l.removeEventListener(N0,d),setTimeout(()=>{const j=new CustomEvent(S0,dP);l.addEventListener(S0,u),l.dispatchEvent(j),j.defaultPrevented||Sa(m??document.body,{select:!0}),l.removeEventListener(S0,u),fP.remove(x)},0)}}},[l,d,u,x]);const h=b.useCallback(m=>{if(!n&&!i||x.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,j=document.activeElement;if(y&&j){const g=m.currentTarget,[v,N]=fye(g);v&&N?!m.shiftKey&&j===N?(m.preventDefault(),n&&Sa(v,{select:!0})):m.shiftKey&&j===v&&(m.preventDefault(),n&&Sa(N,{select:!0})):j===g&&m.preventDefault()}},[n,i,x.paused]);return r.jsx(nt.div,{tabIndex:-1,...o,ref:p,onKeyDown:h})});RS.displayName=dye;function uye(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Sa(i,{select:t}),document.activeElement!==n)return}function fye(e){const t=iF(e),n=uP(t,e),i=uP(t.reverse(),e);return[n,i]}function iF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uP(e,t){for(const n of e)if(!pye(n,{upTo:t}))return n}function pye(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mye(e){return e instanceof HTMLInputElement&&"select"in e}function Sa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mye(e)&&t&&e.select()}}var fP=hye();function hye(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=pP(e,t),e.unshift(t)},remove(t){var n;e=pP(e,t),(n=e[0])==null||n.resume()}}}function pP(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function xye(e){return e.filter(t=>t.tagName!=="A")}function Yg(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var vye=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vl=new WeakMap,Bm=new WeakMap,Um={},C0=0,sF=function(e){return e&&(e.host||sF(e.parentNode))},gye=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=sF(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yye=function(e,t,n,i){var s=gye(t,Array.isArray(e)?e:[e]);Um[n]||(Um[n]=new WeakMap);var a=Um[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var x=p.getAttribute(i),h=x!==null&&x!=="false",m=(Vl.get(p)||0)+1,y=(a.get(p)||0)+1;Vl.set(p,m),a.set(p,y),o.push(p),m===1&&h&&Bm.set(p,!0),y===1&&p.setAttribute(n,"true"),h||p.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return u(t),l.clear(),C0++,function(){o.forEach(function(f){var p=Vl.get(f)-1,x=a.get(f)-1;Vl.set(f,p),a.set(f,x),p||(Bm.has(f)||f.removeAttribute(i),Bm.delete(f)),x||f.removeAttribute(n)}),C0--,C0||(Vl=new WeakMap,Vl=new WeakMap,Bm=new WeakMap,Um={})}},aF=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=vye(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),yye(i,s,n,"aria-hidden")):function(){return null}},ls=function(){return ls=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ls.apply(this,arguments)};function oF(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function Dl(e,t,n,i){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(i.next(u))}catch(f){o(f)}}function c(u){try{d(i.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):s(u.value).then(l,c)}d((i=i.apply(e,t||[])).next())})}function bye(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var gh="right-scroll-bar-position",yh="width-before-scroll-bar",jye="with-scroll-bars-hidden",wye="--removed-body-scroll-bar-size";function E0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nye(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var Sye=typeof window<"u"?b.useLayoutEffect:b.useEffect,mP=new WeakMap;function Cye(e,t){var n=Nye(null,function(i){return e.forEach(function(s){return E0(s,i)})});return Sye(function(){var i=mP.get(n);if(i){var s=new Set(i),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||E0(l,null)}),a.forEach(function(l){s.has(l)||E0(l,o)})}mP.set(n,e)},[e]),n}function Eye(e){return e}function kye(e,t){t===void 0&&(t=Eye);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,i);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(i=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){i=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function Aye(e){e===void 0&&(e={});var t=kye(null);return t.options=ls({async:!0,ssr:!1},e),t}var lF=function(e){var t=e.sideCar,n=oF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return b.createElement(i,ls({},n))};lF.isSideCarExport=!0;function _ye(e,t){return e.useMedium(t),lF}var cF=Aye(),k0=function(){},Qg=b.forwardRef(function(e,t){var n=b.useRef(null),i=b.useState({onScrollCapture:k0,onWheelCapture:k0,onTouchMoveCapture:k0}),s=i[0],a=i[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,x=e.noIsolation,h=e.inert,m=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,g=e.gapMode,v=oF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,w=Cye([n,t]),S=ls(ls({},v),s);return b.createElement(b.Fragment,null,u&&b.createElement(N,{sideCar:cF,removeScrollBar:d,shards:f,noIsolation:x,inert:h,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:g}),o?b.cloneElement(b.Children.only(l),ls(ls({},S),{ref:w})):b.createElement(j,ls({},S,{className:c,ref:w}),l))});Qg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qg.classNames={fullWidth:yh,zeroRight:gh};var Pye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tye(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Pye();return t&&e.setAttribute("nonce",t),e}function Oye(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Iye(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Rye=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tye())&&(Oye(t,n),Iye(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Mye=function(){var e=Rye();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},dF=function(){var e=Mye(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},$ye={left:0,top:0,right:0,gap:0},A0=function(e){return parseInt(e||"",10)||0},Dye=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[A0(n),A0(i),A0(s)]},Lye=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $ye;var t=Dye(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},Fye=dF(),Tc="data-scroll-locked",qye=function(e,t,n,i){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(jye,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Tc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gh,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(yh,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(yh," .").concat(yh,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Tc,`] {
    `).concat(wye,": ").concat(l,`px;
  }
`)},hP=function(){var e=parseInt(document.body.getAttribute(Tc)||"0",10);return isFinite(e)?e:0},zye=function(){b.useEffect(function(){return document.body.setAttribute(Tc,(hP()+1).toString()),function(){var e=hP()-1;e<=0?document.body.removeAttribute(Tc):document.body.setAttribute(Tc,e.toString())}},[])},Bye=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;zye();var a=b.useMemo(function(){return Lye(s)},[s]);return b.createElement(Fye,{styles:qye(a,!t,s,n?"":"!important")})},$w=!1;if(typeof window<"u")try{var Vm=Object.defineProperty({},"passive",{get:function(){return $w=!0,!0}});window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,Vm)}catch{$w=!1}var Wl=$w?{passive:!1}:!1,Uye=function(e){return e.tagName==="TEXTAREA"},uF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Uye(e)&&n[t]==="visible")},Vye=function(e){return uF(e,"overflowY")},Wye=function(e){return uF(e,"overflowX")},xP=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=fF(e,i);if(s){var a=pF(e,i),o=a[1],l=a[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},Hye=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},Gye=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},fF=function(e,t){return e==="v"?Vye(t):Wye(t)},pF=function(e,t){return e==="v"?Hye(t):Gye(t)},Kye=function(e,t){return e==="h"&&t==="rtl"?-1:1},Yye=function(e,t,n,i,s){var a=Kye(e,window.getComputedStyle(t).direction),o=a*i,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,p=0;do{var x=pF(e,l),h=x[0],m=x[1],y=x[2],j=m-y-a*h;(h||j)&&fF(e,l)&&(f+=j,p+=h),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(d=!0),d},Wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vP=function(e){return[e.deltaX,e.deltaY]},gP=function(e){return e&&"current"in e?e.current:e},Qye=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Xye=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Zye=0,Hl=[];function Jye(e){var t=b.useRef([]),n=b.useRef([0,0]),i=b.useRef(),s=b.useState(Zye++)[0],a=b.useState(dF)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=bye([e.lockRef.current],(e.shards||[]).map(gP),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var j=Wm(m),g=n.current,v="deltaX"in m?m.deltaX:g[0]-j[0],N="deltaY"in m?m.deltaY:g[1]-j[1],w,S=m.target,E=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in m&&E==="h"&&S.type==="range")return!1;var C=xP(E,S);if(!C)return!0;if(C?w=E:(w=E==="v"?"h":"v",C=xP(E,S)),!C)return!1;if(!i.current&&"changedTouches"in m&&(v||N)&&(i.current=w),!w)return!0;var k=i.current||w;return Yye(k,y,m,k==="h"?v:N,!0)},[]),c=b.useCallback(function(m){var y=m;if(!(!Hl.length||Hl[Hl.length-1]!==a)){var j="deltaY"in y?vP(y):Wm(y),g=t.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&Qye(w.delta,j)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var v=(o.current.shards||[]).map(gP).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=v.length>0?l(y,v[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=b.useCallback(function(m,y,j,g){var v={name:m,delta:y,target:j,should:g,shadowParent:e0e(j)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),u=b.useCallback(function(m){n.current=Wm(m),i.current=void 0},[]),f=b.useCallback(function(m){d(m.type,vP(m),m.target,l(m,e.lockRef.current))},[]),p=b.useCallback(function(m){d(m.type,Wm(m),m.target,l(m,e.lockRef.current))},[]);b.useEffect(function(){return Hl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Wl),document.addEventListener("touchmove",c,Wl),document.addEventListener("touchstart",u,Wl),function(){Hl=Hl.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Wl),document.removeEventListener("touchmove",c,Wl),document.removeEventListener("touchstart",u,Wl)}},[]);var x=e.removeScrollBar,h=e.inert;return b.createElement(b.Fragment,null,h?b.createElement(a,{styles:Xye(s)}):null,x?b.createElement(Bye,{gapMode:e.gapMode}):null)}function e0e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const t0e=_ye(cF,Jye);var MS=b.forwardRef(function(e,t){return b.createElement(Qg,ls({},e,{ref:t,sideCar:t0e}))});MS.classNames=Qg.classNames;var n0e=[" ","Enter","ArrowUp","ArrowDown"],r0e=[" ","Enter"],Jp="Select",[Xg,Zg,i0e]=o1(Jp),[ru,QCe]=Nr(Jp,[i0e,Hv]),Jg=Hv(),[s0e,So]=ru(Jp),[a0e,o0e]=ru(Jp),mF=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:p,required:x,form:h}=e,m=Jg(t),[y,j]=b.useState(null),[g,v]=b.useState(null),[N,w]=b.useState(!1),S=Up(d),[E=!1,C]=ys({prop:i,defaultProp:s,onChange:a}),[k,R]=ys({prop:o,defaultProp:l,onChange:c}),P=b.useRef(null),A=y?h||!!y.closest("form"):!0,[_,O]=b.useState(new Set),D=Array.from(_).map(M=>M.props.value).join(";");return r.jsx(DM,{...m,children:r.jsxs(s0e,{required:x,scope:t,trigger:y,onTriggerChange:j,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:ms(),value:k,onValueChange:R,open:E,onOpenChange:C,dir:S,triggerPointerDownPosRef:P,disabled:p,children:[r.jsx(Xg.Provider,{scope:t,children:r.jsx(a0e,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(M=>{O(G=>new Set(G).add(M))},[]),onNativeOptionRemove:b.useCallback(M=>{O(G=>{const z=new Set(G);return z.delete(M),z})},[]),children:n})}),A?r.jsxs(FF,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:f,value:k,onChange:M=>R(M.target.value),disabled:p,form:h,children:[k===void 0?r.jsx("option",{value:""}):null,Array.from(_)]},D):null]})})};mF.displayName=Jp;var hF="SelectTrigger",xF=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,a=Jg(n),o=So(hF,n),l=o.disabled||i,c=jt(t,o.onTriggerChange),d=Zg(n),u=b.useRef("touch"),[f,p,x]=qF(m=>{const y=d().filter(v=>!v.disabled),j=y.find(v=>v.value===o.value),g=zF(y,m,j);g!==void 0&&o.onValueChange(g.value)}),h=m=>{l||(o.onOpenChange(!0),x()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return r.jsx(LM,{asChild:!0,...a,children:r.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":LF(o.value)?"":void 0,...s,ref:c,onClick:We(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&h(m)}),onPointerDown:We(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(h(m),m.preventDefault())}),onKeyDown:We(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&n0e.includes(m.key)&&(h(),m.preventDefault())})})})});xF.displayName=hF;var vF="SelectValue",gF=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:a,placeholder:o="",...l}=e,c=So(vF,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=jt(t,c.onValueNodeChange);return wn(()=>{d(u)},[d,u]),r.jsx(nt.span,{...l,ref:f,style:{pointerEvents:"none"},children:LF(c.value)?r.jsx(r.Fragment,{children:o}):a})});gF.displayName=vF;var l0e="SelectIcon",yF=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return r.jsx(nt.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});yF.displayName=l0e;var c0e="SelectPortal",bF=e=>r.jsx(Dv,{asChild:!0,...e});bF.displayName=c0e;var Sl="SelectContent",jF=b.forwardRef((e,t)=>{const n=So(Sl,e.__scopeSelect),[i,s]=b.useState();if(wn(()=>{s(new DocumentFragment)},[]),!n.open){const a=i;return a?Tl.createPortal(r.jsx(wF,{scope:e.__scopeSelect,children:r.jsx(Xg.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(NF,{...e,ref:t})});jF.displayName=Sl;var ji=10,[wF,Co]=ru(Sl),d0e="SelectContentImpl",u0e=ed("SelectContent.RemoveScroll"),NF=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:h,hideWhenDetached:m,avoidCollisions:y,...j}=e,g=So(Sl,n),[v,N]=b.useState(null),[w,S]=b.useState(null),E=jt(t,ue=>N(ue)),[C,k]=b.useState(null),[R,P]=b.useState(null),A=Zg(n),[_,O]=b.useState(!1),D=b.useRef(!1);b.useEffect(()=>{if(v)return aF(v)},[v]),rF();const M=b.useCallback(ue=>{const[ke,...ce]=A().map(B=>B.ref.current),[ve]=ce.slice(-1),he=document.activeElement;for(const B of ue)if(B===he||(B==null||B.scrollIntoView({block:"nearest"}),B===ke&&w&&(w.scrollTop=0),B===ve&&w&&(w.scrollTop=w.scrollHeight),B==null||B.focus(),document.activeElement!==he))return},[A,w]),G=b.useCallback(()=>M([C,v]),[M,C,v]);b.useEffect(()=>{_&&G()},[_,G]);const{onOpenChange:z,triggerPointerDownPosRef:I}=g;b.useEffect(()=>{if(v){let ue={x:0,y:0};const ke=ve=>{var he,B;ue={x:Math.abs(Math.round(ve.pageX)-(((he=I.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((B=I.current)==null?void 0:B.y)??0))}},ce=ve=>{ue.x<=10&&ue.y<=10?ve.preventDefault():v.contains(ve.target)||z(!1),document.removeEventListener("pointermove",ke),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",ce,{capture:!0})}}},[v,z,I]),b.useEffect(()=>{const ue=()=>z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[z]);const[U,Z]=qF(ue=>{const ke=A().filter(he=>!he.disabled),ce=ke.find(he=>he.ref.current===document.activeElement),ve=zF(ke,ue,ce);ve&&setTimeout(()=>ve.ref.current.focus())}),$=b.useCallback((ue,ke,ce)=>{const ve=!D.current&&!ce;(g.value!==void 0&&g.value===ke||ve)&&(k(ue),ve&&(D.current=!0))},[g.value]),ie=b.useCallback(()=>v==null?void 0:v.focus(),[v]),ne=b.useCallback((ue,ke,ce)=>{const ve=!D.current&&!ce;(g.value!==void 0&&g.value===ke||ve)&&P(ue)},[g.value]),J=i==="popper"?Dw:SF,se=J===Dw?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:h,hideWhenDetached:m,avoidCollisions:y}:{};return r.jsx(wF,{scope:n,content:v,viewport:w,onViewportChange:S,itemRefCallback:$,selectedItem:C,onItemLeave:ie,itemTextRefCallback:ne,focusSelectedItem:G,selectedItemText:R,position:i,isPositioned:_,searchRef:U,children:r.jsx(MS,{as:u0e,allowPinchZoom:!0,children:r.jsx(RS,{asChild:!0,trapped:g.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:We(s,ue=>{var ke;(ke=g.trigger)==null||ke.focus({preventScroll:!0}),ue.preventDefault()}),children:r.jsx($p,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:r.jsx(J,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ue=>ue.preventDefault(),...j,...se,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:We(j.onKeyDown,ue=>{const ke=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ke&&ue.key.length===1&&Z(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ve=A().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const he=ue.target,B=ve.indexOf(he);ve=ve.slice(B+1)}setTimeout(()=>M(ve)),ue.preventDefault()}})})})})})})});NF.displayName=d0e;var f0e="SelectItemAlignedPosition",SF=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,a=So(Sl,n),o=Co(Sl,n),[l,c]=b.useState(null),[d,u]=b.useState(null),f=jt(t,E=>u(E)),p=Zg(n),x=b.useRef(!1),h=b.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:j,focusSelectedItem:g}=o,v=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&y&&j){const E=a.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),R=j.getBoundingClientRect();if(a.dir!=="rtl"){const he=R.left-C.left,B=k.left-he,fe=E.left-B,pe=E.width+fe,Te=Math.max(pe,C.width),Ne=window.innerWidth-ji,et=Mw(B,[ji,Math.max(ji,Ne-Te)]);l.style.minWidth=pe+"px",l.style.left=et+"px"}else{const he=C.right-R.right,B=window.innerWidth-k.right-he,fe=window.innerWidth-E.right-B,pe=E.width+fe,Te=Math.max(pe,C.width),Ne=window.innerWidth-ji,et=Mw(B,[ji,Math.max(ji,Ne-Te)]);l.style.minWidth=pe+"px",l.style.right=et+"px"}const P=p(),A=window.innerHeight-ji*2,_=m.scrollHeight,O=window.getComputedStyle(d),D=parseInt(O.borderTopWidth,10),M=parseInt(O.paddingTop,10),G=parseInt(O.borderBottomWidth,10),z=parseInt(O.paddingBottom,10),I=D+M+_+z+G,U=Math.min(y.offsetHeight*5,I),Z=window.getComputedStyle(m),$=parseInt(Z.paddingTop,10),ie=parseInt(Z.paddingBottom,10),ne=E.top+E.height/2-ji,J=A-ne,se=y.offsetHeight/2,ue=y.offsetTop+se,ke=D+M+ue,ce=I-ke;if(ke<=ne){const he=P.length>0&&y===P[P.length-1].ref.current;l.style.bottom="0px";const B=d.clientHeight-m.offsetTop-m.offsetHeight,fe=Math.max(J,se+(he?ie:0)+B+G),pe=ke+fe;l.style.height=pe+"px"}else{const he=P.length>0&&y===P[0].ref.current;l.style.top="0px";const fe=Math.max(ne,D+m.offsetTop+(he?$:0)+se)+ce;l.style.height=fe+"px",m.scrollTop=ke-ne+m.offsetTop}l.style.margin=`${ji}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=A+"px",i==null||i(),requestAnimationFrame(()=>x.current=!0)}},[p,a.trigger,a.valueNode,l,d,m,y,j,a.dir,i]);wn(()=>v(),[v]);const[N,w]=b.useState();wn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const S=b.useCallback(E=>{E&&h.current===!0&&(v(),g==null||g(),h.current=!1)},[v,g]);return r.jsx(m0e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:S,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(nt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});SF.displayName=f0e;var p0e="SelectPopperPosition",Dw=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=ji,...a}=e,o=Jg(n);return r.jsx(FM,{...o,...a,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dw.displayName=p0e;var[m0e,$S]=ru(Sl,{}),Lw="SelectViewport",CF=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,a=Co(Lw,n),o=$S(Lw,n),l=jt(t,a.onViewportChange),c=b.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(Xg.Slot,{scope:n,children:r.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const x=Math.abs(c.current-u.scrollTop);if(x>0){const h=window.innerHeight-ji*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),j=Math.max(m,y);if(j<h){const g=j+x,v=Math.min(h,g),N=g-v;f.style.height=v+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});CF.displayName=Lw;var EF="SelectGroup",[h0e,x0e]=ru(EF),v0e=b.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=ms();return r.jsx(h0e,{scope:n,id:s,children:r.jsx(nt.div,{role:"group","aria-labelledby":s,...i,ref:t})})});v0e.displayName=EF;var kF="SelectLabel",AF=b.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=x0e(kF,n);return r.jsx(nt.div,{id:s.id,...i,ref:t})});AF.displayName=kF;var Xx="SelectItem",[g0e,_F]=ru(Xx),PF=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:a,...o}=e,l=So(Xx,n),c=Co(Xx,n),d=l.value===i,[u,f]=b.useState(a??""),[p,x]=b.useState(!1),h=jt(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,i,s)}),m=ms(),y=b.useRef("touch"),j=()=>{s||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(g0e,{scope:n,value:i,disabled:s,textId:m,isSelected:d,onItemTextChange:b.useCallback(g=>{f(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:r.jsx(Xg.ItemSlot,{scope:n,value:i,disabled:s,textValue:u,children:r.jsx(nt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:h,onFocus:We(o.onFocus,()=>x(!0)),onBlur:We(o.onBlur,()=>x(!1)),onClick:We(o.onClick,()=>{y.current!=="mouse"&&j()}),onPointerUp:We(o.onPointerUp,()=>{y.current==="mouse"&&j()}),onPointerDown:We(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:We(o.onPointerMove,g=>{var v;y.current=g.pointerType,s?(v=c.onItemLeave)==null||v.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(o.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:We(o.onKeyDown,g=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(r0e.includes(g.key)&&j(),g.key===" "&&g.preventDefault())})})})})});PF.displayName=Xx;var Du="SelectItemText",TF=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...a}=e,o=So(Du,n),l=Co(Du,n),c=_F(Du,n),d=o0e(Du,n),[u,f]=b.useState(null),p=jt(t,j=>f(j),c.onItemTextChange,j=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,j,c.value,c.disabled)}),x=u==null?void 0:u.textContent,h=b.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=d;return wn(()=>(m(h),()=>y(h)),[m,y,h]),r.jsxs(r.Fragment,{children:[r.jsx(nt.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Tl.createPortal(a.children,o.valueNode):null]})});TF.displayName=Du;var OF="SelectItemIndicator",IF=b.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return _F(OF,n).isSelected?r.jsx(nt.span,{"aria-hidden":!0,...i,ref:t}):null});IF.displayName=OF;var Fw="SelectScrollUpButton",RF=b.forwardRef((e,t)=>{const n=Co(Fw,e.__scopeSelect),i=$S(Fw,e.__scopeSelect),[s,a]=b.useState(!1),o=jt(t,i.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx($F,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});RF.displayName=Fw;var qw="SelectScrollDownButton",MF=b.forwardRef((e,t)=>{const n=Co(qw,e.__scopeSelect),i=$S(qw,e.__scopeSelect),[s,a]=b.useState(!1),o=jt(t,i.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx($F,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});MF.displayName=qw;var $F=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,a=Co("SelectScrollButton",n),o=b.useRef(null),l=Zg(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),wn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(nt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:We(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:We(s.onPointerLeave,()=>{c()})})}),y0e="SelectSeparator",DF=b.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return r.jsx(nt.div,{"aria-hidden":!0,...i,ref:t})});DF.displayName=y0e;var zw="SelectArrow",b0e=b.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Jg(n),a=So(zw,n),o=Co(zw,n);return a.open&&o.position==="popper"?r.jsx(qM,{...s,...i,ref:t}):null});b0e.displayName=zw;function LF(e){return e===""||e===void 0}var FF=b.forwardRef((e,t)=>{const{value:n,...i}=e,s=b.useRef(null),a=jt(t,s),o=Yg(n);return b.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),r.jsx(Dp,{asChild:!0,children:r.jsx("select",{...i,ref:a,defaultValue:n})})});FF.displayName="BubbleSelect";function qF(e){const t=bn(e),n=b.useRef(""),i=b.useRef(0),s=b.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=b.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,a]}function zF(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=j0e(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function j0e(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var w0e=mF,BF=xF,N0e=gF,S0e=yF,C0e=bF,UF=jF,E0e=CF,VF=AF,WF=PF,k0e=TF,A0e=IF,HF=RF,GF=MF,KF=DF;const $e=w0e,De=N0e,Me=b.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(BF,{ref:i,className:Xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(S0e,{asChild:!0,children:r.jsx(u1,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=BF.displayName;const YF=b.forwardRef(({className:e,...t},n)=>r.jsx(HF,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(XR,{className:"h-4 w-4"})}));YF.displayName=HF.displayName;const QF=b.forwardRef(({className:e,...t},n)=>r.jsx(GF,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(u1,{className:"h-4 w-4"})}));QF.displayName=GF.displayName;const Le=b.forwardRef(({className:e,children:t,position:n="popper",...i},s)=>r.jsx(C0e,{children:r.jsxs(UF,{ref:s,className:Xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[r.jsx(YF,{}),r.jsx(E0e,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(QF,{})]})}));Le.displayName=UF.displayName;const _0e=b.forwardRef(({className:e,...t},n)=>r.jsx(VF,{ref:n,className:Xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_0e.displayName=VF.displayName;const te=b.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(WF,{ref:i,className:Xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(A0e,{children:r.jsx(QR,{className:"h-4 w-4"})})}),r.jsx(k0e,{children:t})]}));te.displayName=WF.displayName;const P0e=b.forwardRef(({className:e,...t},n)=>r.jsx(KF,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",e),...t}));P0e.displayName=KF.displayName;const Pi=b.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Xe("w-full caption-bottom text-sm",e),...t})}));Pi.displayName="Table";const Ti=b.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Xe("[&_tr]:border-b",e),...t}));Ti.displayName="TableHeader";const Oi=b.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Xe("[&_tr:last-child]:border-0",e),...t}));Oi.displayName="TableBody";const T0e=b.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));T0e.displayName="TableFooter";const en=b.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));en.displayName="TableRow";const tt=b.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tt.displayName="TableHead";const Ze=b.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ze.displayName="TableCell";const O0e=b.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Xe("mt-4 text-sm text-muted-foreground",e),...t}));O0e.displayName="TableCaption";function I0e(){const[e,t]=b.useState(""),[n,i]=b.useState("all"),[s,a]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState(1),u=yo(),f=10,p=new URLSearchParams;e&&p.set("search",e),n&&n!=="all"&&p.set("priority",n),s&&s!=="all"&&p.set("dateRange",s),p.set("status",o);const{data:x=[],isLoading:h,refetch:m}=Ce({queryKey:["/api/analyses",p.toString()],queryFn:async()=>{const E=`/api/analyses${p.toString()?`?${p.toString()}`:""}`,C=await fetch(E);if(!C.ok)throw new Error("Failed to fetch analyses");return C.json()}}),y=Math.ceil(x.length/f),j=(c-1)*f,g=x.slice(j,j+f),v=E=>{switch(E){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},N=E=>E?E>=90?"confidence-high":E>=70?"confidence-medium":"confidence-low":"bg-gray-100 text-gray-800",w=E=>new Date(E).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),S=()=>{console.log("Export functionality would be implemented here")};return r.jsxs("div",{className:"space-y-8",children:[r.jsx(H,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Wi,{className:"text-muted-foreground",size:16})}),r.jsx(me,{placeholder:"Search analyses...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]}),r.jsxs($e,{value:n,onValueChange:i,children:[r.jsx(Me,{className:"w-full sm:w-[180px]",children:r.jsx(De,{placeholder:"All Priorities"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"All Priorities"}),r.jsx(te,{value:"high",children:"High Priority"}),r.jsx(te,{value:"medium",children:"Medium Priority"}),r.jsx(te,{value:"low",children:"Low Priority"})]})]}),r.jsxs($e,{value:s,onValueChange:a,children:[r.jsx(Me,{className:"w-full sm:w-[180px]",children:r.jsx(De,{placeholder:"All Time"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"All Time"}),r.jsx(te,{value:"today",children:"Today"}),r.jsx(te,{value:"week",children:"This Week"}),r.jsx(te,{value:"month",children:"This Month"}),r.jsx(te,{value:"quarter",children:"This Quarter"})]})]}),r.jsxs($e,{value:o,onValueChange:l,children:[r.jsx(Me,{className:"w-40",children:r.jsx(De,{placeholder:"Status"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"All Status"}),r.jsx(te,{value:"draft",children:"Drafts Only"}),r.jsx(te,{value:"completed",children:"Completed Only"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(V,{variant:"outline",onClick:S,children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Export"]}),r.jsxs(V,{variant:"outline",onClick:()=>m(),children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Analysis History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete record of all root cause analyses"})]}),r.jsx(K,{children:h?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(On,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):x.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"No analyses found matching your criteria."})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{className:"min-w-[120px]",children:"Analysis ID"}),r.jsx(tt,{className:"min-w-[140px]",children:"Equipment"}),r.jsx(tt,{className:"min-w-[200px]",children:"Issue Description"}),r.jsx(tt,{className:"min-w-[200px]",children:"Root Cause"}),r.jsx(tt,{className:"min-w-[100px]",children:"Confidence"}),r.jsx(tt,{className:"min-w-[90px]",children:"Priority"}),r.jsx(tt,{className:"min-w-[140px]",children:"Date"}),r.jsx(tt,{className:"min-w-[160px] sticky right-0 bg-background",children:"Actions"})]})}),r.jsx(Oi,{children:g.map(E=>{var C,k,R;return r.jsxs(en,{className:"hover:bg-muted/50",children:[r.jsx(Ze,{className:"font-medium min-w-[120px]",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:E.investigationId}),E.isDraft&&r.jsx(ee,{variant:"outline",className:"text-xs w-fit mt-1",children:"Draft"})]})}),r.jsx(Ze,{className:"min-w-[140px]",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:((C=E.equipmentType)==null?void 0:C.charAt(0).toUpperCase())+((k=E.equipmentType)==null?void 0:k.slice(1).replace("_"," "))}),((R=E.evidenceData)==null?void 0:R.equipment_tag)&&r.jsx("span",{className:"text-xs text-muted-foreground",children:E.evidenceData.equipment_tag}),E.location&&r.jsx("span",{className:"text-xs text-muted-foreground",children:E.location})]})}),r.jsx(Ze,{className:"min-w-[200px] max-w-[250px] truncate",children:E.whatHappened}),r.jsx(Ze,{className:"min-w-[200px] max-w-[250px] truncate",children:E.cause||"Processing..."}),r.jsx(Ze,{className:"min-w-[100px]",children:E.confidence&&!E.isDraft?r.jsxs(ee,{className:N(E.confidence),children:[E.confidence,"%"]}):r.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),r.jsx(Ze,{className:"min-w-[90px]",children:r.jsx(ee,{className:v(E.priority),children:E.priority.charAt(0).toUpperCase()+E.priority.slice(1)})}),r.jsx(Ze,{className:"text-sm min-w-[140px]",children:w(E.createdAt)}),r.jsx(Ze,{className:"min-w-[160px] sticky right-0 bg-background",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{E.isDraft?u(`/equipment-selection?incident=${E.id}`):u(`/analysis-details/${E.id}`)},className:"text-xs px-2",children:E.isDraft?"Continue":"Details"}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-xs px-2",children:"Export"})]})})]},E.id)})})]})}),y>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",j+1," to ",Math.min(j+f,x.length)," of ",x.length," results"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>d(Math.max(1,c-1)),disabled:c===1,children:[r.jsx(GU,{className:"w-4 h-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",c," of ",y]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>d(Math.min(y,c+1)),disabled:c===y,children:["Next",r.jsx(Fp,{className:"w-4 h-4"})]})]})]})]})})]})]})}function R0e(){return r.jsx("div",{className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),"Evidence-First Root Cause Analysis"]}),r.jsx(ye,{children:"Comprehensive, systematic approach to accurate root cause identification"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs(rn,{children:[r.jsx(Wi,{className:"h-4 w-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"Enhanced Workflow:"})," Our new evidence-driven process guides you through structured data collection before AI analysis, ensuring higher accuracy and confidence."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ee,{variant:"outline",children:"1"}),r.jsx("h4",{className:"font-medium",children:"Evidence Collection"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured questionnaire covering asset context, symptoms, operating conditions, and maintenance history"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ee,{variant:"outline",children:"2"}),r.jsx("h4",{className:"font-medium",children:"AI Analysis"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced root cause analysis using collected evidence with confidence scoring and reasoning"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ee,{variant:"outline",children:"3"}),r.jsx("h4",{className:"font-medium",children:"Results & Action"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed findings with actionable recommendations and comprehensive audit trail"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(ir,{to:"/incident-reporting",className:"flex-1",rel:"noopener noreferrer",children:r.jsxs(V,{className:"w-full flex items-center gap-2",size:"lg",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Report New Incident",r.jsx(_r,{className:"h-4 w-4 ml-auto"})]})}),r.jsx(ir,{to:"/new",className:"flex-1",children:r.jsxs(V,{variant:"outline",className:"w-full flex items-center gap-2",size:"lg",children:[r.jsx(Wi,{className:"h-5 w-5"}),"Legacy Analysis Upload",r.jsx(_r,{className:"h-4 w-4 ml-auto"})]})})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[r.jsx("p",{className:"font-medium mb-1",children:"What makes this better?"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:" Systematic evidence gathering prevents missed critical information"}),r.jsx("li",{children:" Equipment-specific questions provide relevant context"}),r.jsx("li",{children:" Structured data ensures consistent, auditable analysis"}),r.jsx("li",{children:" Higher confidence scores through comprehensive input"})]})]})]})]})})}function M0e(){const e=yo();return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"w-8 h-8 rounded-lg object-contain"}),r.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Quanntaum RCA Intelligence Pro"}),r.jsx(ee,{className:"enterprise-gradient text-white text-xs px-2 py-1 font-medium",children:"AI-Powered"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx("span",{className:"w-2 h-2 bg-accent rounded-full"}),r.jsx("span",{children:"System Active"})]}),r.jsxs(V,{variant:"secondary",onClick:()=>e("/admin/settings"),className:"text-sm font-medium",children:[r.jsx(f1,{className:"w-4 h-4 mr-2"}),"Admin Settings"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs(Yn,{defaultValue:"upload",className:"w-full",children:[r.jsxs(qn,{className:"grid w-full grid-cols-3 mb-8",children:[r.jsxs(Oe,{value:"upload",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("span",{children:"Upload & Analyze"})]}),r.jsxs(Oe,{value:"dashboard",className:"flex items-center space-x-2",children:[r.jsx(io,{className:"w-4 h-4"}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs(Oe,{value:"history",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Analysis History"})]})]}),r.jsx(Ee,{value:"upload",children:r.jsx(R0e,{})}),r.jsx(Ee,{value:"dashboard",children:r.jsx(cye,{})}),r.jsx(Ee,{value:"history",children:r.jsx(I0e,{})})]})})]})}function $0e(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~i?i:~a?a:s.length)),l+=~i&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~i?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var XF={exports:{}},ZF={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=b;function D0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L0e=typeof Object.is=="function"?Object.is:D0e,F0e=_d.useState,q0e=_d.useEffect,z0e=_d.useLayoutEffect,B0e=_d.useDebugValue;function U0e(e,t){var n=t(),i=F0e({inst:{value:n,getSnapshot:t}}),s=i[0].inst,a=i[1];return z0e(function(){s.value=n,s.getSnapshot=t,_0(s)&&a({inst:s})},[e,n,t]),q0e(function(){return _0(s)&&a({inst:s}),e(function(){_0(s)&&a({inst:s})})},[e]),B0e(n),n}function _0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!L0e(e,n)}catch{return!0}}function V0e(e,t){return t()}var W0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V0e:U0e;ZF.useSyncExternalStore=_d.useSyncExternalStore!==void 0?_d.useSyncExternalStore:W0e;XF.exports=ZF;var H0e=XF.exports;const G0e=sN.useInsertionEffect,K0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y0e=K0e?b.useLayoutEffect:b.useEffect,Q0e=G0e||Y0e,JF=e=>{const t=b.useRef([e,(...n)=>t[0](...n)]).current;return Q0e(()=>{t[0]=e}),t[1]},X0e="popstate",DS="pushState",LS="replaceState",Z0e="hashchange",yP=[X0e,DS,LS,Z0e],J0e=e=>{for(const t of yP)addEventListener(t,e);return()=>{for(const t of yP)removeEventListener(t,e)}},e3=(e,t)=>H0e.useSyncExternalStore(J0e,e,t),ebe=()=>location.search,tbe=({ssrSearch:e=""}={})=>e3(ebe,()=>e),bP=()=>location.pathname,nbe=({ssrPath:e}={})=>e3(bP,e?()=>e:bP),rbe=(e,{replace:t=!1,state:n=null}={})=>history[t?LS:DS](n,"",e),ibe=(e={})=>[nbe(e),rbe],jP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[jP]>"u"){for(const e of[DS,LS]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,jP,{value:!0})}const sbe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",t3=(e="")=>e==="/"?"":e,abe=(e,t)=>e[0]==="~"?e.slice(1):t3(t)+e,obe=(e="",t)=>sbe(wP(t3(e)),wP(t)),wP=e=>{try{return decodeURI(e)}catch{return e}},lbe={hook:ibe,searchHook:tbe,parser:$0e,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},cbe=b.createContext(lbe),FS=()=>b.useContext(cbe),dbe={},ube=b.createContext(dbe),qS=()=>b.useContext(ube),n3=e=>{const[t,n]=e.hook(e);return[obe(e.base,t),JF((i,s)=>n(abe(i,e.base),s))]},fa=()=>n3(FS()),fbe=(e,t,n,i)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((f,p)=>[f,c[p]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})()]:[!1,null]},zS=e=>fbe(FS().parser,e,fa()[0]),Xs=b.forwardRef((e,t)=>{const n=FS(),[i,s]=n3(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:f,state:p,...x}=e,h=JF(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&b.isValidElement(d)?b.cloneElement(d,{onClick:h,href:m}):b.createElement("a",{...x,onClick:h,href:m,className:u!=null&&u.call?u(i===o):u,children:d,ref:t})});var pbe="Separator",NP="horizontal",mbe=["horizontal","vertical"],r3=b.forwardRef((e,t)=>{const{decorative:n,orientation:i=NP,...s}=e,a=hbe(i)?i:NP,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(nt.div,{"data-orientation":a,...l,...s,ref:t})});r3.displayName=pbe;function hbe(e){return mbe.includes(e)}var i3=r3;const Zs=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...i},s)=>r.jsx(i3,{ref:s,decorative:n,orientation:t,className:Xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Zs.displayName=i3.displayName;function s3({analysis:e,incident:t,onEdit:n}){var p,x,h;const[i,s]=b.useState("tree"),[a,o]=b.useState(1),c=(()=>{var C,k,R,P,A;if(!e)return{id:"root",label:"No Analysis Data",confidence:0,evidence:[],type:"root"};const m=e.equipmentGroup&&e.equipmentType?`${e.equipmentGroup}  ${e.equipmentType}${e.equipmentSubtype?`  ${e.equipmentSubtype}`:""}`:"Equipment Type Not Specified",y=e.equipmentId||(t==null?void 0:t.equipmentId)||e.equipmentTag||"ID Not Specified",j=e.failureMode||e.rootCause||"Equipment Failure",g=[];e.symptoms&&g.push(...e.symptoms),e.description&&g.push(`Reported: ${e.description}`);const v=[];if(e.operatingParameters){const _=e.operatingParameters;Object.keys(_).forEach(O=>{_[O]&&typeof _[O]=="object"?Object.entries(_[O]).forEach(([D,M])=>{v.push(`${O}.${D}: ${M}`)}):_[O]&&v.push(`${O}: ${_[O]}`)})}let N=0;const w=[((C=e.evidenceFiles)==null?void 0:C.length)||0,((R=(k=e.evidenceChecklist)==null?void 0:k.filter(_=>_.completed))==null?void 0:R.length)||0,((A=(P=e.crossMatchResults)==null?void 0:P.libraryMatches)==null?void 0:A.length)||0,g.length,v.length];N=Math.min(100,Math.round(w.reduce((_,O)=>_+O,0)/15*100));const S=[],E=[];if(e.eliminationResults&&e.eliminationResults.forEach((_,O)=>{E.push({id:`eliminated-${O}`,label:_.failureMode||`Eliminated Cause ${O+1}`,confidence:0,evidence:[_.reason||"Eliminated by analysis"],type:"evidence"})}),e.rootCauses&&Array.isArray(e.rootCauses)&&e.rootCauses.forEach((_,O)=>{var D;S.push({id:`root-cause-${O}`,label:_.description||_.title||`Root Cause ${O+1}`,confidence:_.confidence||75,evidence:_.evidence||[_.rationale||"Analysis evidence"],type:"primary",children:((D=_.contributingFactors)==null?void 0:D.map((M,G)=>({id:`factor-${O}-${G}`,label:M.description||M.name||`Contributing Factor ${G+1}`,confidence:M.confidence||70,evidence:M.evidence||[],type:"secondary"})))||[]})}),e.recommendations&&Array.isArray(e.recommendations)){const _=e.recommendations.slice(0,3).map((O,D)=>({id:`prevention-${D}`,label:O.title||O.description||`Preventive Measure ${D+1}`,confidence:90,evidence:[O.rationale||"Recommended prevention"],type:"evidence"}));_.length>0&&S.push({id:"prevention-root",label:"Preventive Measures",confidence:90,evidence:["Analysis recommendations"],type:"primary",children:_})}return S.length===0&&S.push({id:"default-factor",label:"Analysis Results",confidence:e.overallConfidence||75,evidence:["AI analysis findings"],type:"primary",children:[{id:"default-evidence",label:"Investigation Evidence",confidence:70,evidence:["Collected evidence from investigation"],type:"evidence"}]}),{id:"root",label:j,confidence:e.overallConfidence||85,evidence:["Analysis results"],type:"root",children:S,equipmentContext:m,equipmentId:y,evidenceAdequacy:N,eliminatedCauses:E,originalSymptoms:g,operatingContext:v}})(),d=(m,y,j,g)=>{const v=()=>m==="root"&&y==="primary"?"text-red-600":m==="primary"&&y==="secondary"?"text-orange-600":"text-blue-600",N=()=>m==="root"?"causes":m==="primary"?"leads to":"results in";return r.jsx("div",{className:`flex items-center justify-center my-3 ${v()}`,children:r.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"text-lg font-bold",children:""}),r.jsx("span",{className:"text-xs font-medium",children:N()}),r.jsx("div",{className:"text-lg font-bold",children:""})]})})},u=(m,y=0,j)=>{const g=(N,w)=>{var E;const S={root:"bg-red-50 border-red-400 text-red-900 shadow-red-100",primary:"bg-orange-50 border-orange-400 text-orange-900 shadow-orange-100",secondary:"bg-blue-50 border-blue-400 text-blue-900 shadow-blue-100",evidence:"bg-green-50 border-green-400 text-green-900 shadow-green-100",recommendation:"bg-purple-50 border-purple-400 text-purple-900 shadow-purple-100"};return w<60?((E=S[N])==null?void 0:E.replace("50","25").replace("400","300"))||"bg-gray-50 border-gray-300 text-gray-700":S[N]||"bg-gray-50 border-gray-400 text-gray-800"},v=N=>{var S,E,C;const w=[];return N.evidence&&N.evidence.length>0&&w.push(`${N.evidence.length} evidence item(s)`),(S=e==null?void 0:e.crossMatchResults)!=null&&S.libraryMatches&&w.push("Library pattern match"),(C=(E=e==null?void 0:e.eliminationResults)==null?void 0:E.eliminationReasons)!=null&&C.length&&w.push("Elimination logic applied"),N.confidence>=80?w.push("High data quality"):N.confidence>=60?w.push("Moderate data quality"):w.push("Limited data available"),`Confidence ${N.confidence}% based on: ${w.join(", ")}`};return r.jsxs("div",{className:`ml-${y*8} mb-4`,children:[j&&y>0&&d(j,m.type),r.jsxs("div",{className:`inline-block p-4 rounded-lg border-2 shadow-lg ${g(m.type,m.confidence)} max-w-md hover:shadow-xl transition-shadow cursor-help`,title:v(m),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-sm",children:m.label}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ee,{variant:"outline",className:"text-xs font-medium",children:[m.confidence,"%"]}),r.jsx("div",{className:"text-xs px-2 py-1 bg-white/70 rounded-full",children:m.type.charAt(0).toUpperCase()+m.type.slice(1)})]})]}),m.evidence&&m.evidence.length>0&&r.jsxs("div",{className:"text-xs opacity-90 bg-white/50 p-2 rounded border mb-2",children:[r.jsx("strong",{children:"Evidence:"})," ",m.evidence[0],m.evidence.length>1&&r.jsxs("span",{className:"text-gray-600",children:[" (+",m.evidence.length-1," more)"]})]}),m.type==="root"&&m.children&&m.children.length>0&&r.jsxs("div",{className:"text-xs mt-2 p-2 bg-white/70 rounded border border-dashed",children:[r.jsx("strong",{children:"Failure Logic:"})," ",m.children.length," contributing factor",m.children.length>1?"s":""," identified"]}),r.jsx("div",{className:"text-xs mt-1 opacity-60",children:"Hover for confidence explanation"})]}),m.children&&m.children.map(N=>u(N,y+1,m.type))]},m.id)},f=(m,y)=>r.jsxs("div",{className:`p-2 rounded border ${y==="main"?"bg-red-100 border-red-300":"bg-blue-100 border-blue-300"} text-sm`,children:[r.jsx("div",{className:"font-semibold",children:m.label}),r.jsxs("div",{className:"text-xs",children:["Confidence: ",m.confidence,"%"]})]},m.id);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(Yn,{value:i,onValueChange:m=>s(m),children:r.jsxs(qn,{children:[r.jsx(Oe,{value:"tree",children:"Tree View"}),r.jsx(Oe,{value:"fishbone",children:"Fishbone View"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>o(Math.max(.5,a-.1)),children:r.jsx(aM,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>o(Math.min(2,a+.1)),children:r.jsx(sM,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>o(1),children:r.jsx(qv,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",children:r.jsx(sr,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"bg-white border rounded-lg p-6 min-h-[400px] overflow-auto",style:{transform:`scale(${a})`,transformOrigin:"top left"},children:i==="tree"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-8 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Root Cause Analysis Tree"}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{className:"text-blue-700",children:"Equipment ID:"}),r.jsx("span",{className:"ml-2 font-mono bg-blue-50 px-2 py-1 rounded",children:c.equipmentId})]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-green-700",children:"Equipment Type:"}),r.jsx("span",{className:"ml-2 text-green-800",children:c.equipmentContext})]})]}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("strong",{className:"text-purple-700",children:"Analysis Confidence:"}),r.jsxs("span",{className:"ml-2 text-purple-800 font-semibold",children:[(e==null?void 0:e.overallConfidence)||0,"%"]})]})]}),r.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[r.jsxs(ee,{variant:c.evidenceAdequacy>=80?"default":c.evidenceAdequacy>=60?"secondary":"destructive",className:"text-sm",children:["Evidence Quality: ",c.evidenceAdequacy,"%"]}),c.eliminatedCauses&&c.eliminatedCauses.length>0&&r.jsxs(ee,{variant:"outline",className:"text-sm",children:[c.eliminatedCauses.length," Causes Eliminated"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-400 rounded"}),r.jsx("span",{children:"Root"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-400 rounded"}),r.jsx("span",{children:"Primary"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-200 border border-blue-400 rounded"}),r.jsx("span",{children:"Secondary"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-400 rounded"}),r.jsx("span",{children:"Evidence"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.originalSymptoms&&c.originalSymptoms.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border-2 border-blue-300 shadow-md",children:[r.jsxs("h4",{className:"font-bold text-sm text-blue-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:""})," Initial Symptoms",r.jsx(ee,{variant:"default",className:"text-xs",children:"Starting Point"})]}),r.jsx("div",{className:"space-y-2",children:c.originalSymptoms.map((m,y)=>r.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-blue-200",children:[r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:y+1}),r.jsx("span",{className:"text-xs font-medium text-blue-800",children:m})]},y))})]}),c.operatingContext&&c.operatingContext.length>0&&r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:" Operating Context"}),r.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:c.operatingContext.slice(0,4).map((m,y)=>r.jsxs("li",{children:[" ",m]},y))})]})]}),u(c),c.eliminatedCauses&&c.eliminatedCauses.length>0&&r.jsxs("div",{className:"mt-8 bg-gradient-to-r from-gray-50 to-red-50 p-6 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsxs("h4",{className:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-red-500",children:""}),"Rejected/Eliminated Causes",r.jsxs(ee,{variant:"outline",className:"ml-2",children:[c.eliminatedCauses.length," eliminated"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.eliminatedCauses.map((m,y)=>r.jsxs("div",{className:"bg-white/60 p-4 rounded-lg border-2 border-dashed border-gray-400 opacity-70 hover:opacity-90 transition-opacity",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"})}),r.jsx("span",{className:"text-sm font-medium line-through text-gray-700",children:m.label}),r.jsx(ee,{variant:"destructive",className:"text-xs ml-auto",children:"REJECTED"})]}),r.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded border-l-4 border-l-red-400 ml-7",children:[r.jsx("strong",{children:"Reason:"})," ",m.evidence[0]||"Engineering logic elimination"]})]},y))}),r.jsx("div",{className:"mt-4 text-xs text-gray-600 text-center italic",children:"These failure modes were systematically eliminated through engineering analysis and evidence review"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fishbone Diagram"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cause and Effect Analysis"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 relative",children:[r.jsx("div",{className:"col-span-3 flex justify-center",children:f(c,"main")}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Primary Causes"}),(p=c.children)==null?void 0:p.filter(m=>m.type==="primary").slice(0,2).map(m=>f(m,"branch"))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Secondary Causes"}),(x=c.children)==null?void 0:x.filter(m=>m.type==="secondary").slice(0,2).map(m=>f(m,"branch"))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Evidence"}),(h=c.children)==null?void 0:h.filter(m=>m.type==="evidence").slice(0,2).map(m=>f(m,"branch"))]})]})]})}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Legend"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),r.jsx("span",{children:"Root Cause"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded"}),r.jsx("span",{children:"Primary Factor"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"}),r.jsx("span",{children:"Secondary Factor"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),r.jsx("span",{children:"Evidence"})]})]})]})]})}var BS="Dialog",[a3,XCe]=Nr(BS),[xbe,Ji]=a3(BS),o3=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[d=!1,u]=ys({prop:i,defaultProp:s,onChange:a});return r.jsx(xbe,{scope:t,triggerRef:l,contentRef:c,contentId:ms(),titleId:ms(),descriptionId:ms(),open:d,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};o3.displayName=BS;var l3="DialogTrigger",c3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ji(l3,n),a=jt(t,s.triggerRef);return r.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":WS(s.open),...i,ref:a,onClick:We(e.onClick,s.onOpenToggle)})});c3.displayName=l3;var US="DialogPortal",[vbe,d3]=a3(US,{forceMount:void 0}),u3=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,a=Ji(US,t);return r.jsx(vbe,{scope:t,forceMount:n,children:b.Children.map(i,o=>r.jsx(Zr,{present:n||a.open,children:r.jsx(Dv,{asChild:!0,container:s,children:o})}))})};u3.displayName=US;var Zx="DialogOverlay",f3=b.forwardRef((e,t)=>{const n=d3(Zx,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,a=Ji(Zx,e.__scopeDialog);return a.modal?r.jsx(Zr,{present:i||a.open,children:r.jsx(ybe,{...s,ref:t})}):null});f3.displayName=Zx;var gbe=ed("DialogOverlay.RemoveScroll"),ybe=b.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ji(Zx,n);return r.jsx(MS,{as:gbe,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(nt.div,{"data-state":WS(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Cl="DialogContent",p3=b.forwardRef((e,t)=>{const n=d3(Cl,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,a=Ji(Cl,e.__scopeDialog);return r.jsx(Zr,{present:i||a.open,children:a.modal?r.jsx(bbe,{...s,ref:t}):r.jsx(jbe,{...s,ref:t})})});p3.displayName=Cl;var bbe=b.forwardRef((e,t)=>{const n=Ji(Cl,e.__scopeDialog),i=b.useRef(null),s=jt(t,n.contentRef,i);return b.useEffect(()=>{const a=i.current;if(a)return aF(a)},[]),r.jsx(m3,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:We(e.onFocusOutside,a=>a.preventDefault())})}),jbe=b.forwardRef((e,t)=>{const n=Ji(Cl,e.__scopeDialog),i=b.useRef(!1),s=b.useRef(!1);return r.jsx(m3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),m3=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ji(Cl,n),c=b.useRef(null),d=jt(t,c);return rF(),r.jsxs(r.Fragment,{children:[r.jsx(RS,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:a,children:r.jsx($p,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":WS(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(wbe,{titleId:l.titleId}),r.jsx(Sbe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),VS="DialogTitle",h3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ji(VS,n);return r.jsx(nt.h2,{id:s.titleId,...i,ref:t})});h3.displayName=VS;var x3="DialogDescription",v3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ji(x3,n);return r.jsx(nt.p,{id:s.descriptionId,...i,ref:t})});v3.displayName=x3;var g3="DialogClose",y3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ji(g3,n);return r.jsx(nt.button,{type:"button",...i,ref:t,onClick:We(e.onClick,()=>s.onOpenChange(!1))})});y3.displayName=g3;function WS(e){return e?"open":"closed"}var b3="DialogTitleWarning",[ZCe,j3]=ZB(b3,{contentName:Cl,titleName:VS,docsSlug:"dialog"}),wbe=({titleId:e})=>{const t=j3(b3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Nbe="DialogDescriptionWarning",Sbe=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j3(Nbe).contentName}}.`;return b.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Cbe=o3,Ebe=c3,kbe=u3,w3=f3,N3=p3,S3=h3,C3=v3,Abe=y3;const Oc=Cbe,Bw=Ebe,_be=kbe,E3=b.forwardRef(({className:e,...t},n)=>r.jsx(w3,{ref:n,className:Xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));E3.displayName=w3.displayName;const ol=b.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(_be,{children:[r.jsx(E3,{}),r.jsxs(N3,{ref:i,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(Abe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(sa,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ol.displayName=N3.displayName;const ll=({className:e,...t})=>r.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ll.displayName="DialogHeader";const cl=b.forwardRef(({className:e,...t},n)=>r.jsx(S3,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",e),...t}));cl.displayName=S3.displayName;const k3=b.forwardRef(({className:e,...t},n)=>r.jsx(C3,{ref:n,className:Xe("text-sm text-muted-foreground",e),...t}));k3.displayName=C3.displayName;const Qe=b.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Qe.displayName="Textarea";function A3({analysisData:e,investigationType:t,onNodeUpdate:n,onNodeAdd:i,onNodeDelete:s}){const[a,o]=b.useState("tree"),[l,c]=b.useState(null),[d,u]=b.useState([]),[f,p]=b.useState(1),[x,h]=b.useState(null),m=b.useRef(null);b.useEffect(()=>{e&&y()},[e]);const y=()=>{if(!(e!=null&&e.causes))return;const P=[];if(t==="equipment_failure"){const A={id:"top-event",label:e.topEvent||"Equipment Failure",type:"top_event",confidence:e.confidence||.8,evidence:["Equipment failed during operation"],position:{x:400,y:50}};P.push(A),e.causes.forEach((_,O)=>{const D={id:`cause-${O}`,label:_.description||_.name||"Unknown Cause",type:_.type==="root"?"root_cause":"contributing_factor",confidence:_.confidence||.7,evidence:_.evidence||[],parent:"top-event",category:_.category||"Technical",position:{x:200+O*250,y:200}};P.push(D),_.subCauses&&_.subCauses.forEach((M,G)=>{const z={id:`subcause-${O}-${G}`,label:M.description||M.name,type:"immediate_cause",confidence:M.confidence||.6,evidence:M.evidence||[],parent:`cause-${O}`,position:{x:150+O*250+G*100,y:350}};P.push(z)})})}else{const A={id:"incident",label:"Safety Incident",type:"top_event",confidence:1,evidence:["Incident occurred"],position:{x:400,y:50}};P.push(A),e.eventSequence&&e.eventSequence.forEach((_,O)=>{const D={id:`event-${O}`,label:_.description,type:"contributing_factor",confidence:_.confidence||.8,evidence:_.evidence||[],parent:O===0?"incident":`event-${O-1}`,position:{x:200+O*200,y:150+O*50}};P.push(D)})}u(P)},j=P=>{c(P)},g=P=>{h(P)},v=P=>{if(x){const A=d.map(_=>_.id===x.id?{..._,...P}:_);u(A),n(x.id,P),h(null)}},N=P=>{const A={label:"New Cause",type:"contributing_factor",confidence:.5,evidence:[],parent:P.id,position:{x:P.position.x+100,y:P.position.y+150}},_={...A,id:(()=>{const O=new Date().getTime(),D=O%1e4;return`new-${O}-${D}`})()};u([...d,_]),i(P.id,A)},w=()=>(d.filter(P=>!P.parent||P.type==="top_event"),r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{ref:m,width:"800",height:"600",viewBox:"0 0 800 600",className:"w-full h-full",style:{transform:`scale(${f})`},children:[d.map(P=>{if(!P.parent||!P.position)return null;const A=d.find(_=>_.id===P.parent);return A!=null&&A.position?r.jsx("line",{x1:A.position.x,y1:A.position.y+30,x2:P.position.x,y2:P.position.y,stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"},`line-${P.id}`):null}),r.jsx("defs",{children:r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:r.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),d.map(P=>{if(!P.position)return null;const A=k(P.type),_=(l==null?void 0:l.id)===P.id;return r.jsxs("g",{children:[r.jsx("rect",{x:P.position.x-60,y:P.position.y-15,width:"120",height:"30",rx:"5",fill:A,stroke:_?"#2563eb":"#d1d5db",strokeWidth:_?"3":"1",className:"cursor-pointer",onClick:()=>j(P)}),r.jsx("text",{x:P.position.x,y:P.position.y+5,textAnchor:"middle",fontSize:"12",fill:"white",className:"pointer-events-none",children:P.label.length>15?P.label.substring(0,15)+"...":P.label}),r.jsx("circle",{cx:P.position.x+50,cy:P.position.y-10,r:"8",fill:"#059669",className:"cursor-pointer",onClick:()=>j(P)}),r.jsxs("text",{x:P.position.x+50,y:P.position.y-6,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:[Math.round(P.confidence*100),"%"]})]},P.id)})]})})),S=()=>{const P=["People","Process","Equipment","Environment","Materials","Methods"],A=d.find(_=>_.type==="top_event");return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[r.jsx("line",{x1:"100",y1:"200",x2:"700",y2:"200",stroke:"#374151",strokeWidth:"4"}),r.jsx("rect",{x:"680",y:"170",width:"100",height:"60",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),r.jsx("text",{x:"730",y:"190",textAnchor:"middle",fontSize:"12",fill:"white",children:(A==null?void 0:A.label)||"Problem"}),r.jsx("text",{x:"730",y:"205",textAnchor:"middle",fontSize:"10",fill:"white",children:"Event"}),P.map((_,O)=>{const D=O%2===0,M=150+O*90,G=200,z=D?120:280,I=d.filter(U=>U.category===_||_==="Equipment"&&U.type!=="top_event").slice(0,3);return r.jsxs("g",{children:[r.jsx("line",{x1:M,y1:G,x2:M,y2:z,stroke:"#6b7280",strokeWidth:"3"}),r.jsx("rect",{x:M-30,y:z-15,width:"60",height:"30",rx:"3",fill:"#3b82f6",stroke:"#1e40af"}),r.jsx("text",{x:M,y:z+5,textAnchor:"middle",fontSize:"10",fill:"white",children:_}),I.map((U,Z)=>{const $=M+(-60+Z*30),ie=z+(D?-40:40);return r.jsxs("g",{children:[r.jsx("line",{x1:M,y1:z,x2:$,y2:ie,stroke:"#9ca3af",strokeWidth:"2"}),r.jsx("rect",{x:$-25,y:ie-10,width:"50",height:"20",rx:"3",fill:k(U.type),className:"cursor-pointer",onClick:()=>j(U)}),r.jsx("text",{x:$,y:ie+5,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:U.label.substring(0,8)})]},U.id)})]},_)})]})})},E=()=>{const P=d.filter(A=>A.type!=="top_event").sort((A,_)=>A.id.localeCompare(_.id));return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"300",viewBox:"0 0 800 300",className:"w-full h-full",children:[r.jsx("line",{x1:"50",y1:"150",x2:"750",y2:"150",stroke:"#374151",strokeWidth:"3"}),P.map((A,_)=>{const O=80+_*120,D=150,M=_%2===0,G=M?D-40:D+60;return r.jsxs("g",{children:[r.jsx("circle",{cx:O,cy:D,r:"8",fill:k(A.type),stroke:"#ffffff",strokeWidth:"2",className:"cursor-pointer",onClick:()=>j(A)}),r.jsx("line",{x1:O,y1:D,x2:O,y2:G+(M?15:-15),stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:O-40,y:G-15,width:"80",height:"30",rx:"5",fill:k(A.type),stroke:"#d1d5db",className:"cursor-pointer",onClick:()=>j(A)}),r.jsx("text",{x:O,y:G,textAnchor:"middle",fontSize:"10",fill:"white",children:A.label.substring(0,12)}),r.jsxs("text",{x:O,y:G+10,textAnchor:"middle",fontSize:"8",fill:"white",children:[Math.round(A.confidence*100),"%"]})]},A.id)})]})})},C=()=>{const P=d.find(O=>O.type==="top_event"),A=d.filter(O=>O.type==="root_cause"),_=d.filter(O=>O.type==="contributing_factor");return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[r.jsx("rect",{x:"350",y:"175",width:"100",height:"50",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),r.jsx("text",{x:"400",y:"195",textAnchor:"middle",fontSize:"12",fill:"white",children:(P==null?void 0:P.label)||"Top Event"}),r.jsx("text",{x:"400",y:"210",textAnchor:"middle",fontSize:"10",fill:"white",children:"Failure"}),A.map((O,D)=>{const M=100+D*60;return r.jsxs("g",{children:[r.jsx("line",{x1:"250",y1:M+15,x2:"350",y2:"200",stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:"150",y:M,width:"100",height:"30",rx:"5",fill:"#f59e0b",className:"cursor-pointer",onClick:()=>j(O)}),r.jsx("text",{x:"200",y:M+20,textAnchor:"middle",fontSize:"10",fill:"white",children:O.label.substring(0,15)})]},O.id)}),_.map((O,D)=>{const M=100+D*60;return r.jsxs("g",{children:[r.jsx("line",{x1:"450",y1:"200",x2:"550",y2:M+15,stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:"550",y:M,width:"100",height:"30",rx:"5",fill:"#ef4444",className:"cursor-pointer",onClick:()=>j(O)}),r.jsx("text",{x:"600",y:M+20,textAnchor:"middle",fontSize:"10",fill:"white",children:O.label.substring(0,15)})]},O.id)})]})})},k=P=>{switch(P){case"root_cause":return"#dc2626";case"contributing_factor":return"#f59e0b";case"immediate_cause":return"#3b82f6";case"top_event":return"#7c2d12";case"barrier":return"#059669";case"threat":return"#b45309";default:return"#6b7280"}},R=P=>{switch(P){case"root_cause":return"Root Cause";case"contributing_factor":return"Contributing Factor";case"immediate_cause":return"Immediate Cause";case"top_event":return"Top Event";case"barrier":return"Barrier";case"threat":return"Threat";default:return"Unknown"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Interactive RCA Diagrams"}),r.jsxs(ee,{variant:"outline",children:[d.length," nodes"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(Math.max(.5,f-.1)),children:r.jsx(aM,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm font-mono",children:[Math.round(f*100),"%"]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(Math.min(2,f+.1)),children:r.jsx(sM,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(1),children:r.jsx(qv,{className:"h-4 w-4"})}),r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(sr,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),r.jsxs(Yn,{value:a,onValueChange:P=>o(P),children:[r.jsxs(qn,{className:"grid w-full grid-cols-4",children:[r.jsxs(Oe,{value:"tree",className:"flex items-center gap-2",children:[r.jsx(iV,{className:"h-4 w-4"}),"RCA Tree"]}),r.jsxs(Oe,{value:"fishbone",className:"flex items-center gap-2",children:[r.jsx(td,{className:"h-4 w-4"}),"Fishbone"]}),r.jsxs(Oe,{value:"timeline",className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Timeline"]}),r.jsxs(Oe,{value:"bowtie",className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-4 w-4"}),"Bowtie"]})]}),r.jsx(Ee,{value:"tree",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Fault Tree Analysis"})}),r.jsx(K,{children:w()})]})}),r.jsx(Ee,{value:"fishbone",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Fishbone Diagram"})}),r.jsx(K,{children:S()})]})}),r.jsx(Ee,{value:"timeline",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"ECFA Timeline"})}),r.jsx(K,{children:E()})]})}),r.jsx(Ee,{value:"bowtie",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Bowtie Analysis"})}),r.jsx(K,{children:C()})]})})]}),l&&r.jsxs(H,{className:"border-blue-200",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cf,{className:"h-5 w-5 text-blue-600"}),"Node Details: ",l.label]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>g(l),children:[r.jsx(li,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>N(l),children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Add Child"]})]})]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Type"}),r.jsx(ee,{variant:"outline",children:R(l.type)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Confidence"}),r.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.round(l.confidence*100),"%"]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Supporting Evidence"}),r.jsx("div",{className:"space-y-1",children:l.evidence.length>0?l.evidence.map((P,A)=>r.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:P},A)):r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No evidence recorded"})})]})]})})]}),r.jsx(Oc,{open:!!x,onOpenChange:P=>!P&&h(null),children:r.jsxs(ol,{children:[r.jsx(ll,{children:r.jsxs(cl,{children:["Edit Node: ",x==null?void 0:x.label]})}),x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Label"}),r.jsx(me,{defaultValue:x.label,onChange:P=>h({...x,label:P.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confidence (0-1)"}),r.jsx(me,{type:"number",min:"0",max:"1",step:"0.1",defaultValue:x.confidence,onChange:P=>h({...x,confidence:parseFloat(P.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Evidence (one per line)"}),r.jsx(Qe,{defaultValue:x.evidence.join(`
`),onChange:P=>h({...x,evidence:P.target.value.split(`
`).filter(A=>A.trim())}),rows:4})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),r.jsx(V,{onClick:()=>v(x),children:"Save Changes"})]})]})]})})]})}var Pbe="Label",_3=b.forwardRef((e,t)=>r.jsx(nt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_3.displayName=Pbe;var P3=_3;const Tbe=Lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=b.forwardRef(({className:e,...t},n)=>r.jsx(P3,{ref:n,className:Xe(Tbe(),e),...t}));oe.displayName=P3.displayName;function Obe({analysis:e,onComplete:t}){const[n,i]=b.useState({}),[s,a]=b.useState(!1),{toast:o}=Mt(),l=wr(),d=(()=>{var y;const x=[];e.equipmentType;const h=e.operatingParameters;(!e.rootCause||e.rootCause.length<20)&&x.push({id:"failure_mode",question:`Can you provide more specific details about what exactly failed in ${e.equipmentId}? (e.g., bearing failure, seal leak, electrical fault)`,type:"text",required:!0,context:"Root cause analysis requires specific failure mode identification"}),h!=null&&h.runtime||(x.push({id:"runtime_hours",question:"How long has the equipment been running since last maintenance?",type:"select",options:["< 1 week","1-4 weeks","1-3 months","3-6 months","6-12 months","> 1 year","Unknown"],required:!1,context:"Runtime hours help establish wear patterns and maintenance intervals"}),x.push({id:"duty_cycle",question:"What is the typical duty cycle of this equipment?",type:"select",options:["Continuous (24/7)","Heavy duty (16-20 hrs/day)","Normal duty (8-12 hrs/day)","Light duty (< 8 hrs/day)","Intermittent/on-demand","Unknown"],required:!1,context:"Duty cycle affects equipment stress and expected life"})),h!=null&&h.environmental||x.push({id:"environmental_factors",question:"What environmental conditions might have contributed to the failure?",type:"multiselect",options:["High temperature","High humidity","Corrosive atmosphere","Dusty environment","Vibration from nearby equipment","Frequent temperature cycling","Chemical exposure","No environmental issues"],required:!1,context:"External factors significantly impact equipment reliability and failure modes"});const m=e.historicalData;return(y=m==null?void 0:m.eventMetadata)!=null&&y.active_alarms||x.push({id:"alarms_before_failure",question:"Were there any alarms or warnings before the failure occurred?",type:"multiselect",options:["High temperature alarm","High vibration alarm","Low pressure alarm","High pressure alarm","Flow deviation alarm","Power consumption alarm","No alarms","Unknown"],required:!1,context:"Alarm history provides critical sequence of events leading to failure"}),(!e.location||e.location.length<10)&&x.push({id:"environment",question:"Please describe the environmental conditions where this equipment operates (temperature, humidity, contamination, etc.)",type:"text",required:!1,context:"External factors significantly impact equipment reliability"}),(!(m!=null&&m.maintenanceRecords)||m.maintenanceRecords.length===0)&&x.push({id:"maintenance_history",question:"When was the last maintenance performed on this equipment and what type of work was done?",type:"text",required:!1,context:"Maintenance history helps identify patterns and potential causes"}),x.push({id:"failure_timing",question:"When did you first notice signs of this problem?",type:"select",options:["Just happened","1-7 days ago","1-4 weeks ago","1-3 months ago","Ongoing issue","Not sure"],required:!0,context:"Failure timeline helps establish causation"}),x.push({id:"operational_changes",question:"Have there been any recent changes to operations, maintenance, or environment that might be related?",type:"text",required:!1,context:"Recent changes often contribute to equipment failures"}),x})(),u=Ke({mutationFn:async({id:x,updates:h})=>st(`/api/analyses/${x}`,{method:"PATCH",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),o({title:"Analysis Updated",description:"Additional evidence has been incorporated into the analysis."}),t==null||t()},onError:()=>{o({title:"Update Failed",description:"Failed to update analysis with additional evidence.",variant:"destructive"})}}),f=async()=>{if(a(!0),d.filter(y=>y.required).filter(y=>!n[y.id]||n[y.id].trim()==="").length>0){o({title:"Missing Required Information",description:"Please answer all required questions before submitting.",variant:"destructive"}),a(!1);return}const h={gatheringResponses:n,enhancedContext:d.reduce((y,j)=>(n[j.id]&&(y[j.id]={question:j.question,answer:n[j.id],context:j.context}),y),{})},m={...e,status:"processing",evidenceGathering:h,confidence:Math.min(95,(e.confidence||0)+10)};setTimeout(async()=>{let y=e.rootCause||"";n.failure_mode&&(y=`${n.failure_mode}. Contributing factors: `),n.operational_changes&&(y+=`Recent operational changes (${n.operational_changes}) likely contributed to the failure. `),n.maintenance_history&&(y+=`Maintenance history indicates: ${n.maintenance_history}. `);const j={...m,status:"completed",rootCause:y||e.rootCause,confidence:Math.min(98,(e.confidence||0)+15),completedAt:new Date().toISOString()};await u.mutateAsync({id:e.id,updates:j}),a(!1)},3e3)},p=(x,h)=>{i(m=>({...m,[x]:h}))};return d.length===0?r.jsx(H,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(kt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analysis Complete"}),r.jsx("p",{className:"text-muted-foreground",children:"Sufficient evidence has been gathered for this root cause analysis."})]})})}):r.jsxs(H,{className:"w-full",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(iM,{className:"w-5 h-5"}),r.jsx("span",{children:"Interactive Evidence Gathering"}),r.jsx(ee,{variant:"outline",children:"AI-Powered"})]})}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs(rn,{children:[r.jsx(Rr,{className:"h-4 w-4"}),r.jsx(sn,{children:"Our AI has identified areas where additional information could improve the root cause analysis accuracy. Please answer the following questions to enhance the analysis."})]}),r.jsx("div",{className:"space-y-6",children:d.map((x,h)=>{var m,y;return r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm mt-1",children:h+1}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs(oe,{className:"text-sm font-medium",children:[x.question,x.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-muted-foreground italic",children:x.context}),x.type==="text"&&r.jsx(Qe,{value:n[x.id]||void 0,onChange:j=>p(x.id,j.target.value),placeholder:"Please provide details...",className:"min-h-[80px]"}),x.type==="number"&&r.jsx(me,{type:"number",value:n[x.id]||void 0,onChange:j=>p(x.id,j.target.value),placeholder:"Enter value..."}),x.type==="select"&&r.jsxs("select",{value:n[x.id]||void 0,onChange:j=>p(x.id,j.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[r.jsx("option",{value:"SELECT_OPTION",children:"Select an option..."}),(m=x.options)==null?void 0:m.map(j=>r.jsx("option",{value:j,children:j},j))]}),x.type==="multiselect"&&r.jsx("div",{className:"space-y-2",children:(y=x.options)==null?void 0:y.map(j=>{var g;return r.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:((g=n[x.id])==null?void 0:g.includes(j))||!1,onChange:v=>{const N=n[x.id]||"",w=N?N.split(", "):[];v.target.checked?p(x.id,[...w,j].join(", ")):p(x.id,w.filter(S=>S!==j).join(", "))}}),r.jsx("span",{children:j})]},j)})})]})]})},x.id)})}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.filter(x=>x.required).length," required questions ",d.filter(x=>n[x.id]).length,"/",d.length," answered"]}),r.jsx(V,{onClick:f,disabled:s,className:"min-w-[120px]",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"w-4 h-4 mr-2 animate-spin"}),"Re-analyzing..."]}):"Update Analysis"})]})]})]})}function Ibe({analysis:e,onSave:t,onCancel:n}){const[i,s]=b.useState({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),[a,o]=b.useState(""),[l,c]=b.useState(""),[d,u]=b.useState(!1),{toast:f}=Mt(),p=wr(),x=Ke({mutationFn:async({id:v,updates:N})=>st(`/api/analyses/${v}`,{method:"PATCH",body:JSON.stringify(N),headers:{"Content-Type":"application/json"}}),onSuccess:v=>{p.invalidateQueries({queryKey:["/api/analyses"]}),p.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),f({title:"Analysis Updated",description:"Your manual adjustments have been saved successfully."}),t==null||t(v)},onError:()=>{f({title:"Update Failed",description:"Failed to save manual adjustments. Please try again.",variant:"destructive"})}}),h=async()=>{if(!l.trim()){f({title:"Adjustment Reason Required",description:"Please provide a reason for the manual adjustment for audit purposes.",variant:"destructive"});return}u(!0);const v={timestamp:new Date().toISOString(),user:"Current User",reason:l,changes:Object.keys(i).reduce((w,S)=>{const E=e[S],C=i[S];return JSON.stringify(E)!==JSON.stringify(C)&&(w[S]={from:E,to:C}),w},{}),version:e.version?e.version+1:2},N={...i,adjustmentHistory:[...e.adjustmentHistory||[],v],lastModifiedAt:new Date().toISOString(),status:"completed"};await x.mutateAsync({id:e.id,updates:N}),u(!1)},m=()=>{s({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),c(""),o("")},y=()=>{a.trim()&&(s(v=>({...v,recommendations:[...v.recommendations||[],a.trim()]})),o(""))},j=v=>{s(N=>({...N,recommendations:(N.recommendations||[]).filter((w,S)=>S!==v)}))},g=Object.keys(i).some(v=>{const N=e[v],w=i[v];return JSON.stringify(N)!==JSON.stringify(w)});return r.jsxs(H,{className:"w-full",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(zv,{className:"w-5 h-5"}),r.jsx("span",{children:"Manual Analysis Adjustment"}),r.jsx(ee,{variant:"outline",children:"Expert Override"})]})}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs(rn,{children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsx(sn,{children:"Manual adjustments will be recorded in the audit trail. Please provide a clear reason for modifications."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"issue-desc",children:"Issue Description"}),r.jsx(Qe,{id:"issue-desc",value:i.issueDescription||"",onChange:v=>s(N=>({...N,issueDescription:v.target.value})),placeholder:"Describe the issue...",className:"min-h-[80px]"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"equipment-type",children:"Equipment Type"}),r.jsxs($e,{value:i.equipmentType||"",onValueChange:v=>s(N=>({...N,equipmentType:v})),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment type"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"pump",children:"Pump"}),r.jsx(te,{value:"motor",children:"Motor"}),r.jsx(te,{value:"compressor",children:"Compressor"}),r.jsx(te,{value:"conveyor",children:"Conveyor"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"equipment-id",children:"Equipment ID"}),r.jsx(me,{id:"equipment-id",value:i.equipmentId||"",onChange:v=>s(N=>({...N,equipmentId:v.target.value})),placeholder:"e.g., PUMP-A001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"location",children:"Location"}),r.jsx(me,{id:"location",value:i.location||"",onChange:v=>s(N=>({...N,location:v.target.value})),placeholder:"e.g., Building A - Level 2"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"root-cause",children:"Root Cause Analysis"}),r.jsx(Qe,{id:"root-cause",value:i.rootCause||"",onChange:v=>s(N=>({...N,rootCause:v.target.value})),placeholder:"Detailed root cause analysis...",className:"min-h-[120px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"priority",children:"Priority Level"}),r.jsxs($e,{value:i.priority||"",onValueChange:v=>s(N=>({...N,priority:v})),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select priority"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"low",children:"Low"}),r.jsx(te,{value:"medium",children:"Medium"}),r.jsx(te,{value:"high",children:"High"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"confidence",children:"Confidence Score (%)"}),r.jsx(me,{id:"confidence",type:"number",min:"0",max:"100",value:i.confidence||"",onChange:v=>s(N=>({...N,confidence:parseInt(v.target.value)||0})),placeholder:"0-100"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(oe,{children:"Recommendations"}),r.jsx("div",{className:"space-y-2",children:(i.recommendations||[]).map((v,N)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[r.jsx("span",{className:"flex-1 text-sm",children:v}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>j(N),className:"text-red-600 hover:text-red-800",children:"Remove"})]},N))}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(me,{value:a,onChange:v=>o(v.target.value),placeholder:"Add new recommendation...",onKeyPress:v=>v.key==="Enter"&&y()}),r.jsx(V,{onClick:y,variant:"outline",children:"Add"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"reason",children:"Reason for Manual Adjustment *"}),r.jsx(Qe,{id:"reason",value:l,onChange:v=>c(v.target.value),placeholder:"Explain why manual adjustment is needed (required for audit trail)...",className:"min-h-[80px]"})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(V,{variant:"outline",onClick:m,children:[r.jsx(qv,{className:"w-4 h-4 mr-2"}),"Reset Changes"]}),n&&r.jsx(V,{variant:"ghost",onClick:n,children:"Cancel"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[g&&r.jsxs("div",{className:"flex items-center text-sm text-yellow-600",children:[r.jsx(pt,{className:"w-4 h-4 mr-1"}),"Unsaved changes"]}),r.jsx(V,{onClick:h,disabled:!g||!l.trim()||d,className:"min-w-[120px]",children:d?r.jsxs(r.Fragment,{children:[r.jsx(kt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rl,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})]})}var Rbe=sN[" useInsertionEffect ".trim().toString()]||wn;function Mbe({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,a,o]=$be({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const u=b.useRef(e!==void 0);b.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${i} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,i])}const d=b.useCallback(u=>{var f;if(l){const p=Dbe(u)?u(e):u;p!==e&&((f=o.current)==null||f.call(o,p))}else a(u)},[l,e,a,o]);return[c,d]}function $be({defaultProp:e,onChange:t}){const[n,i]=b.useState(e),s=b.useRef(n),a=b.useRef(t);return Rbe(()=>{a.current=t},[t]),b.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,i,a]}function Dbe(e){return typeof e=="function"}function Lbe(e,t){return b.useReducer((n,i)=>t[n][i]??n,e)}var T3=e=>{const{present:t,children:n}=e,i=Fbe(t),s=typeof n=="function"?n({present:i.isPresent}):b.Children.only(n),a=jt(i.ref,qbe(s));return typeof n=="function"||i.isPresent?b.cloneElement(s,{ref:a}):null};T3.displayName="Presence";function Fbe(e){const[t,n]=b.useState(),i=b.useRef(null),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lbe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Hm(i.current);a.current=l==="mounted"?d:"none"},[l]),wn(()=>{const d=i.current,u=s.current;if(u!==e){const p=a.current,x=Hm(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=x=>{const m=Hm(i.current).includes(x.animationName);if(x.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=x=>{x.target===t&&(a.current=Hm(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Hm(e){return(e==null?void 0:e.animationName)||"none"}function qbe(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zbe(e){const t=Bbe(e),n=b.forwardRef((i,s)=>{const{children:a,...o}=i,l=b.Children.toArray(a),c=l.find(Vbe);if(c){const d=c.props.children,u=l.map(f=>f===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function Bbe(e){const t=b.forwardRef((n,i)=>{const{children:s,...a}=n;if(b.isValidElement(s)){const o=Hbe(s),l=Wbe(a,s.props);return s.type!==b.Fragment&&(l.ref=i?$v(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ube=Symbol("radix.slottable");function Vbe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ube}function Wbe(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function Hbe(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Gbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HS=Gbe.reduce((e,t)=>{const n=zbe(`Primitive.${t}`),i=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),ey="Checkbox",[Kbe,JCe]=Nr(ey),[Ybe,GS]=Kbe(ey);function Qbe(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[p,x]=Mbe({prop:n,defaultProp:s??!1,onChange:c,caller:ey}),[h,m]=b.useState(null),[y,j]=b.useState(null),g=b.useRef(!1),v=h?!!o||!!h.closest("form"):!0,N={checked:p,disabled:a,setChecked:x,control:h,setControl:m,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:to(s)?!1:s,isFormControl:v,bubbleInput:y,setBubbleInput:j};return r.jsx(Ybe,{scope:t,...N,children:Xbe(f)?f(N):i})}var O3="CheckboxTrigger",I3=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:h}=GS(O3,e),m=jt(s,u),y=b.useRef(c);return b.useEffect(()=>{const j=a==null?void 0:a.form;if(j){const g=()=>f(y.current);return j.addEventListener("reset",g),()=>j.removeEventListener("reset",g)}},[a,f]),r.jsx(HS.button,{type:"button",role:"checkbox","aria-checked":to(c)?"mixed":c,"aria-required":d,"data-state":L3(c),"data-disabled":l?"":void 0,disabled:l,value:o,...i,ref:m,onKeyDown:We(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:We(n,j=>{f(g=>to(g)?!0:!g),h&&x&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});I3.displayName=O3;var KS=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return r.jsx(Qbe,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(I3,{...f,ref:t,__scopeCheckbox:n}),p&&r.jsx(D3,{__scopeCheckbox:n})]})})});KS.displayName=ey;var R3="CheckboxIndicator",M3=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...s}=e,a=GS(R3,n);return r.jsx(T3,{present:i||to(a.checked)||a.checked===!0,children:r.jsx(HS.span,{"data-state":L3(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});M3.displayName=R3;var $3="CheckboxBubbleInput",D3=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:p,setBubbleInput:x}=GS($3,e),h=jt(n,x),m=Yg(a),y=Wv(i);b.useEffect(()=>{const g=p;if(!g)return;const v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set,S=!s.current;if(m!==a&&w){const E=new Event("click",{bubbles:S});g.indeterminate=to(a),w.call(g,to(a)?!1:a),g.dispatchEvent(E)}},[p,m,a,s]);const j=b.useRef(to(a)?!1:a);return r.jsx(HS.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:h,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D3.displayName=$3;function Xbe(e){return typeof e=="function"}function to(e){return e==="indeterminate"}function L3(e){return to(e)?"indeterminate":e?"checked":"unchecked"}const ar=b.forwardRef(({className:e,...t},n)=>r.jsx(KS,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(M3,{className:Xe("flex items-center justify-center text-current"),children:r.jsx(QR,{className:"h-4 w-4"})})}));ar.displayName=KS.displayName;function Zbe({analysis:e}){const[t,n]=b.useState({format:"pdf",sections:{summary:!0,rcaTree:!0,recommendations:!0,operatingParams:!0,historicalData:!1,evidenceGathering:!1,auditTrail:!1},includeCharts:!0,includeBranding:!0}),[i,s]=b.useState(!1),{toast:a}=Mt(),o=[{value:"pdf",label:"PDF Report",icon:Ut,description:"Professional PDF document"},{value:"word",label:"Word Document",icon:ZR,description:"Editable Microsoft Word format"},{value:"excel",label:"Excel Workbook",icon:JR,description:"Data tables and charts"},{value:"image",label:"High-Res Image",icon:ZU,description:"PNG image for presentations"}],l=[{key:"summary",label:"Executive Summary",description:"Key findings and recommendations"},{key:"rcaTree",label:"RCA Tree Diagram",description:"Visual root cause analysis"},{key:"recommendations",label:"Action Items",description:"Detailed recommendations"},{key:"operatingParams",label:"Operating Parameters",description:"Equipment data and metrics"},{key:"historicalData",label:"Historical Analysis",description:"Maintenance and failure history"},{key:"evidenceGathering",label:"Evidence Gathering",description:"Q&A responses and context"},{key:"auditTrail",label:"Audit Trail",description:"Version history and changes"}],c=async()=>{s(!0);try{await new Promise(g=>setTimeout(g,parseInt("3000")));const x=`RCA_${e.analysisId}_${new Date().toISOString().split("T")[0]}.${t.format}`,h=d(),m=new Blob([h],{type:u(t.format)}),y=URL.createObjectURL(m),j=document.createElement("a");j.href=y,j.download=x,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(y),a({title:"Report Generated",description:`Your ${t.format.toUpperCase()} report has been downloaded successfully.`})}catch{a({title:"Export Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}finally{s(!1)}},d=()=>{var h,m;const x=[];if(t.sections.summary&&x.push(`
=== EXECUTIVE SUMMARY ===
Analysis ID: ${e.analysisId}
Equipment: ${e.equipmentId} (${e.equipmentType})
Location: ${e.location}
Issue: ${e.issueDescription}
Root Cause: ${e.rootCause}
Confidence: ${e.confidence}%
Priority: ${e.priority}
Status: ${e.status}
Completed: ${e.completedAt?new Date(e.completedAt).toLocaleString():"In Progress"}
      `),t.sections.recommendations&&x.push(`
=== RECOMMENDATIONS ===
${(e.recommendations||[]).map((y,j)=>`${j+1}. ${y}`).join(`
`)}
      `),t.sections.operatingParams&&e.operatingParameters){const y=e.operatingParameters;x.push(`
=== OPERATING PARAMETERS ===
${Object.entries(y).map(([j,g])=>typeof g=="object"&&g!==null?`${j.toUpperCase()}:
${Object.entries(g).map(([v,N])=>`  ${v}: ${N}`).join(`
`)}`:`${j}: ${g}`).join(`

`)}
      `)}if(t.sections.historicalData&&e.historicalData){const y=e.historicalData;x.push(`
=== HISTORICAL DATA ===
Maintenance Records:
${((h=y.maintenanceRecords)==null?void 0:h.map(j=>`- ${j.date}: ${j.type} - ${j.description} ($${j.cost})`).join(`
`))||"No records available"}

Previous Failures:
${((m=y.previousFailures)==null?void 0:m.map(j=>`- ${j.date}: ${j.rootCause} (${j.downtime}h downtime)`).join(`
`))||"No previous failures"}
      `)}return x.join(`

`)},u=x=>{switch(x){case"pdf":return"application/pdf";case"word":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"excel":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"image":return"image/png";default:return"text/plain"}},f=(x,h)=>{n(m=>({...m,sections:{...m.sections,[x]:h}}))},p=o.find(x=>x.value===t.format);return r.jsxs(H,{className:"w-full",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(sr,{className:"w-5 h-5"}),r.jsx("span",{children:"Export Report"}),r.jsx(ee,{variant:"outline",children:"Professional"})]})}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Export Format"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(x=>{const h=x.icon;return r.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t.format===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(m=>({...m,format:x.value})),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(h,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:x.label}),r.jsx("div",{className:"text-xs text-gray-500",children:x.description})]})]})},x.value)})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Report Sections"}),r.jsx("div",{className:"space-y-3",children:l.map(x=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ar,{id:x.key,checked:t.sections[x.key],onCheckedChange:h=>f(x.key,!!h)}),r.jsxs("div",{className:"grid gap-1.5 leading-none",children:[r.jsx(oe,{htmlFor:x.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:x.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x.description})]})]},x.key))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Additional Options"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ar,{id:"charts",checked:t.includeCharts,onCheckedChange:x=>n(h=>({...h,includeCharts:!!x}))}),r.jsx(oe,{htmlFor:"charts",className:"text-sm",children:"Include charts and visualizations"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ar,{id:"branding",checked:t.includeBranding,onCheckedChange:x=>n(h=>({...h,includeBranding:!!x}))}),r.jsx(oe,{htmlFor:"branding",className:"text-sm",children:"Include company branding"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Report Preview"}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Format:"})," ",p==null?void 0:p.label]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sections:"})," ",Object.values(t.sections).filter(Boolean).length," selected"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Analysis:"})," ",e.analysisId," - ",e.equipmentId]}),r.jsxs("div",{children:[r.jsx("strong",{children:"File size:"})," ~",t.format==="image"?"2-5":"1-3"," MB (estimated)"]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{onClick:c,disabled:i||Object.values(t.sections).every(x=>!x),className:"min-w-[140px]",children:i?r.jsxs(r.Fragment,{children:[r.jsx(sr,{className:"w-4 h-4 mr-2 animate-pulse"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Export Report"]})})})]})]})}function Jbe(e,t){return b.useReducer((n,i)=>t[n][i]??n,e)}var YS="ScrollArea",[F3,eEe]=Nr(YS),[eje,gi]=F3(YS),q3=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=b.useState(null),[d,u]=b.useState(null),[f,p]=b.useState(null),[x,h]=b.useState(null),[m,y]=b.useState(null),[j,g]=b.useState(0),[v,N]=b.useState(0),[w,S]=b.useState(!1),[E,C]=b.useState(!1),k=jt(t,P=>c(P)),R=Up(s);return r.jsx(eje,{scope:n,type:i,dir:R,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:p,scrollbarX:x,onScrollbarXChange:h,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:g,onCornerHeightChange:N,children:r.jsx(nt.div,{dir:R,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});q3.displayName=YS;var z3="ScrollAreaViewport",B3=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:s,...a}=e,o=gi(z3,n),l=b.useRef(null),c=jt(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});B3.displayName=z3;var As="ScrollAreaScrollbar",QS=b.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=gi(As,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?r.jsx(tje,{...i,ref:t,forceMount:n}):s.type==="scroll"?r.jsx(nje,{...i,ref:t,forceMount:n}):s.type==="auto"?r.jsx(U3,{...i,ref:t,forceMount:n}):s.type==="always"?r.jsx(XS,{...i,ref:t}):null});QS.displayName=As;var tje=b.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=gi(As,e.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(Zr,{present:n||a,children:r.jsx(U3,{"data-state":a?"visible":"hidden",...i,ref:t})})}),nje=b.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=gi(As,e.__scopeScrollArea),a=e.orientation==="horizontal",o=ny(()=>c("SCROLL_END"),100),[l,c]=Jbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),b.useEffect(()=>{const d=s.viewport,u=a?"scrollLeft":"scrollTop";if(d){let f=d[u];const p=()=>{const x=d[u];f!==x&&(c("SCROLL"),o()),f=x};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,a,c,o]),r.jsx(Zr,{present:n||l!=="hidden",children:r.jsx(XS,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:We(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:We(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),U3=b.forwardRef((e,t)=>{const n=gi(As,e.__scopeScrollArea),{forceMount:i,...s}=e,[a,o]=b.useState(!1),l=e.orientation==="horizontal",c=ny(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return Pd(n.viewport,c),Pd(n.content,c),r.jsx(Zr,{present:i||a,children:r.jsx(XS,{"data-state":a?"visible":"hidden",...s,ref:t})})}),XS=b.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,s=gi(As,e.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=K3(l.viewport,l.content),u={...i,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,x){return lje(p,o.current,l,x)}return n==="horizontal"?r.jsx(rje,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,x=SP(p,l,s.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?r.jsx(ije,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,x=SP(p,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),rje=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,a=gi(As,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=jt(t,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(W3,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ty(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),Q3(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ev(o.paddingLeft),paddingEnd:ev(o.paddingRight)}})}})}),ije=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,a=gi(As,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=jt(t,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(W3,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ty(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),Q3(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ev(o.paddingTop),paddingEnd:ev(o.paddingBottom)}})}})}),[sje,V3]=F3(As),W3=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...p}=e,x=gi(As,n),[h,m]=b.useState(null),y=jt(t,k=>m(k)),j=b.useRef(null),g=b.useRef(""),v=x.viewport,N=i.content-i.viewport,w=bn(u),S=bn(c),E=ny(f,10);function C(k){if(j.current){const R=k.clientX-j.current.left,P=k.clientY-j.current.top;d({x:R,y:P})}}return b.useEffect(()=>{const k=R=>{const P=R.target;(h==null?void 0:h.contains(P))&&w(R,N)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[v,h,N,w]),b.useEffect(S,[i,S]),Pd(h,E),Pd(x.content,E),r.jsx(sje,{scope:n,scrollbar:h,hasThumb:s,onThumbChange:bn(a),onThumbPointerUp:bn(o),onThumbPositionChange:S,onThumbPointerDown:bn(l),children:r.jsx(nt.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:We(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),j.current=h.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),C(k))}),onPointerMove:We(e.onPointerMove,C),onPointerUp:We(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=g.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),Jx="ScrollAreaThumb",H3=b.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=V3(Jx,e.__scopeScrollArea);return r.jsx(Zr,{present:n||s.hasThumb,children:r.jsx(aje,{ref:t,...i})})}),aje=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...s}=e,a=gi(Jx,n),o=V3(Jx,n),{onThumbPositionChange:l}=o,c=jt(t,f=>o.onThumbChange(f)),d=b.useRef(void 0),u=ny(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(u(),!d.current){const x=cje(f,l);d.current=x,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,u,l]),r.jsx(nt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:We(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),h=f.clientX-x.left,m=f.clientY-x.top;o.onThumbPointerDown({x:h,y:m})}),onPointerUp:We(e.onPointerUp,o.onThumbPointerUp)})});H3.displayName=Jx;var ZS="ScrollAreaCorner",G3=b.forwardRef((e,t)=>{const n=gi(ZS,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?r.jsx(oje,{...e,ref:t}):null});G3.displayName=ZS;var oje=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,s=gi(ZS,n),[a,o]=b.useState(0),[l,c]=b.useState(0),d=!!(a&&l);return Pd(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),Pd(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),d?r.jsx(nt.div,{...i,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ev(e){return e?parseInt(e,10):0}function K3(e,t){const n=e/t;return isNaN(n)?0:n}function ty(e){const t=K3(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function lje(e,t,n,i="ltr"){const s=ty(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=i==="ltr"?[0,u]:[u*-1,0];return Y3([c,d],f)(e)}function SP(e,t,n="ltr"){const i=ty(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-i,c=n==="ltr"?[0,o]:[o*-1,0],d=Mw(e,c);return Y3([0,o],[0,l])(d)}function Y3(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function Q3(e,t){return e>0&&e<t}var cje=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,i=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(i)};function ny(e,t){const n=bn(e),i=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(i.current),[]),b.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function Pd(e,t){const n=bn(t);wn(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}var X3=q3,dje=B3,uje=G3;const Z3=b.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(X3,{ref:i,className:Xe("relative overflow-hidden",e),...n,children:[r.jsx(dje,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(J3,{}),r.jsx(uje,{})]}));Z3.displayName=X3.displayName;const J3=b.forwardRef(({className:e,orientation:t="vertical",...n},i)=>r.jsx(QS,{ref:i,orientation:t,className:Xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(H3,{className:"relative flex-1 rounded-full bg-border"})}));J3.displayName=QS.displayName;function fje({analysis:e,onRevert:t}){const[n,i]=b.useState(null),{toast:s}=Mt(),o=(()=>{const h=[];h.push({timestamp:e.createdAt.toString(),user:"AI System",reason:"Initial root cause analysis",changes:{},version:1,type:"initial_creation"});const m=e.adjustmentHistory||[];h.push(...m.map(j=>({...j,type:"manual_adjustment"})));const y=e.evidenceGatheringHistory||[];return h.push(...y.map(j=>({...j,type:"evidence_gathering"}))),h.sort((j,g)=>new Date(g.timestamp).getTime()-new Date(j.timestamp).getTime())})(),l=Math.max(...o.map(h=>h.version),1),c=h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=h=>{switch(h){case"initial_creation":return r.jsx(Ut,{className:"w-4 h-4"});case"manual_adjustment":return r.jsx(nd,{className:"w-4 h-4"});case"ai_reanalysis":return r.jsx(td,{className:"w-4 h-4"});case"evidence_gathering":return r.jsx(Cf,{className:"w-4 h-4"});default:return r.jsx(Kn,{className:"w-4 h-4"})}},u=h=>{switch(h){case"initial_creation":return"bg-green-100 text-green-800";case"manual_adjustment":return"bg-blue-100 text-blue-800";case"ai_reanalysis":return"bg-purple-100 text-purple-800";case"evidence_gathering":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},f=h=>{switch(h){case"initial_creation":return"Created";case"manual_adjustment":return"Manual Edit";case"ai_reanalysis":return"AI Re-analysis";case"evidence_gathering":return"Evidence Update";default:return"Unknown"}},p=h=>{if(h===l){s({title:"Already Current Version",description:"This is already the current version of the analysis.",variant:"destructive"});return}t&&(t(h),s({title:"Version Reverted",description:`Analysis has been reverted to version ${h}.`}))},x=h=>Object.keys(h).length===0?r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No specific changes recorded"}):r.jsx("div",{className:"space-y-2",children:Object.entries(h).map(([m,y])=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-medium text-gray-700 capitalize",children:[m.replace(/([A-Z])/g," $1").toLowerCase(),":"]}),r.jsxs("div",{className:"ml-2 space-y-1",children:[r.jsxs("div",{className:"text-red-600",children:[r.jsx("span",{className:"font-medium",children:"From:"})," ",typeof y.from=="object"?JSON.stringify(y.from,null,2):String(y.from||"Empty").substring(0,100)]}),r.jsxs("div",{className:"text-green-600",children:[r.jsx("span",{className:"font-medium",children:"To:"})," ",typeof y.to=="object"?JSON.stringify(y.to,null,2):String(y.to||"Empty").substring(0,100)]})]})]},m))});return r.jsxs(H,{className:"w-full",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Gs,{className:"w-5 h-5"}),r.jsx("span",{children:"Version History & Audit Trail"}),r.jsxs(ee,{variant:"outline",children:["v",l]})]})}),r.jsxs(K,{children:[r.jsxs(rn,{className:"mb-6",children:[r.jsx(Gs,{className:"h-4 w-4"}),r.jsx(sn,{children:"Complete audit trail of all changes made to this analysis. Click on any version to view details."})]}),r.jsx(Z3,{className:"h-[600px] pr-4",children:r.jsx("div",{className:"space-y-4",children:o.map((h,m)=>r.jsxs("div",{className:`border rounded-lg p-4 transition-colors cursor-pointer ${n===h.version?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>i(n===h.version?null:h.version),children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`p-2 rounded-full ${u(h.type)}`,children:d(h.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs("span",{className:"font-medium",children:["Version ",h.version]}),r.jsx(ee,{variant:"outline",className:"text-xs",children:f(h.type)}),h.version===l&&r.jsx(ee,{className:"text-xs",children:"Current"})]}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(nd,{className:"w-3 h-3"}),r.jsx("span",{children:h.user})]}),r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(Kn,{className:"w-3 h-3"}),r.jsx("span",{children:c(h.timestamp)})]})]})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Reason:"})," ",h.reason]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),i(n===h.version?null:h.version)},children:r.jsx(Cf,{className:"w-4 h-4"})}),h.version!==l&&r.jsxs(V,{variant:"outline",size:"sm",onClick:y=>{y.stopPropagation(),p(h.version)},children:[r.jsx(qv,{className:"w-4 h-4 mr-1"}),"Revert"]})]})]}),n===h.version&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[r.jsx("h4",{className:"font-medium text-sm mb-3",children:"Changes Made:"}),x(h.changes)]})]},h.version))})}),o.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Gs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No version history available"})]})]})]})}function pje(e){const t=mje(e),n=b.forwardRef((i,s)=>{const{children:a,...o}=i,l=b.Children.toArray(a),c=l.find(xje);if(c){const d=c.props.children,u=l.map(f=>f===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function mje(e){const t=b.forwardRef((n,i)=>{const{children:s,...a}=n;if(b.isValidElement(s)){const o=gje(s),l=vje(a,s.props);return s.type!==b.Fragment&&(l.ref=i?$v(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hje=Symbol("radix.slottable");function xje(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hje}function vje(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function gje(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e5=yje.reduce((e,t)=>{const n=pje(`Primitive.${t}`),i=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),JS="Progress",eC=100,[bje,tEe]=Nr(JS),[jje,wje]=bje(JS),t5=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:s,getValueLabel:a=Nje,...o}=e;(s||s===0)&&!CP(s)&&console.error(Sje(`${s}`,"Progress"));const l=CP(s)?s:eC;i!==null&&!EP(i,l)&&console.error(Cje(`${i}`,"Progress"));const c=EP(i,l)?i:null,d=tv(c)?a(c,l):void 0;return r.jsx(jje,{scope:n,value:c,max:l,children:r.jsx(e5.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tv(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":i5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});t5.displayName=JS;var n5="ProgressIndicator",r5=b.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,s=wje(n5,n);return r.jsx(e5.div,{"data-state":i5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...i,ref:t})});r5.displayName=n5;function Nje(e,t){return`${Math.round(e/t*100)}%`}function i5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tv(e){return typeof e=="number"}function CP(e){return tv(e)&&!isNaN(e)&&e>0}function EP(e,t){return tv(e)&&!isNaN(e)&&e<=t&&e>=0}function Sje(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eC}\`.`}function Cje(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var s5=t5,Eje=r5;const Vr=b.forwardRef(({className:e,value:t,...n},i)=>r.jsx(s5,{ref:i,className:Xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(Eje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Vr.displayName=s5.displayName;function kje({analysis:e,className:t=""}){var d;const[n,i]=b.useState("asset_analysis"),a=(()=>{var p,x;const u=e.evidenceData||{},f=e.analysisResults||{};return[{id:"asset_analysis",title:"Asset Identification & Context",status:"completed",confidence:95,details:[`Equipment Type: ${u.equipment_type||"Not specified"}`,`Equipment ID: ${u.equipment_tag||"Not specified"}`,`Location: ${e.whereHappened||u.operating_location||"Not specified"}`,`Category: ${u.equipment_category||"Not specified"}`],timestamp:e.createdAt},{id:"symptom_analysis",title:"Symptom Analysis & Localization",status:"completed",confidence:88,details:[`Primary Problem: ${u.observed_problem||e.whatHappened||"Not specified"}`,`Symptom Location: ${u.symptom_location||"Not localized"}`,`Problem Type: ${u.problem_type||"Not classified"}`,`Detection Method: ${u.detection_method||"Not specified"}`]},{id:"cause_mapping",title:"Failure Mode & Cause Mapping",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Analysis Method: ${f.analysisMethod||"Fault Tree Analysis"}`,`Causes Identified: ${((p=f.causes)==null?void 0:p.length)||0} potential causes evaluated`,"Knowledge base correlation completed","Statistical analysis performed","Industry best practices applied"]},{id:"evidence_correlation",title:"Evidence Correlation & Validation",status:"completed",confidence:Math.round(parseFloat(e.evidenceCompleteness||"80")),details:[`Evidence Completeness: ${Math.round(parseFloat(e.evidenceCompleteness||"80"))}%`,`Maintenance History: ${u.last_maintenance_type||"Available"}`,`Operating Conditions: ${u.environmental_conditions||"Within limits"}`,"Data correlation analysis completed"]},{id:"root_cause_selection",title:"Root Cause Selection & Validation",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Top Event: ${f.topEvent||"Equipment Failure"}`,`Primary Causes: ${((x=f.causes)==null?void 0:x.map(h=>h.description).join(", "))||"Equipment degradation"}`,`Confidence Score: ${Math.round((f.confidence||.8)*100)}%`,"Validation completed against ISO 14224 standards"]},{id:"recommendations",title:"Actionable Recommendations",status:"completed",confidence:85,details:(e.recommendations||["Review operating parameters and implement process controls"]).map((h,m)=>`${m+1}. ${h}`)}]})(),o=a.find(u=>u.id===n),l=u=>{switch(u){case"completed":return r.jsx(kt,{className:"w-5 h-5 text-green-500"});case"in_progress":return r.jsx($i,{className:"w-5 h-5 text-blue-500"});case"failed":return r.jsx(pt,{className:"w-5 h-5 text-red-500"});default:return r.jsx(JU,{className:"w-5 h-5 text-gray-400"})}},c=u=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold",children:"AI Reasoning Process"}),r.jsxs(ee,{variant:"outline",className:"ml-auto",children:["Confidence: ",Math.round((e.confidence||((d=e.analysisResults)==null?void 0:d.confidence)||.8)*100),"%"]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"w-5 h-5"}),"Analysis Progress"]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Overall Completion"}),r.jsxs("span",{children:[Math.round(a.filter(u=>u.status==="completed").length/a.length*100),"%"]})]}),r.jsx(Vr,{value:a.filter(u=>u.status==="completed").length/a.length*100,className:"h-2"}),r.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{children:[" ",a.filter(u=>u.status==="completed").length," Completed"]}),r.jsxs("span",{children:[" ",a.filter(u=>u.status==="in_progress").length," In Progress"]}),r.jsxs("span",{children:[" ",a.filter(u=>u.status==="pending").length," Pending"]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:a.map((u,f)=>r.jsx(V,{variant:n===u.id?"default":"outline",size:"sm",onClick:()=>i(u.id),className:"flex items-center gap-2 h-auto p-3",children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l(u.status),r.jsx("span",{className:"text-xs text-center leading-tight",children:u.title.split(" ")[0]}),u.confidence&&r.jsxs(ee,{variant:"secondary",className:"text-xs px-1",children:[Math.round(u.confidence),"%"]})]})},u.id))}),o&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[l(o.status),o.title,o.confidence&&r.jsxs(ee,{variant:"outline",className:`ml-auto ${c(o.confidence)}`,children:[Math.round(o.confidence),"% Confidence"]})]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Analysis Details"}),r.jsx("ul",{className:"space-y-1",children:o.details.map((u,f)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Fp,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsx("span",{children:u})]},f))})]}),o.evidence&&o.evidence.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm text-muted-foreground flex items-center gap-2",children:[r.jsx(QU,{className:"w-4 h-4"}),"Evidence Analysis"]}),r.jsx("div",{className:"grid gap-2",children:o.evidence.map((u,f)=>r.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${u.type==="supporting"?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium text-sm",children:[u.type==="supporting"?"":""," ",u.description||u.type]}),r.jsxs(ee,{variant:"outline",className:"text-xs",children:["Weight: ",u.weight||"N/A"]})]}),u.value&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Value: ",u.value]})]},f))})]}),o.timestamp&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Completed: ",new Date(o.timestamp).toLocaleString()]})]})]}),e.missingDataPrompts&&e.missingDataPrompts.length>0&&r.jsxs(rn,{className:"border-yellow-200 bg-yellow-50",children:[r.jsx(pt,{className:"w-4 h-4"}),r.jsxs(sn,{children:[r.jsx("div",{className:"font-medium",children:"Additional Data Needed"}),r.jsx("div",{className:"text-sm mt-1 space-y-1",children:e.missingDataPrompts.map((u,f)=>r.jsxs("div",{children:[" ",u.question]},f))})]})]}),e.manualAdjustments&&e.manualAdjustments.length>0&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"w-5 h-5"}),"Manual Adjustments & Expert Overrides"]})}),r.jsx(K,{children:r.jsx("div",{className:"space-y-3",children:e.manualAdjustments.map((u,f)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ee,{variant:u.expertOverride?"destructive":"secondary",children:u.expertOverride?"Expert Override":"Manual Adjustment"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleString()})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:"Reasoning:"}),r.jsx("div",{className:"text-muted-foreground",children:u.reasoning})]})]},f))})})]})]})}function Aje({analysis:e,onDataProvided:t}){const[n,i]=b.useState({}),[s,a]=b.useState(!1),{toast:o}=Mt(),l=wr(),c=e.missingDataPrompts||[],d=Ke({mutationFn:async h=>st(`/api/analyses/${e.id}/provide-data`,{method:"POST",body:JSON.stringify(h)}),onSuccess:()=>{o({title:"Data Provided Successfully",description:"The analysis will be updated with your additional information."}),l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),t==null||t()},onError:h=>{o({title:"Failed to Submit Data",description:h.message,variant:"destructive"})}}),u=(h,m)=>{i(y=>({...y,[h]:m}))},f=async()=>{a(!0);try{await d.mutateAsync({responses:n,additionalData:{timestamp:new Date().toISOString(),source:"user_input"}})}finally{a(!1)}},p=h=>{switch(h){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},x=h=>{var y;const m=n[h.id]||"";switch(h.type){case"equipment":return r.jsxs("div",{className:"space-y-3",children:[h.options&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Please select the option that best describes your situation:"}),r.jsxs($e,{value:m,onValueChange:j=>u(h.id,j),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select an option"})}),r.jsx(Le,{children:h.options.map((j,g)=>r.jsx(te,{value:j,children:j},g))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Additional Equipment Details:"}),r.jsx(Qe,{value:m,onChange:j=>u(h.id,j.target.value),placeholder:"Provide any additional equipment details, specifications, or context...",rows:3})]})]});case"operating_data":return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Missing Parameters:"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(y=h.missing)==null?void 0:y.map((j,g)=>r.jsx(ee,{variant:"outline",className:"justify-center",children:j.replace(/_/g," ").toUpperCase()},g))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Operating Parameter Values:"}),r.jsx(Qe,{value:m,onChange:j=>u(h.id,j.target.value),placeholder:"Please provide the missing operating parameters (e.g., Temperature: 180F, Pressure: 25 psig, Flow: 100 gpm)...",rows:4})]})]});case"symptoms":return r.jsxs("div",{className:"space-y-3",children:[h.context&&r.jsxs(rn,{children:[r.jsx(QE,{className:"w-4 h-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"Current Analysis:"})," ",h.context]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Detailed Symptom Description:"}),r.jsx(Qe,{value:m,onChange:j=>u(h.id,j.target.value),placeholder:"Describe the symptoms in detail: when they started, how they manifested, any patterns you noticed...",rows:4})]})]});default:return r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Response:"}),r.jsx(Qe,{value:m,onChange:j=>u(h.id,j.target.value),placeholder:"Please provide the requested information...",rows:3})]})}};return c.length===0?null:r.jsxs(H,{className:"border-yellow-200 bg-yellow-50",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"w-5 h-5 text-yellow-600"}),"Additional Information Needed",r.jsxs(ee,{variant:"outline",className:"ml-auto",children:[c.length," ",c.length===1?"Question":"Questions"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"The AI analysis requires additional information to improve accuracy and confidence. Please provide the requested details below."})]}),r.jsxs(K,{className:"space-y-6",children:[c.map((h,m)=>r.jsxs(H,{className:"border-yellow-200",children:[r.jsx(Q,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx(X,{className:"text-base",children:h.question}),r.jsxs(ee,{variant:p(h.priority),children:[h.priority," Priority"]})]})}),r.jsx(K,{children:x(h)})]},h.id||m)),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:r.jsxs(V,{onClick:f,disabled:s||Object.keys(n).length===0,className:"flex items-center gap-2",children:[s?r.jsx(Xb,{className:"w-4 h-4 animate-spin"}):r.jsx(oV,{className:"w-4 h-4"}),s?"Updating Analysis...":"Submit Additional Data"]})}),r.jsxs(rn,{children:[r.jsx(QE,{className:"w-4 h-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"How this helps:"})," Your additional information will be used to re-run the analysis with higher confidence. The AI will correlate your inputs with the existing data to provide more accurate root cause identification and recommendations."]})]})]})]})}function _je(){var y,j,g,v,N,w,S,E,C,k,R,P,A,_,O,D;const[,e]=zS("/investigation/:id"),[t,n]=b.useState("overview"),[i,s]=b.useState(!1),a=e==null?void 0:e.id,o=a==null?void 0:a.startsWith("INC-"),l=o?a.replace("INC-",""):a,c=o?`/api/incidents/${l}`:`/api/investigations/${a}`,{data:d,isLoading:u,error:f}=Ce({queryKey:[c],enabled:!!a,queryFn:async()=>{const M=await fetch(c);if(!M.ok)throw new Error(`Failed to fetch ${o?"incident":"analysis"}`);return M.json()}}),p=d?o?{analysisId:`INC-${d.id}`,equipmentId:d.equipmentId||"Unknown",location:d.location||"Unknown",priority:d.priority||"medium",confidence:((y=d.aiAnalysis)==null?void 0:y.overallConfidence)||0,analysisResults:d.aiAnalysis,whatHappened:d.symptomDescription||d.title,evidenceData:{equipment_type:d.equipmentType,equipment_tag:d.equipmentId,operating_location:d.location},whereHappened:d.location,rootCauses:((g=(j=d.aiAnalysis)==null?void 0:j.rootCauses)==null?void 0:g.map(M=>M.description))||[],recommendations:((N=(v=d.aiAnalysis)==null?void 0:v.recommendations)==null?void 0:N.map(M=>M.description))||[],status:d.workflowStatus,investigationType:"Equipment Failure",updatedAt:d.updatedAt}:d:null;if(u)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading analysis..."})]})});if(f||!p)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-destructive mb-4",children:"Failed to load analysis"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:o?`Incident ID: ${a}`:`Investigation ID: ${a}`}),r.jsxs(V,{onClick:()=>window.history.back(),children:[r.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})});const x=M=>{switch(M){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},h=M=>M>=90?"confidence-high":M>=70?"confidence-medium":"confidence-low",m=M=>new Date(M).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(V,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center space-x-2",children:[r.jsx(Vi,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsx(Zs,{orientation:"vertical",className:"h-6"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:p.analysisId}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.equipmentId,"  ",p.location]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:x(p.priority||"medium"),children:(p.priority||"medium").toUpperCase()}),r.jsxs(ee,{className:h(p.confidence||0),children:[p.confidence,"% Confidence"]}),r.jsxs(V,{variant:"outline",onClick:()=>s(!i),children:[r.jsx(zv,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?r.jsx(Ibe,{analysis:p,onSave:()=>s(!1),onCancel:()=>s(!1)}):r.jsxs(Yn,{value:t,onValueChange:n,className:"w-full",children:[r.jsxs(qn,{className:"grid w-full grid-cols-8 mb-8",children:[r.jsx(Oe,{value:"overview",children:"Overview"}),r.jsxs(Oe,{value:"diagrams",children:[r.jsx(td,{className:"w-4 h-4 mr-1"}),"Diagrams"]}),r.jsx(Oe,{value:"rca-tree",children:"RCA Tree"}),r.jsx(Oe,{value:"evidence",children:"Evidence"}),r.jsx(Oe,{value:"reasoning",children:"AI Reasoning"}),r.jsx(Oe,{value:"export",children:"Export"}),r.jsx(Oe,{value:"history",children:"History"}),r.jsx(Oe,{value:"settings",children:"Settings"})]}),r.jsxs(Ee,{value:"overview",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Analysis Summary"})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Issue Description"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.whatHappened||((w=p.evidenceData)==null?void 0:w.observed_problem)||"No description available"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Equipment Details"}),r.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",((S=p.evidenceData)==null?void 0:S.equipment_type)||"Not specified"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",((E=p.evidenceData)==null?void 0:E.equipment_tag)||"Not specified"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Location:"})," ",p.whereHappened||((C=p.evidenceData)==null?void 0:C.operating_location)||"Not specified"]})]})]})]}),r.jsx(Zs,{}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Root Cause Analysis"}),p.analysisResults?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failure Analysis"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Failure Mode:"})," ",p.analysisResults.failureMode||"Not specified"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Severity:"})," ",p.analysisResults.severity||"Not specified"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Confidence:"})," ",p.analysisResults.overallConfidence||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-3",children:"Root Causes"}),r.jsx("div",{className:"space-y-3",children:(p.analysisResults.rootCauses||[]).map((M,G)=>r.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.description}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-800",children:"Root Cause"}),r.jsxs("span",{className:"text-xs font-medium",children:[M.confidence,"%"]})]})]}),M.evidence&&M.evidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Evidence:"}),r.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:M.evidence.map((z,I)=>r.jsx("li",{children:typeof z=="string"?z:z.description||""},I))})]})]},G))})]})]}):(k=p.analysisResults)!=null&&k.structuredAnalysis?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Symptom Statement"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.analysisResults.structuredAnalysis.symptomStatement})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-3",children:"Causes Analysis"}),r.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.causesConsidered.map((M,G)=>r.jsxs("div",{className:`p-3 border-l-4 ${M.classification==="root_cause"?"border-red-500 bg-red-50":M.classification==="contributing"?"border-yellow-500 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.cause}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${M.classification==="root_cause"?"bg-red-100 text-red-800":M.classification==="contributing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:M.classification.replace("_"," ")}),r.jsxs("span",{className:"text-xs font-medium",children:[Math.round(M.confidence*100),"%"]})]})]}),M.supportingEvidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Supporting Evidence:"}),r.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:M.supportingEvidence.map((z,I)=>r.jsx("li",{children:z},I))})]}),M.contradictingEvidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Contradicting Evidence:"}),r.jsx("ul",{className:"text-xs text-red-600 list-disc list-inside",children:M.contradictingEvidence.map((z,I)=>r.jsx("li",{children:z},I))})]}),r.jsx("p",{className:"text-xs text-muted-foreground italic",children:M.reasoning})]},G))})]}),r.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500",children:[r.jsx("h5",{className:"font-medium text-sm mb-2 text-blue-800",children:"Conclusion"}),r.jsx("p",{className:"text-sm text-blue-700",children:p.analysisResults.structuredAnalysis.conclusion})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:((P=(R=p.analysisResults)==null?void 0:R.causes)==null?void 0:P.map(M=>M.description).join("; "))||p.rootCauses||"Analysis in progress..."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Recommendations"}),(A=p.analysisResults)!=null&&A.recommendations?r.jsx("div",{className:"space-y-3",children:p.analysisResults.recommendations.map((M,G)=>r.jsxs("div",{className:"p-3 border-l-4 border-blue-500 bg-blue-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.title}),r.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800",children:[M.priority," priority"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[r.jsx("strong",{children:"Description:"})," ",M.description]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Timeframe:"})," ",M.timeframe||"Not specified"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Cost:"})," ",M.estimatedCost||"Not specified"]})]},G))}):(O=(_=p.analysisResults)==null?void 0:_.structuredAnalysis)!=null&&O.recommendations?r.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.recommendations.map((M,G)=>r.jsxs("div",{className:`p-3 border-l-4 ${M.priority==="high"?"border-red-500 bg-red-50":M.priority==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.action}),r.jsxs("span",{className:`text-xs px-2 py-1 rounded ${M.priority==="high"?"bg-red-100 text-red-800":M.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[M.priority," priority"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[r.jsx("strong",{children:"Timeframe:"})," ",M.timeframe]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Rationale:"})," ",M.rationale]})]},G))}):r.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:(p.recommendations||[]).map((M,G)=>r.jsx("li",{children:M},G))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[p.confidence||((D=p.analysisResults)==null?void 0:D.overallConfidence)||0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence Score"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.status||"completed"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.updatedAt?m(p.updatedAt):"In Progress"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]})]}),p.evidenceData&&Object.keys(p.evidenceData).length>0&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Operating Parameters"})}),r.jsx(K,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(p.evidenceData).filter(([M])=>!["equipment_tag","equipment_type","operating_location","observed_problem"].includes(M)).map(([M,G])=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2 capitalize",children:M.replace(/_/g," ")}),r.jsx("div",{className:"text-sm text-muted-foreground",children:typeof G=="boolean"?G?"YES":"NO":String(G)})]},M))})})]})]}),r.jsx(Ee,{value:"diagrams",children:r.jsx(A3,{analysisData:p.analysisResults,investigationType:p.investigationType,onNodeUpdate:(M,G)=>{console.log("Node updated:",M,G)},onNodeAdd:(M,G)=>{console.log("Node added to parent:",M,G)},onNodeDelete:M=>{console.log("Node deleted:",M)}})}),r.jsx(Ee,{value:"reasoning",children:r.jsx(kje,{analysis:p})}),r.jsx(Ee,{value:"rca-tree",children:r.jsx(s3,{analysis:p,onEdit:()=>s(!0)})}),r.jsx(Ee,{value:"evidence",children:r.jsx(Obe,{analysis:p})}),r.jsx(Ee,{value:"missing-data",children:r.jsx(Aje,{analysis:p,onDataProvided:()=>{window.location.reload()}})}),r.jsx(Ee,{value:"export",children:r.jsx(Zbe,{analysis:p})}),r.jsx(Ee,{value:"history",children:r.jsx(fje,{analysis:p})}),r.jsx(Ee,{value:"settings",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Analysis Settings"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Auto Re-analysis"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically trigger re-analysis when new evidence is added"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Confidence Threshold"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum confidence score for auto-completion"})]}),r.jsxs("select",{className:"border rounded px-3 py-1",children:[r.jsx("option",{value:"80",children:"80%"}),r.jsx("option",{value:"85",children:"85%"}),r.jsx("option",{value:"90",children:"90%"}),r.jsx("option",{value:"95",children:"95%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Notification Alerts"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for analysis status changes"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})})]})})]})})]})}const Pje="modulepreload",Tje=function(e){return"/"+e},kP={},Ye=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Tje(c),c in kP)return;kP[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Pje,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,x)=>{f.addEventListener("load",p),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Oje(){var f,p;const[e,t]=b.useState(!1),[n,i]=b.useState(null),{data:s,refetch:a,isLoading:o}=Ce({queryKey:["/api/admin/ai-status"],refetchInterval:1e4,retry:!1});b.useEffect(()=>{var x,h,m;((x=s==null?void 0:s.status)==null?void 0:x.systemHealth)==="working"&&((m=(h=s==null?void 0:s.status)==null?void 0:h.activeProvider)!=null&&m.isTestSuccessful)&&i(null)},[s]);const l=s==null?void 0:s.status,c=async()=>{t(!0);try{const x=await st("/api/admin/ai-status/test",{method:"POST"});console.log("[AI Status Test] Response:",x),i(x),a()}catch(x){console.error("[AI Status Test] Error:",x),i({success:!1,message:"Test failed",error:x.message||"Unknown error occurred",errorType:"network_error"})}finally{t(!1)}};if(o)return r.jsxs(H,{className:"border-gray-200",children:[r.jsx(Q,{className:"pb-3",children:r.jsxs(X,{className:"flex items-center gap-2 text-sm",children:[r.jsx(rr,{className:"h-4 w-4"}),"AI Configuration Status"]})}),r.jsx(K,{children:r.jsx("div",{className:"text-sm text-gray-500",children:"Loading AI status..."})})]});const d=()=>l?l.complianceStatus==="hardcoding-detected"?"red":l.systemHealth==="working"?"green":l.systemHealth==="configuration-required"?"yellow":"red":"gray",u=()=>l?l.complianceStatus==="hardcoding-detected"?r.jsx(so,{className:"h-4 w-4 text-red-500"}):l.systemHealth==="working"?r.jsx(kt,{className:"h-4 w-4 text-green-500"}):l.systemHealth==="configuration-required"?r.jsx(pt,{className:"h-4 w-4 text-yellow-500"}):r.jsx(so,{className:"h-4 w-4 text-red-500"}):r.jsx(Rr,{className:"h-4 w-4"});return r.jsxs(H,{className:`border-2 ${d()==="red"?"border-red-200 bg-red-50":d()==="green"?"border-green-200 bg-green-50":d()==="yellow"?"border-yellow-200 bg-yellow-50":"border-gray-200"}`,children:[r.jsx(Q,{className:"pb-3",children:r.jsxs(X,{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rr,{className:"h-4 w-4"}),"AI Configuration Status"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[u(),r.jsx(ee,{variant:d()==="green"?"default":d()==="yellow"?"secondary":"destructive",children:((f=l==null?void 0:l.systemHealth)==null?void 0:f.toUpperCase())||"UNKNOWN"})]})]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Configuration Source:"}),r.jsx(ee,{variant:(l==null?void 0:l.configurationSource)==="admin-database"?"default":"destructive",children:(l==null?void 0:l.configurationSource)==="admin-database"?r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"h-3 w-3 mr-1"}),"Admin Database"]}):r.jsxs(r.Fragment,{children:[r.jsx(pt,{className:"h-3 w-3 mr-1"}),"Hardcoded Violation"]})})]}),l!=null&&l.activeProvider?r.jsxs("div",{className:"bg-white border rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Active Provider:"}),r.jsxs("span",{className:"text-xs font-mono",children:[l.activeProvider.provider," (",l.activeProvider.model,")"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Database ID:"}),r.jsxs("span",{className:"text-xs font-mono",children:["#",l.activeProvider.id]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"API Key Status:"}),r.jsxs(ee,{variant:"outline",className:"text-xs",children:[r.jsx(eV,{className:"h-3 w-3 mr-1"}),l.activeProvider.apiKeyStatus]})]})]}):r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("span",{className:"text-sm text-red-700",children:"No active AI provider configured"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Compliance Status:"}),r.jsxs(ee,{variant:(l==null?void 0:l.complianceStatus)==="compliant"?"default":"destructive",children:[r.jsx(bs,{className:"h-3 w-3 mr-1"}),((p=l==null?void 0:l.complianceStatus)==null?void 0:p.toUpperCase())||"UNKNOWN"]})]}),(l==null?void 0:l.violations)&&l.violations.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs font-medium text-red-700 mb-1",children:"Hardcoding Violations Detected:"}),l.violations.map((x,h)=>r.jsxs("div",{className:"text-xs text-red-600 flex items-start gap-1",children:[r.jsx(pt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),x]},h))]})]}),(l==null?void 0:l.lastAIOperation)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Last AI Operation:"}),r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-3 space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Source:"}),r.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.source})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Provider Used:"}),r.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.provider})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Status:"}),r.jsx(ee,{variant:l.lastAIOperation.success?"default":"destructive",className:"text-xs",children:l.lastAIOperation.success?"SUCCESS":"FAILED"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Timestamp:"}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(l.lastAIOperation.timestamp).toLocaleString()})]})]})]}),r.jsxs("div",{className:"pt-2 border-t",children:[r.jsxs(V,{onClick:c,disabled:e||!(l!=null&&l.activeProvider),variant:"outline",size:"sm",className:"w-full",children:[r.jsx(ej,{className:"h-4 w-4 mr-2"}),e?"Testing Configuration...":"Test AI Configuration"]}),n&&((l==null?void 0:l.systemHealth)!=="working"||e)&&r.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs ${n.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[r.jsx("div",{className:"font-medium",children:n.success?" Test Successful":" Test Failed"}),r.jsx("div",{children:n.message}),n.configurationSource&&r.jsxs("div",{className:"mt-1 text-gray-600",children:["Source: ",n.configurationSource]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Last updated: ",l?new Date(l.timestamp).toLocaleString():"Unknown"]})]})]})}const Ii=[{id:"dashboard",label:"Dashboard",path:"/admin",icon:"Home"},{id:"taxonomy",label:"Taxonomy Management",path:"/admin/taxonomy",icon:"Database"},{id:"evidence",label:"Evidence Library",path:"/admin/evidence",icon:"Library"},{id:"integrations",label:"Workflow Integration",path:"/admin/integrations",icon:"Plug"}],Xl=[{id:"groups",label:"Equipment Groups",path:"/admin/taxonomy/groups",description:"Manage equipment group classifications"},{id:"types",label:"Equipment Types",path:"/admin/taxonomy/types",description:"Manage equipment type definitions"},{id:"subtypes",label:"Equipment Subtypes",path:"/admin/taxonomy/subtypes",description:"Manage equipment subtype categories"},{id:"risks",label:"Risk Rankings",path:"/admin/taxonomy/risks",description:"Manage risk classification levels"}];var AP={};class Ije{constructor(){this.logs=[],this.maxLogs=100,this.isDebugMode=!1,this.initializeDebugMode()}initializeDebugMode(){const n=new URLSearchParams(window.location.search).get("debug")==="1",i=AP.DEBUG_AI_SETTINGS==="1",s=sessionStorage.getItem("debug_ai_settings")==="true";this.isDebugMode=n||i||s,n&&sessionStorage.setItem("debug_ai_settings","true"),this.isDebugMode&&console.log("[AI Settings Debug] Debug mode ENABLED")}generateTraceId(){const t=new Date().toISOString().replace(/[-:]/g,"").slice(0,15),n=Math.random().toString(36).substr(2,6).toUpperCase();return`AIP-${t}-${n}`}log(t,n,i="INFO"){if(!this.isDebugMode)return"";const s=this.generateTraceId(),a=this.redactSensitiveData(n),o={id:s,timestamp:Date.now(),action:t,inputs:a,level:i};return this.addLog(o),console.log(`[AI Settings Debug] ${t} - Trace: ${s}`,a),s}updateLogWithNetwork(t,n){if(!this.isDebugMode)return;const i=this.logs.find(s=>s.id===t);i&&(i.network=n,console.log(`[AI Settings Debug] Network update for ${t}:`,n))}updateLogWithResult(t,n){if(!this.isDebugMode)return;const i=this.logs.find(s=>s.id===t);i&&(i.result=n,console.log(`[AI Settings Debug] Result for ${t}:`,n))}redactSensitiveData(t){const n={...t},i=["apiKey","api_key","authorization","password","secret","token"];for(const s of Object.keys(n))i.some(a=>s.toLowerCase().includes(a))&&(n[s]="[REDACTED]");return n}addLog(t){this.logs.unshift(t),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs))}getLogs(){return[...this.logs]}clearLogs(){this.logs=[],console.log("[AI Settings Debug] Logs cleared")}exportLogs(){const t={timestamp:new Date().toISOString(),debugMode:this.isDebugMode,logs:this.logs,version:AP.REACT_APP_VERSION||"unknown"};return JSON.stringify(t,null,2)}isEnabled(){return this.isDebugMode}}const nf=new Ije;function Rje({isVisible:e}){const[t,n]=b.useState([]),[i,s]=b.useState([]),[a,o]=b.useState(null),[l,c]=b.useState({action:"",status:"",traceId:"",level:""}),[d,u]=b.useState(!1);if(!e)return null;b.useEffect(()=>{f(),p();const g=setInterval(()=>{f()},5e3);return()=>clearInterval(g)},[e]),b.useEffect(()=>{x()},[t,l]);const f=()=>{const g=nf.getLogs();n(g)},p=async()=>{try{u(!0);const{api:g}=await Ye(async()=>{const{api:S}=await Promise.resolve().then(()=>ot);return{api:S}},[]),N=await(await g("/meta")).json();let w;try{const S=await g("/admin/ai-settings/debug");S.ok&&(w=await S.json())}catch{}o({...N,providerStats:w})}catch(g){console.error("Failed to fetch system health:",g)}finally{u(!1)}},x=()=>{let g=[...t];l.action&&(g=g.filter(v=>v.action.toLowerCase().includes(l.action.toLowerCase()))),l.status&&(g=g.filter(v=>{var N,w;return l.status==="success"?((N=v.result)==null?void 0:N.success)===!0:l.status==="error"?((w=v.result)==null?void 0:w.success)===!1:!0})),l.traceId&&(g=g.filter(v=>v.id.toLowerCase().includes(l.traceId.toLowerCase()))),l.level&&(g=g.filter(v=>v.level===l.level)),s(g)},h=()=>{nf.clearLogs(),f()},m=()=>{const g=nf.exportLogs(),v=new Blob([g],{type:"application/json"}),N=URL.createObjectURL(v),w=document.createElement("a");w.href=N,w.download=`ai-settings-debug-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(N)},y=g=>g?r.jsx(kt,{className:"w-4 h-4 text-green-500"}):r.jsx(so,{className:"w-4 h-4 text-red-500"}),j=g=>new Date(g).toLocaleTimeString();return r.jsxs(H,{className:"mt-6 border-orange-200 bg-orange-50",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"w-5 h-5 text-orange-500"}),"AI Settings Debug Panel",r.jsx(ee,{variant:"outline",children:"DEBUG MODE"})]}),r.jsx(ye,{children:"Comprehensive debugging for AI provider management. Only visible in debug mode."})]}),r.jsx(K,{children:r.jsxs(Yn,{defaultValue:"logs",className:"space-y-4",children:[r.jsxs(qn,{children:[r.jsx(Oe,{value:"logs",children:"Debug Logs"}),r.jsx(Oe,{value:"health",children:"System Health"})]}),r.jsx(Ee,{value:"logs",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(V,{onClick:f,size:"sm",variant:"outline",children:[r.jsx(On,{className:"w-4 h-4 mr-1"}),"Refresh"]}),r.jsx(V,{onClick:h,size:"sm",variant:"outline",children:"Clear Logs"}),r.jsxs(V,{onClick:m,size:"sm",variant:"outline",children:[r.jsx(sr,{className:"w-4 h-4 mr-1"}),"Export"]}),r.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[r.jsx(me,{placeholder:"Filter by action",value:l.action,onChange:g=>c(v=>({...v,action:g.target.value})),className:"w-32"}),r.jsx(me,{placeholder:"Trace ID",value:l.traceId,onChange:g=>c(v=>({...v,traceId:g.target.value})),className:"w-32"}),r.jsxs($e,{value:l.status,onValueChange:g=>c(v=>({...v,status:g})),children:[r.jsx(Me,{className:"w-24",children:r.jsx(De,{placeholder:"Status"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"ALL_STATUS",children:"All"}),r.jsx(te,{value:"success",children:"Success"}),r.jsx(te,{value:"error",children:"Error"})]})]})]})]}),r.jsx("div",{className:"border rounded-lg max-h-96 overflow-y-auto",children:i.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No debug logs found. Try interacting with AI provider actions."}):r.jsx("div",{className:"space-y-1",children:i.map(g=>r.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm hover:bg-gray-50 border-b",children:[r.jsx(ee,{variant:g.level==="ERROR"?"destructive":"outline",children:g.level}),r.jsx("span",{className:"font-mono text-xs text-gray-500",children:j(g.timestamp)}),r.jsx("span",{className:"font-medium",children:g.action}),r.jsx(ee,{variant:"outline",className:"font-mono text-xs",children:g.id}),g.network&&r.jsxs(ee,{variant:g.network.status&&g.network.status<400?"default":"destructive",children:[g.network.method," ",g.network.status," (",g.network.duration,"ms)"]}),g.result&&r.jsx("span",{className:`text-xs ${g.result.success?"text-green-600":"text-red-600"}`,children:g.result.message})]},g.id))})})]})}),r.jsx(Ee,{value:"health",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs(V,{onClick:p,size:"sm",variant:"outline",disabled:d,children:[r.jsx(On,{className:`w-4 h-4 mr-1 ${d?"animate-spin":""}`}),"Refresh Health"]}),a&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs(H,{children:[r.jsx(Q,{className:"pb-2",children:r.jsx(X,{className:"text-sm",children:"System Info"})}),r.jsxs(K,{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"API Version:"}),r.jsx(ee,{variant:"outline",children:a.apiVersion})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Git SHA:"}),r.jsx(ee,{variant:"outline",className:"font-mono text-xs",children:a.gitSha.slice(0,8)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Debug Mode:"}),y(a.debug)]})]})]}),a.providerStats&&r.jsxs(H,{children:[r.jsx(Q,{className:"pb-2",children:r.jsx(X,{className:"text-sm",children:"Provider Stats"})}),r.jsxs(K,{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Total Providers:"}),r.jsx(ee,{children:a.providerStats.recordCount})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Active:"}),r.jsx(ee,{variant:"default",children:a.providerStats.activeCount})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"DB Connection:"}),y(a.providerStats.envOk)]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Schema:"}),r.jsx(ee,{variant:"outline",children:a.providerStats.schemaVersion})]})]})]})]})]})})]})})]})}async function ry(e,t){const n=await fetch(`/api${e}`,{cache:"no-store",...t});if(!n.ok)throw new Error(await n.text());return n}async function Mje(e,t){return ry(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0})}const ot=Object.freeze(Object.defineProperty({__proto__:null,api:ry,apiPost:Mje},Symbol.toStringTag,{value:"Module"})),a5=["admin.aiSettings.v2"],$je=()=>Ce({queryKey:a5,queryFn:async()=>await(await ry("/admin/ai-settings")).json(),staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always"}),Dje=()=>{const e=wr();return Ke({mutationFn:t=>ry("/admin/ai-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),onSuccess:()=>e.invalidateQueries({queryKey:a5})})};function Lje(){const{data:e=[]}=$je(),t=Dje(),[n,i]=b.useState({provider:"",modelId:"",isActive:!1}),s=async a=>{if(a.preventDefault(),!n.provider||!n.modelId){alert("Please fill all fields");return}try{await t.mutateAsync({provider:n.provider,modelId:n.modelId,isActive:!0}),i({provider:"",modelId:"",isActive:!1})}catch(o){console.error("Error creating provider:",o),alert("Failed to create provider")}};return r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"AI Provider Management"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Single source of truth - all API keys encrypted and stored securely"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("form",{onSubmit:s,className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[r.jsx(me,{placeholder:"Provider (e.g., openai)",value:n.provider,onChange:a=>i(o=>({...o,provider:a.target.value})),required:!0}),r.jsx(me,{placeholder:"Model ID (e.g., gpt-4o-mini)",value:n.modelId,onChange:a=>i(o=>({...o,modelId:a.target.value})),required:!0}),r.jsxs(V,{type:"submit",disabled:t.isPending,children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),t.isPending?"Adding...":"Add Provider"]})]}),e.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No AI providers configured. Add one above to get started."}):r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Provider"}),r.jsx(tt,{children:"Model"}),r.jsx(tt,{children:"Status"}),r.jsx(tt,{children:"Created"})]})}),r.jsx(Oi,{children:e.map(a=>r.jsxs(en,{children:[r.jsx(Ze,{className:"font-medium",children:a.provider}),r.jsx(Ze,{children:a.modelId}),r.jsx(Ze,{children:r.jsx(ee,{variant:a.isActive?"default":"secondary",children:a.isActive?"Active":"Inactive"})}),r.jsx(Ze,{children:new Date(a.createdAt).toLocaleDateString()}),r.jsx(Ze,{})]},a.id))})]})]})]})}function Fje({value:e,onValueChange:t}){const{data:n,isLoading:i}=Ce({queryKey:["/api/ai-models"],retry:!1});return i?r.jsx($e,{disabled:!0,children:r.jsx(Me,{children:r.jsx(De,{placeholder:"Loading providers..."})})}):r.jsxs($e,{value:e,onValueChange:t,children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select AI provider"})}),r.jsx(Le,{children:n!=null&&n.data?n.data.map(s=>r.jsx(te,{value:s.provider,children:s.displayName},s.id)):null})]})}function qje(){var re,ae,de,we,ht;b.useState(!1);const[e,t]=b.useState({provider:"",model:"",isActive:!1,createdBy:1,testStatus:""}),[n,i]=b.useState({name:""}),[s,a]=b.useState({label:""}),[o,l]=b.useState({name:"",equipmentGroupId:0}),[c,d]=b.useState({name:"",equipmentTypeId:0}),[u,f]=b.useState(null),[p,x]=b.useState(null),[h,m]=b.useState(null),[y,j]=b.useState(null),[g,v]=b.useState(null),[N,w]=b.useState(null),{toast:S}=Mt(),[E,C]=b.useState(null),k=async()=>{try{const{API_ENDPOINTS:L}=await Ye(async()=>{const{API_ENDPOINTS:zt}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:zt}},void 0),Vt=await(await fetch(L.meta())).json();C(Vt)}catch(L){console.error("Failed to fetch system health:",L)}};b.useEffect(()=>{k()},[]);const{data:R,isLoading:P}=Ce({queryKey:["/api/admin/ai-settings"],staleTime:0,refetchOnMount:!0}),{data:A,isLoading:_}=Ce({queryKey:["/api/equipment-groups"],staleTime:0,refetchOnMount:!0}),{data:O,isLoading:D}=Ce({queryKey:["/api/risk-rankings"],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:M,isLoading:G}=Ce({queryKey:["/api/equipment-types"],staleTime:0,refetchOnMount:!0}),{data:z,isLoading:I}=Ce({queryKey:["/api/equipment-subtypes"],staleTime:0,refetchOnMount:!0}),U=Ke({mutationFn:async L=>await st("/api/admin/ai-settings/test",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json"}}),onSuccess:L=>{S({title:"Test Successful",description:"AI provider connection verified successfully"}),t(Se=>({...Se,testStatus:"success"}))},onError:L=>{S({title:"Test Failed",description:"Unable to connect to AI provider. Check your API key.",variant:"destructive"}),t(Se=>({...Se,testStatus:"failed"}))}}),Z=Ke({mutationFn:async L=>await st("/api/equipment-groups",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Group Created",description:"Equipment group added successfully"}),i({name:""}),wt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Equipment group name already exists":"Failed to create equipment group",variant:"destructive"})}}),$=Ke({mutationFn:async({id:L,data:Se})=>await st(`/api/equipment-groups/${L}`,{method:"PUT",body:JSON.stringify(Se),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Group Updated",description:"Equipment group updated successfully"}),f(null),wt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Equipment group name already exists":"Failed to update equipment group",variant:"destructive"})}}),ie=Ke({mutationFn:async L=>await st(`/api/equipment-groups/${L}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Group Deleted",description:"Equipment group deleted successfully"}),wt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment group. It may be in use.",variant:"destructive"})}}),ne=Ke({mutationFn:async L=>await st("/api/risk-rankings",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Risk Ranking Created",description:"Risk ranking added successfully"}),a({label:""}),wt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Risk ranking label already exists":"Failed to create risk ranking",variant:"destructive"})}}),J=Ke({mutationFn:async({id:L,data:Se})=>await st(`/api/risk-rankings/${L}`,{method:"PUT",body:JSON.stringify(Se),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Risk Ranking Updated",description:"Risk ranking updated successfully"}),x(null),wt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Risk ranking label already exists":"Failed to update risk ranking",variant:"destructive"})}}),se=Ke({mutationFn:async L=>await st(`/api/risk-rankings/${L}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Risk Ranking Deleted",description:"Risk ranking deleted successfully"}),wt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:()=>{S({title:"Error",description:"Failed to delete risk ranking. It may be in use.",variant:"destructive"})}}),ue=Ke({mutationFn:async L=>{const Se=new FormData;Se.append("file",L);const{api:Vt}=await Ye(async()=>{const{api:Tt}=await Promise.resolve().then(()=>ot);return{api:Tt}},void 0),zt=await Vt("/equipment-groups/import",{method:"POST",body:Se});if(!zt.ok){const Tt=await zt.json();throw new Error(Tt.message||"Import failed")}return await zt.json()},onSuccess:L=>{S({title:"Import Completed",description:`Imported ${L.imported} equipment groups${L.errors>0?`, ${L.errors} errors`:""}`}),wt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:L=>{S({title:"Import Failed",description:L.message||"Failed to import equipment groups",variant:"destructive"})}}),ke=async()=>{try{const{api:L}=await Ye(async()=>{const{api:_s}=await Promise.resolve().then(()=>ot);return{api:_s}},void 0),Vt=await(await L("/equipment-groups/export")).blob(),zt=window.URL.createObjectURL(Vt),Tt=document.createElement("a");Tt.href=zt,Tt.download="equipment-groups.csv",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),window.URL.revokeObjectURL(zt),S({title:"Export Successful",description:"Equipment groups exported successfully"})}catch{S({title:"Export Failed",description:"Failed to export equipment groups",variant:"destructive"})}},ce=Ke({mutationFn:async L=>{const Se=new FormData;Se.append("file",L);const{api:Vt}=await Ye(async()=>{const{api:Tt}=await Promise.resolve().then(()=>ot);return{api:Tt}},void 0),zt=await Vt("/risk-rankings/import",{method:"POST",body:Se});if(!zt.ok){const Tt=await zt.json();throw new Error(Tt.message||"Import failed")}return await zt.json()},onSuccess:L=>{S({title:"Import Completed",description:`Imported ${L.imported} risk rankings${L.errors>0?`, ${L.errors} errors`:""}`}),wt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:L=>{S({title:"Import Failed",description:L.message||"Failed to import risk rankings",variant:"destructive"})}}),ve=async()=>{try{const{api:L}=await Ye(async()=>{const{api:_s}=await Promise.resolve().then(()=>ot);return{api:_s}},void 0),Vt=await(await L("/risk-rankings/export")).blob(),zt=window.URL.createObjectURL(Vt),Tt=document.createElement("a");Tt.href=zt,Tt.download="risk-rankings.csv",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),window.URL.revokeObjectURL(zt),S({title:"Export Successful",description:"Risk rankings exported successfully"})}catch{S({title:"Export Failed",description:"Failed to export risk rankings",variant:"destructive"})}},he=Ke({mutationFn:async L=>await st("/api/admin/ai-settings",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Settings Saved",description:"AI settings have been updated successfully"}),wt.invalidateQueries({queryKey:["/api/admin/ai-settings"]}),t({provider:"",model:"",isActive:!1,createdBy:1,testStatus:""})},onError:L=>{S({title:"Save Failed",description:L.errorType==="duplicate_provider"?L.message:"Failed to save AI settings. Please try again.",variant:"destructive"})}});async function B(L,Se){return await(await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:void 0})).json()}const fe=Ke({mutationFn:async L=>{const{normalizeAITest:Se}=await Ye(async()=>{const{normalizeAITest:zt}=await import("./aiTestNormalize-DgNhlbC6.js");return{normalizeAITest:zt}},[]),Vt=await B(`/api/admin/ai-settings/${L}/test`);return Se(Vt)},onMutate:()=>{console.log("[UI] Starting provider test...")},onSuccess:L=>{var Se,Vt;if(L.ok)S({title:"Test Successful",description:L.message??`AI test passed ${L.providerId?`(${L.providerId}${L.modelId?` / ${L.modelId}`:""})`:""}`});else{const zt={invalid_api_key:"The API key is invalid or revoked.",model_not_found:"Model is not available; select another or request access.",insufficient_quota:"Quota/billing limit reached for this provider.",rate_limit_exceeded:"Rate limit exceeded. Try again shortly."},Tt=((Se=L.error)==null?void 0:Se.detail)??((Vt=L.error)!=null&&Vt.code?zt[L.error.code]:void 0)??"AI test failed. See server logs for details.";S({title:"Test Failed",description:Tt,variant:"destructive"})}wt.invalidateQueries({queryKey:["/api/admin/ai-settings"]})},onError:()=>{S({title:"Test Failed",description:"AI test failed  request error",variant:"destructive"})}}),pe=Ke({mutationFn:async L=>await st(`/api/admin/ai-settings/${L}`,{method:"DELETE"}),onSuccess:L=>{S({title:"Provider Deleted",description:L.message||"AI provider deleted successfully"}),wt.invalidateQueries({queryKey:["/api/admin/ai-settings"]})},onError:L=>{S({title:"Delete Failed",description:"Failed to delete AI provider",variant:"destructive"})}}),Te=Ke({mutationFn:async L=>await st("/api/equipment-types",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Type Created",description:"Equipment type added successfully"}),l({name:"",equipmentGroupId:0}),wt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Equipment type name already exists for this group":"Failed to create equipment type",variant:"destructive"})}}),Ne=Ke({mutationFn:async({id:L,data:Se})=>await st(`/api/equipment-types/${L}`,{method:"PUT",body:JSON.stringify(Se),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Type Updated",description:"Equipment type updated successfully"}),m(null),wt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Equipment type name already exists":"Failed to update equipment type",variant:"destructive"})}}),et=Ke({mutationFn:async L=>await st(`/api/equipment-types/${L}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Type Deleted",description:"Equipment type deleted successfully"}),wt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment type. It may be in use.",variant:"destructive"})}}),at=Ke({mutationFn:async L=>await st("/api/equipment-subtypes",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Subtype Created",description:"Equipment subtype added successfully"}),d({name:"",equipmentTypeId:0}),wt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Equipment subtype name already exists for this type":"Failed to create equipment subtype",variant:"destructive"})}}),Ct=Ke({mutationFn:async({id:L,data:Se})=>await st(`/api/equipment-subtypes/${L}`,{method:"PUT",body:JSON.stringify(Se),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Subtype Updated",description:"Equipment subtype updated successfully"}),j(null),wt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:L=>{S({title:"Error",description:L.message.includes("already exists")?"Equipment subtype name already exists":"Failed to update equipment subtype",variant:"destructive"})}}),vn=Ke({mutationFn:async L=>await st(`/api/equipment-subtypes/${L}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Subtype Deleted",description:"Equipment subtype deleted successfully"}),wt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment subtype. It may be in use.",variant:"destructive"})}}),Mn=()=>{U.mutate({provider:e.provider})},T=()=>{he.mutate({provider:e.provider,model:e.model,encryptedApiKey:"admin-managed",isActive:e.isActive,createdBy:e.createdBy})},W=L=>L.charAt(0).toUpperCase()+L.slice(1),F=(L,Se)=>L?L==="success"&&Se?r.jsx(ee,{variant:"default",className:"bg-green-500",children:"Active"}):L==="success"?r.jsx(ee,{variant:"outline",children:"Success"}):L==="failed"?r.jsx(ee,{variant:"destructive",children:"Failed"}):r.jsx(ee,{variant:"outline",children:"Unknown"}):r.jsx(ee,{variant:"outline",children:"Unknown"});return r.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[nf.isEnabled()&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-4 py-2 text-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"font-medium text-blue-700",children:" DEBUG MODE ACTIVE"}),r.jsxs("span",{className:"text-blue-600",children:["API v",(E==null?void 0:E.apiVersion)||"loading..."]}),r.jsx("span",{className:"font-mono text-xs text-blue-500",children:((re=E==null?void 0:E.gitSha)==null?void 0:re.slice(0,8))||"workspace"})]}),r.jsxs("div",{className:"text-blue-600",children:[new Date().toLocaleTimeString()," UTC"]})]})}),r.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ir,{to:"/admin",children:r.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[r.jsx(Vi,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Home"})]})}),Ii.map(L=>{const Se=L.icon==="Home"?qp:L.icon==="Database"?rr:L.icon==="Library"?tM:L.icon==="Plug"?Jb:Wn;return r.jsx(ir,{to:L.path,children:r.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"w-4 h-4"}),r.jsx("span",{children:L.label})]})},L.id)})]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"System Administration"})]}),r.jsxs(Yn,{defaultValue:"ai-settings",className:"space-y-6",children:[r.jsxs(qn,{className:"grid w-fit grid-cols-5",children:[Xl.map(L=>r.jsxs(Oe,{value:L.id,className:"flex items-center gap-2",children:[r.jsx(rr,{className:"w-4 h-4"}),L.label]},L.id)),r.jsxs(Oe,{value:"ai-settings",className:"flex items-center gap-2",children:[r.jsx(bs,{className:"w-4 h-4"}),"AI Settings"]})]}),r.jsxs(Ee,{value:"ai-settings",className:"space-y-6",children:[r.jsx(H,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:r.jsx(K,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(pt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Security Notice"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:"API keys are encrypted and stored securely on the backend. They are never exposed to client-side code. All changes are logged with timestamps for audit purposes."})]})]})})}),r.jsx(Oje,{}),r.jsx(H,{children:r.jsxs(K,{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"provider",children:"AI Provider"}),r.jsx(Fje,{value:e.provider,onValueChange:L=>t(Se=>({...Se,provider:L}))})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"model",children:"Model ID"}),r.jsx(me,{id:"model",type:"text",value:e.model,onChange:L=>t(Se=>({...Se,model:L.target.value})),placeholder:"e.g., gpt-4o-mini, claude-3-sonnet-20240229, gemini-pro",className:"w-full"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the specific model ID for your provider. This will be used for API calls."})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:e.isActive,onChange:L=>t(Se=>({...Se,isActive:L.target.checked})),className:"rounded"}),r.jsx(oe,{htmlFor:"isActive",children:"Set as active provider"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(V,{onClick:Mn,disabled:U.isPending,variant:"outline",children:[r.jsx(ej,{className:"w-4 h-4 mr-2"}),U.isPending?"Testing...":"Test Key"]}),r.jsxs(V,{onClick:T,disabled:he.isPending||e.testStatus!=="success",children:[r.jsx(rl,{className:"w-4 h-4 mr-2"}),he.isPending?"Saving...":"Save Settings"]})]}),e.testStatus&&r.jsx("div",{className:"mt-2",children:F(e.testStatus,e.isActive)})]})}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Current AI Providers"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage existing AI provider configurations"})]}),r.jsx(K,{children:P?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading settings..."}):!R||R.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No AI providers configured. Add one above to get started."}):r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Provider"}),r.jsx(tt,{children:"Model"}),r.jsx(tt,{children:"Status"}),r.jsx(tt,{children:"Last Tested"}),r.jsx(tt,{children:"Created"}),r.jsx(tt,{children:"Actions"})]})}),r.jsx(Oi,{children:R.map(L=>r.jsxs(en,{children:[r.jsx(Ze,{className:"font-medium",children:W(L.provider)}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:L.model||"Not specified"}),r.jsx(Ze,{children:F(L.testStatus,L.isActive)}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:L.lastTestedAt?new Date(L.lastTestedAt).toLocaleDateString():"Never"}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:L.createdAt?new Date(L.createdAt).toLocaleDateString():"Unknown"}),r.jsx(Ze,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>fe.mutate(L.id),disabled:fe.isPending,children:[r.jsx(ej,{className:"w-4 h-4 mr-1"}),fe.isPending?"Testing...":"Test"]}),r.jsx(V,{variant:"destructive",size:"sm",onClick:()=>pe.mutate(L.id),disabled:pe.isPending,children:pe.isPending?"Removing...":"Remove"})]})})]},L.id))})]})})]}),r.jsx(Lje,{}),r.jsx(Rje,{isVisible:nf.isEnabled()})]}),r.jsx(Ee,{value:"groups",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"w-5 h-5"}),"Equipment Groups Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((ae=Xl.find(L=>L.id==="groups"))==null?void 0:ae.description)||"Manage equipment groups"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{placeholder:"Enter equipment group name...",value:n.name,onChange:L=>i({name:L.target.value}),onKeyPress:L=>{L.key==="Enter"&&n.name.trim()&&Z.mutate(n)}}),r.jsxs(V,{onClick:()=>Z.mutate(n),disabled:!n.name.trim()||Z.isPending,children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Add Group"]})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(V,{variant:"outline",onClick:()=>g==null?void 0:g.click(),disabled:ue.isPending,children:[r.jsx(ZE,{className:"w-4 h-4 mr-2"}),ue.isPending?"Importing...":"Import CSV"]}),r.jsxs(V,{variant:"outline",onClick:ke,children:[r.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:v,onChange:L=>{var Vt;const Se=(Vt=L.target.files)==null?void 0:Vt[0];Se&&(ue.mutate(Se),L.target.value="")}})]}),_?r.jsx("div",{className:"text-center py-8",children:"Loading equipment groups..."}):r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Name"}),r.jsx(tt,{children:"Status"}),r.jsx(tt,{children:"Created"}),r.jsx(tt,{children:"Actions"})]})}),r.jsx(Oi,{children:Array.isArray(A)&&A.map(L=>r.jsxs(en,{children:[r.jsx(Ze,{children:(u==null?void 0:u.id)===L.id?r.jsx(me,{value:(u==null?void 0:u.name)||"",onChange:Se=>u&&f({...u,name:Se.target.value}),onKeyPress:Se=>{Se.key==="Enter"&&$.mutate({id:L.id,data:{name:(u==null?void 0:u.name)||"",isActive:L.isActive}})}}):r.jsx("span",{className:"font-medium",children:L.name})}),r.jsx(Ze,{children:r.jsx(ee,{variant:L.isActive?"default":"secondary",children:L.isActive?"Active":"Inactive"})}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:new Date(L.createdAt).toLocaleDateString()}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(u==null?void 0:u.id)===L.id?r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",onClick:()=>{$.mutate({id:L.id,data:{name:(u==null?void 0:u.name)||"",isActive:L.isActive}})},disabled:$.isPending,children:"Save"}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>f(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>f({id:L.id,name:L.name}),children:r.jsx(li,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>ie.mutate(L.id),disabled:ie.isPending,children:"Delete"})]})})})]},L.id))})]})]})]})}),r.jsx(Ee,{value:"risks",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"w-5 h-5"}),"Risk Rankings Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((de=Xl.find(L=>L.id==="risks"))==null?void 0:de.description)||"Manage risk rankings"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{placeholder:"Enter risk ranking label...",value:s.label,onChange:L=>a({label:L.target.value}),onKeyPress:L=>{L.key==="Enter"&&s.label.trim()&&ne.mutate(s)}}),r.jsxs(V,{onClick:()=>ne.mutate(s),disabled:!s.label.trim()||ne.isPending,children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Add Ranking"]})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(V,{variant:"outline",onClick:()=>N==null?void 0:N.click(),disabled:ce.isPending,children:[r.jsx(ZE,{className:"w-4 h-4 mr-2"}),ce.isPending?"Importing...":"Import CSV"]}),r.jsxs(V,{variant:"outline",onClick:ve,children:[r.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:w,onChange:L=>{var Vt;const Se=(Vt=L.target.files)==null?void 0:Vt[0];Se&&(ce.mutate(Se),L.target.value="")}})]}),D?r.jsx("div",{className:"text-center py-8",children:"Loading risk rankings..."}):r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Label"}),r.jsx(tt,{children:"Status"}),r.jsx(tt,{children:"Created"}),r.jsx(tt,{children:"Actions"})]})}),r.jsx(Oi,{children:Array.isArray(O)&&O.map(L=>r.jsxs(en,{children:[r.jsx(Ze,{children:(p==null?void 0:p.id)===L.id?r.jsx(me,{value:(p==null?void 0:p.label)||void 0,onChange:Se=>x({id:(p==null?void 0:p.id)||0,label:Se.target.value}),onKeyPress:Se=>{Se.key==="Enter"&&J.mutate({id:L.id,data:{label:(p==null?void 0:p.label)||"",isActive:L.isActive}})}}):r.jsx("span",{className:"font-medium",children:L.label})}),r.jsx(Ze,{children:r.jsx(ee,{variant:L.isActive?"default":"secondary",children:L.isActive?"Active":"Inactive"})}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:new Date(L.createdAt).toLocaleDateString()}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(p==null?void 0:p.id)===L.id?r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",onClick:()=>{J.mutate({id:L.id,data:{label:(p==null?void 0:p.label)||"",isActive:L.isActive}})},disabled:J.isPending,children:"Save"}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>x(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>x({id:L.id,label:L.label}),children:r.jsx(li,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>se.mutate(L.id),disabled:se.isPending,children:"Delete"})]})})})]},L.id))})]})]})]})}),r.jsx(Ee,{value:"types",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(rr,{className:"w-5 h-5"}),"Equipment Types Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((we=Xl.find(L=>L.id==="types"))==null?void 0:we.description)||"Manage equipment types"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{value:o.equipmentGroupId>0?o.equipmentGroupId.toString():void 0,onValueChange:L=>l({...o,equipmentGroupId:parseInt(L)}),children:[r.jsx(Me,{className:"w-[200px]",children:r.jsx(De,{placeholder:"Select Equipment Group"})}),r.jsx(Le,{children:Array.isArray(A)&&A.map(L=>r.jsx(te,{value:L.id.toString(),children:L.name},L.id))})]}),r.jsx(me,{placeholder:"Enter equipment type name...",value:o.name,onChange:L=>l({...o,name:L.target.value}),onKeyPress:L=>{L.key==="Enter"&&o.name.trim()&&o.equipmentGroupId>0&&Te.mutate({name:o.name,equipmentGroupId:o.equipmentGroupId})}}),r.jsxs(V,{onClick:()=>Te.mutate({name:o.name,equipmentGroupId:o.equipmentGroupId}),disabled:!o.name.trim()||o.equipmentGroupId===0||Te.isPending,children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Add Type"]})]}),G?r.jsx("div",{className:"text-center py-8",children:"Loading equipment types..."}):r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Name"}),r.jsx(tt,{children:"Equipment Group"}),r.jsx(tt,{children:"Status"}),r.jsx(tt,{children:"Created"}),r.jsx(tt,{children:"Actions"})]})}),r.jsx(Oi,{children:Array.isArray(M)&&M.map(L=>r.jsxs(en,{children:[r.jsx(Ze,{children:(h==null?void 0:h.id)===L.id?r.jsx(me,{value:(h==null?void 0:h.name)||"",onChange:Se=>h&&m({...h,name:Se.target.value}),onKeyPress:Se=>{Se.key==="Enter"&&Ne.mutate({id:L.id,data:{name:(h==null?void 0:h.name)||""}})},className:"max-w-[200px]"}):L.name}),r.jsx(Ze,{children:L.equipmentGroupName||"N/A"}),r.jsx(Ze,{children:r.jsx(ee,{variant:L.isActive?"default":"secondary",children:L.isActive?"Active":"Inactive"})}),r.jsx(Ze,{children:L.createdAt?new Date(L.createdAt).toLocaleDateString():"N/A"}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(h==null?void 0:h.id)===L.id?r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",onClick:()=>Ne.mutate({id:L.id,data:{name:(h==null?void 0:h.name)||""}}),disabled:Ne.isPending,children:r.jsx(rl,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>m(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>m({id:L.id,name:L.name}),children:r.jsx(li,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>et.mutate(L.id),disabled:et.isPending,children:"Delete"})]})})})]},L.id))})]})]})]})}),r.jsx(Ee,{value:"subtypes",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(rr,{className:"w-5 h-5"}),"Equipment Subtypes Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((ht=Xl.find(L=>L.id==="subtypes"))==null?void 0:ht.description)||"Manage equipment subtypes"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{value:c.equipmentTypeId.toString(),onValueChange:L=>d({...c,equipmentTypeId:parseInt(L)}),children:[r.jsx(Me,{className:"w-[200px]",children:r.jsx(De,{placeholder:"Select Equipment Type"})}),r.jsx(Le,{children:Array.isArray(M)&&M.map(L=>r.jsxs(te,{value:L.id.toString(),children:[L.name," (",L.equipmentGroupName,")"]},L.id))})]}),r.jsx(me,{placeholder:"Enter equipment subtype name...",value:c.name,onChange:L=>d({...c,name:L.target.value}),onKeyPress:L=>{L.key==="Enter"&&c.name.trim()&&c.equipmentTypeId>0&&at.mutate({name:c.name,equipmentTypeId:c.equipmentTypeId})}}),r.jsxs(V,{onClick:()=>at.mutate({name:c.name,equipmentTypeId:c.equipmentTypeId}),disabled:!c.name.trim()||c.equipmentTypeId===0||at.isPending,children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Add Subtype"]})]}),I?r.jsx("div",{className:"text-center py-8",children:"Loading equipment subtypes..."}):r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Name"}),r.jsx(tt,{children:"Equipment Type"}),r.jsx(tt,{children:"Equipment Group"}),r.jsx(tt,{children:"Status"}),r.jsx(tt,{children:"Created"}),r.jsx(tt,{children:"Actions"})]})}),r.jsx(Oi,{children:Array.isArray(z)&&z.map(L=>r.jsxs(en,{children:[r.jsx(Ze,{children:(y==null?void 0:y.id)===L.id?r.jsx(me,{value:(y==null?void 0:y.name)||"",onChange:Se=>y&&j({...y,name:Se.target.value}),onKeyPress:Se=>{Se.key==="Enter"&&Ct.mutate({id:L.id,data:{name:(y==null?void 0:y.name)||""}})},className:"max-w-[200px]"}):L.name}),r.jsx(Ze,{children:L.equipmentTypeName||"N/A"}),r.jsx(Ze,{children:L.equipmentGroupName||"N/A"}),r.jsx(Ze,{children:r.jsx(ee,{variant:L.isActive?"default":"secondary",children:L.isActive?"Active":"Inactive"})}),r.jsx(Ze,{children:L.createdAt?new Date(L.createdAt).toLocaleDateString():"N/A"}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(y==null?void 0:y.id)===L.id?r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",onClick:()=>Ct.mutate({id:L.id,data:{name:(y==null?void 0:y.name)||""}}),disabled:Ct.isPending,children:r.jsx(rl,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>j(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>j({id:L.id,name:L.name}),children:r.jsx(li,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>vn.mutate(L.id),disabled:vn.isPending,children:"Delete"})]})})})]},L.id))})]})]})]})})]})]})}function zje(){const[,e]=fa(),{toast:t}=Mt(),[n,i]=b.useState({whatHappened:"",whereHappened:"",whenHappened:"",consequence:"",detectedBy:""}),s=Ke({mutationFn:async l=>await(await st("/api/investigations/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),onSuccess:l=>{t({title:"Investigation Created",description:"Problem definition complete. Now select investigation type."}),e(`/investigation/${l.investigationId}/type`)},onError:l=>{t({title:"Error",description:"Failed to create investigation. Please try again.",variant:"destructive"})}}),a=l=>{if(l.preventDefault(),!n.whatHappened||!n.whereHappened||!n.whenHappened){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}s.mutate(n)},o=(l,c)=>{i(d=>({...d,[l]:c}))};return r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"New RCA Investigation"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 1 of 4: Problem Definition"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between max-w-2xl",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-sm font-semibold",children:"1"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Problem Definition"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Current Step"})]})]}),r.jsx(_r,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"2"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Investigation Type"}),r.jsx("p",{className:"text-xs text-gray-400",children:"ECFA vs Fault Tree"})]})]}),r.jsx(_r,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"3"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Evidence Collection"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Structured Questionnaire"})]})]}),r.jsx(_r,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"4"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"AI Analysis"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Results & Recommendations"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Problem Definition"]}),r.jsx(ye,{children:"Provide initial information about the incident or failure to investigate."})]}),r.jsx(K,{children:r.jsxs("form",{onSubmit:a,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"whatHappened",className:"text-base font-medium",children:"What happened? *"}),r.jsx(Qe,{id:"whatHappened",placeholder:"Describe the incident, failure, or problem that occurred...",value:n.whatHappened,onChange:l=>o("whatHappened",l.target.value),required:!0,className:"mt-2 min-h-[100px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"whereHappened",className:"text-base font-medium",children:"Where did it happen? *"}),r.jsx(me,{id:"whereHappened",placeholder:"Location, area, system, or equipment",value:n.whereHappened,onChange:l=>o("whereHappened",l.target.value),required:!0,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"whenHappened",className:"text-base font-medium",children:"When did it happen? *"}),r.jsx(me,{id:"whenHappened",type:"datetime-local",value:n.whenHappened,onChange:l=>o("whenHappened",l.target.value),required:!0,className:"mt-2"})]})]}),r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"consequence",className:"text-base font-medium",children:"What is the consequence or impact?"}),r.jsx(Qe,{id:"consequence",placeholder:"Describe the consequences, impacts, or effects...",value:n.consequence,onChange:l=>o("consequence",l.target.value),className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"detectedBy",className:"text-base font-medium",children:"Who detected or reported the event?"}),r.jsx(me,{id:"detectedBy",placeholder:"Name, role, or system that detected the issue",value:n.detectedBy,onChange:l=>o("detectedBy",l.target.value),className:"mt-2"})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Creating Investigation...":r.jsxs(r.Fragment,{children:["Continue to Investigation Type",r.jsx(_r,{className:"h-4 w-4 ml-2"})]})})]})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(rn,{children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"New Methodology:"})," This investigation follows a structured approach with mandatory investigation type selection (ECFA vs Fault Tree) that determines all subsequent workflow, forms, and analysis logic."]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{className:"text-lg",children:"Investigation Types"})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA (Event-Causal Factor Analysis)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For all safety and environmental incidents. Focuses on event chronology, barriers, and contributing factors."})]}),r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Fault Tree Analysis (FTA)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For plant asset or equipment failures. Uses structured questionnaire with 8 sections and ISO 14224 taxonomy."})]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{className:"text-lg",children:"What happens next?"})}),r.jsxs(K,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Investigation Type Selection"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mandatory choice between ECFA and Fault Tree Analysis"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Dynamic Evidence Collection"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured forms based on your investigation type selection"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"AI Analysis & Results"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analysis only after 80% evidence completion requirement"})]})]})]})]})]})]})]})}function Bje(){hi();const e=yo(),t=wz(),{toast:n}=Mt(),i=t==null?void 0:t.id,[s,a]=b.useState(""),{data:o,isLoading:l}=Ce({queryKey:["/api/investigations",i],enabled:!!i}),c=Ke({mutationFn:async f=>st(`/api/investigations/${i}/type`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investigationType:f})}),onSuccess:f=>{n({title:"Investigation Type Set",description:`${s==="safety_environmental"?"ECFA":"Fault Tree Analysis"} workflow activated.`}),e(`/investigation/${i}/evidence`)},onError:f=>{n({title:"Error",description:"Failed to set investigation type. Please try again.",variant:"destructive"})}}),d=f=>{a(f)},u=()=>{if(!s){n({title:"Selection Required",description:"Please select an investigation type to continue.",variant:"destructive"});return}c.mutate(s)};return l?r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading investigation..."})]})})}):o?r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Investigation Type Selection"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 2 of 4: Choose your investigation methodology"})]}),r.jsxs(H,{className:"mb-8",children:[r.jsx(Q,{children:r.jsx(X,{className:"text-lg",children:"Problem Summary"})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"What happened:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whatHappened})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Where:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whereHappened})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"When:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(o.whenHappened).toLocaleString()})]}),o.consequence&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Impact:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.consequence})]})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsxs(rn,{className:"border-2 border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[r.jsx(pt,{className:"h-5 w-5 text-amber-600"}),r.jsxs(sn,{className:"text-base font-medium text-amber-800 dark:text-amber-200",children:[r.jsx("strong",{children:"Mandatory Selection:"})," Is this investigation related to a safety or environmental incident?",r.jsx("br",{}),r.jsx("span",{className:"text-sm font-normal mt-2 block",children:"This choice is mandatory and sets all downstream logic, forms, analysis methods, and outputs."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(H,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="safety_environmental"?"ring-2 ring-red-500 bg-red-50 dark:bg-red-950 border-red-200":"hover:border-red-300"}`,onClick:()=>d("safety_environmental"),children:[r.jsx(Q,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:r.jsx(bs,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsx(X,{className:"text-xl text-red-700 dark:text-red-300",children:"YES - Safety/External"}),r.jsx(ee,{variant:"destructive",className:"mt-1",children:"ECFA Methodology"})]})]}),s==="safety_environmental"&&r.jsx(kt,{className:"h-6 w-6 text-red-600"})]})}),r.jsxs(K,{children:[r.jsx(ye,{className:"text-base mb-4",children:"For all safety and environmental incidents requiring Event-Causal Factor Analysis."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA Framework includes:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Event chronology and timeline reconstruction"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Immediate, underlying, and root causes analysis"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Barriers and contributing factors assessment"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Risk/severity assessment and regulatory reporting"]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:r.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[r.jsx("strong",{children:"Use for:"})," Personal injury, environmental releases, fires/explosions, process safety events, near misses, security incidents"]})})]})]}),r.jsxs(H,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="equipment_failure"?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950 border-blue-200":"hover:border-blue-300"}`,onClick:()=>d("equipment_failure"),children:[r.jsx(Q,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsx(p1,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx(X,{className:"text-xl text-blue-700 dark:text-blue-300",children:"NO - Equipment/Process Failure"}),r.jsx(ee,{variant:"secondary",className:"mt-1 bg-blue-100 text-blue-800",children:"Fault Tree Analysis"})]})]}),s==="equipment_failure"&&r.jsx(kt,{className:"h-6 w-6 text-blue-600"})]})}),r.jsxs(K,{children:[r.jsx(ye,{className:"text-base mb-4",children:"For plant asset or equipment failures using structured Fault Tree Analysis with ISO 14224 taxonomy."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"8-Section Questionnaire:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"General Information (Equipment taxonomy & hierarchy)"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Failure/Event Details & Operating Mode"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Symptom & Evidence Collection"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Operating & Maintenance History"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Equipment-Specific Parameters (conditional)"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Human Factors & Materials/Spares"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Contributing/External Factors"]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[r.jsx("strong",{children:"Use for:"})," Pump failures, motor issues, valve problems, process equipment breakdowns, instrument malfunctions"]})})]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(V,{onClick:u,disabled:!s||c.isPending,size:"lg",className:"min-w-[200px]",children:c.isPending?"Setting Investigation Type...":r.jsxs(r.Fragment,{children:["Continue to Evidence Collection",r.jsx(_r,{className:"h-4 w-4 ml-2"})]})})}),s&&r.jsxs(H,{className:"mt-8",children:[r.jsx(Q,{children:r.jsx(X,{className:"text-lg",children:"Next: Evidence Collection"})}),r.jsxs(K,{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Based on your selection, you'll complete:"}),s==="safety_environmental"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"ECFA-Specific Forms:"}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:" Event classification and timeline"}),r.jsx("li",{children:" Immediate and root cause analysis"}),r.jsx("li",{children:" Barrier analysis and contributing factors"}),r.jsx("li",{children:" Risk assessment and regulatory status"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Fault Tree Questionnaire (8 Sections):"}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:" Equipment information with ISO 14224 taxonomy"}),r.jsx("li",{children:" Dynamic questions based on equipment type"}),r.jsx("li",{children:" Equipment-specific parameters (pressure, temperature, etc.)"}),r.jsx("li",{children:" Validation ensures 80% completion before analysis"})]})]})]})]})]}):r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsxs(rn,{children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsx(sn,{children:"Investigation not found. Please check the URL or start a new investigation."})]})})}const Uje=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Td(e,t,n){const i=Vje(e),{webkitRelativePath:s}=e,a=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof i.path!="string"&&_P(i,"path",a),_P(i,"relativePath",a),i}function Vje(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),s=Uje.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function _P(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Wje=[".DS_Store","Thumbs.db"];function Hje(e){return Dl(this,void 0,void 0,function*(){return nv(e)&&Gje(e.dataTransfer)?Xje(e.dataTransfer,e.type):Kje(e)?Yje(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Qje(e):[]})}function Gje(e){return nv(e)}function Kje(e){return nv(e)&&nv(e.target)}function nv(e){return typeof e=="object"&&e!==null}function Yje(e){return Uw(e.target.files).map(t=>Td(t))}function Qje(e){return Dl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Td(n))})}function Xje(e,t){return Dl(this,void 0,void 0,function*(){if(e.items){const n=Uw(e.items).filter(s=>s.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(Zje));return PP(o5(i))}return PP(Uw(e.files).map(n=>Td(n)))})}function PP(e){return e.filter(t=>Wje.indexOf(t.name)===-1)}function Uw(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Zje(e){if(typeof e.webkitGetAsEntry!="function")return TP(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?l5(t):TP(e,t)}function o5(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?o5(n):[n]],[])}function TP(e,t){return Dl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,Td(o)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return Td(i,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Jje(e){return Dl(this,void 0,void 0,function*(){return e.isDirectory?l5(e):ewe(e)})}function l5(e){const t=e.createReader();return new Promise((n,i)=>{const s=[];function a(){t.readEntries(o=>Dl(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Jje));s.push(l),a()}else try{const l=yield Promise.all(s);n(l)}catch(l){i(l)}}),o=>{i(o)})}a()})}function ewe(e){return Dl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const s=Td(i,e.fullPath);t(s)},i=>{n(i)})})})}var P0=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0};function OP(e){return rwe(e)||nwe(e)||d5(e)||twe()}function twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rwe(e){if(Array.isArray(e))return Vw(e)}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function RP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(i){c5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function c5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cp(e,t){return awe(e)||swe(e,t)||d5(e,t)||iwe()}function iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d5(e,t){if(e){if(typeof e=="string")return Vw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vw(e,t)}}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function swe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function awe(e){if(Array.isArray(e))return e}var owe=typeof P0=="function"?P0:P0.default,lwe="file-invalid-type",cwe="file-too-large",dwe="file-too-small",uwe="too-many-files",fwe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:lwe,message:"File type must be ".concat(i)}},MP=function(t){return{code:cwe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},$P=function(t){return{code:dwe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},pwe={code:uwe,message:"Too many files"};function u5(e,t){var n=e.type==="application/x-moz-file"||owe(e,t);return[n,n?null:fwe(t)]}function f5(e,t,n){if(Fo(e.size))if(Fo(t)&&Fo(n)){if(e.size>n)return[!1,MP(n)];if(e.size<t)return[!1,$P(t)]}else{if(Fo(t)&&e.size<t)return[!1,$P(t)];if(Fo(n)&&e.size>n)return[!1,MP(n)]}return[!0,null]}function Fo(e){return e!=null}function mwe(e){var t=e.files,n=e.accept,i=e.minSize,s=e.maxSize,a=e.multiple,o=e.maxFiles,l=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(c){var d=u5(c,n),u=cp(d,1),f=u[0],p=f5(c,i,s),x=cp(p,1),h=x[0],m=l?l(c):null;return f&&h&&!m})}function rv(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Gm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function DP(e){e.preventDefault()}function hwe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function xwe(e){return e.indexOf("Edge/")!==-1}function vwe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hwe(e)||xwe(e)}function ts(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return t.some(function(l){return!rv(i)&&l&&l.apply(void 0,[i].concat(a)),rv(i)})}}function gwe(){return"showOpenFilePicker"in window}function ywe(e){if(Fo(e)){var t=Object.entries(e).filter(function(n){var i=cp(n,2),s=i[0],a=i[1],o=!0;return p5(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(m5))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var s=cp(i,2),a=s[0],o=s[1];return RP(RP({},n),{},c5({},a,o))},{});return[{description:"Files",accept:t}]}return e}function bwe(e){if(Fo(e))return Object.entries(e).reduce(function(t,n){var i=cp(n,2),s=i[0],a=i[1];return[].concat(OP(t),[s],OP(a))},[]).filter(function(t){return p5(t)||m5(t)}).join(",")}function jwe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wwe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function p5(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function m5(e){return/^.*\.[\w]+$/.test(e)}var Nwe=["children"],Swe=["open"],Cwe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ewe=["refKey","onChange","onClick"];function kwe(e){return Pwe(e)||_we(e)||h5(e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _we(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pwe(e){if(Array.isArray(e))return Ww(e)}function T0(e,t){return Iwe(e)||Owe(e,t)||h5(e,t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5(e,t){if(e){if(typeof e=="string")return Ww(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ww(e,t)}}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Owe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function Iwe(e){if(Array.isArray(e))return e}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(i){Hw(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Hw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iv(e,t){if(e==null)return{};var n=Rwe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Rwe(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var tC=b.forwardRef(function(e,t){var n=e.children,i=iv(e,Nwe),s=nC(i),a=s.open,o=iv(s,Swe);return b.useImperativeHandle(t,function(){return{open:a}},[a]),q.createElement(b.Fragment,null,n(cn(cn({},o),{},{open:a})))});tC.displayName="Dropzone";var x5={disabled:!1,getFilesFromEvent:Hje,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};tC.defaultProps=x5;tC.propTypes={children:Je.func,accept:Je.objectOf(Je.arrayOf(Je.string)),multiple:Je.bool,preventDropOnDocument:Je.bool,noClick:Je.bool,noKeyboard:Je.bool,noDrag:Je.bool,noDragEventsBubbling:Je.bool,minSize:Je.number,maxSize:Je.number,maxFiles:Je.number,disabled:Je.bool,getFilesFromEvent:Je.func,onFileDialogCancel:Je.func,onFileDialogOpen:Je.func,useFsAccessApi:Je.bool,autoFocus:Je.bool,onDragEnter:Je.func,onDragLeave:Je.func,onDragOver:Je.func,onDrop:Je.func,onDropAccepted:Je.func,onDropRejected:Je.func,onError:Je.func,validator:Je.func};var Gw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function nC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=cn(cn({},x5),e),n=t.accept,i=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,p=t.onDrop,x=t.onDropAccepted,h=t.onDropRejected,m=t.onFileDialogCancel,y=t.onFileDialogOpen,j=t.useFsAccessApi,g=t.autoFocus,v=t.preventDropOnDocument,N=t.noClick,w=t.noKeyboard,S=t.noDrag,E=t.noDragEventsBubbling,C=t.onError,k=t.validator,R=b.useMemo(function(){return bwe(n)},[n]),P=b.useMemo(function(){return ywe(n)},[n]),A=b.useMemo(function(){return typeof y=="function"?y:FP},[y]),_=b.useMemo(function(){return typeof m=="function"?m:FP},[m]),O=b.useRef(null),D=b.useRef(null),M=b.useReducer(Mwe,Gw),G=T0(M,2),z=G[0],I=G[1],U=z.isFocused,Z=z.isFileDialogActive,$=b.useRef(typeof window<"u"&&window.isSecureContext&&j&&gwe()),ie=function(){!$.current&&Z&&setTimeout(function(){if(D.current){var re=D.current.files;re.length||(I({type:"closeDialog"}),_())}},300)};b.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[D,Z,_,$]);var ne=b.useRef([]),J=function(re){O.current&&O.current.contains(re.target)||(re.preventDefault(),ne.current=[])};b.useEffect(function(){return v&&(document.addEventListener("dragover",DP,!1),document.addEventListener("drop",J,!1)),function(){v&&(document.removeEventListener("dragover",DP),document.removeEventListener("drop",J))}},[O,v]),b.useEffect(function(){return!i&&g&&O.current&&O.current.focus(),function(){}},[O,g,i]);var se=b.useCallback(function(F){C?C(F):console.error(F)},[C]),ue=b.useCallback(function(F){F.preventDefault(),F.persist(),vn(F),ne.current=[].concat(kwe(ne.current),[F.target]),Gm(F)&&Promise.resolve(s(F)).then(function(re){if(!(rv(F)&&!E)){var ae=re.length,de=ae>0&&mwe({files:re,accept:R,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:k}),we=ae>0&&!de;I({isDragAccept:de,isDragReject:we,isDragActive:!0,type:"setDraggedFiles"}),d&&d(F)}}).catch(function(re){return se(re)})},[s,d,se,E,R,o,a,l,c,k]),ke=b.useCallback(function(F){F.preventDefault(),F.persist(),vn(F);var re=Gm(F);if(re&&F.dataTransfer)try{F.dataTransfer.dropEffect="copy"}catch{}return re&&f&&f(F),!1},[f,E]),ce=b.useCallback(function(F){F.preventDefault(),F.persist(),vn(F);var re=ne.current.filter(function(de){return O.current&&O.current.contains(de)}),ae=re.indexOf(F.target);ae!==-1&&re.splice(ae,1),ne.current=re,!(re.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Gm(F)&&u&&u(F))},[O,u,E]),ve=b.useCallback(function(F,re){var ae=[],de=[];F.forEach(function(we){var ht=u5(we,R),L=T0(ht,2),Se=L[0],Vt=L[1],zt=f5(we,o,a),Tt=T0(zt,2),_s=Tt[0],Ll=Tt[1],iu=k?k(we):null;if(Se&&_s&&!iu)ae.push(we);else{var Fl=[Vt,Ll];iu&&(Fl=Fl.concat(iu)),de.push({file:we,errors:Fl.filter(function(yq){return yq})})}}),(!l&&ae.length>1||l&&c>=1&&ae.length>c)&&(ae.forEach(function(we){de.push({file:we,errors:[pwe]})}),ae.splice(0)),I({acceptedFiles:ae,fileRejections:de,isDragReject:de.length>0,type:"setFiles"}),p&&p(ae,de,re),de.length>0&&h&&h(de,re),ae.length>0&&x&&x(ae,re)},[I,l,R,o,a,c,p,x,h,k]),he=b.useCallback(function(F){F.preventDefault(),F.persist(),vn(F),ne.current=[],Gm(F)&&Promise.resolve(s(F)).then(function(re){rv(F)&&!E||ve(re,F)}).catch(function(re){return se(re)}),I({type:"reset"})},[s,ve,se,E]),B=b.useCallback(function(){if($.current){I({type:"openDialog"}),A();var F={multiple:l,types:P};window.showOpenFilePicker(F).then(function(re){return s(re)}).then(function(re){ve(re,null),I({type:"closeDialog"})}).catch(function(re){jwe(re)?(_(re),I({type:"closeDialog"})):wwe(re)?($.current=!1,D.current?(D.current.value=null,D.current.click()):se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):se(re)});return}D.current&&(I({type:"openDialog"}),A(),D.current.value=null,D.current.click())},[I,A,_,j,ve,se,P,l]),fe=b.useCallback(function(F){!O.current||!O.current.isEqualNode(F.target)||(F.key===" "||F.key==="Enter"||F.keyCode===32||F.keyCode===13)&&(F.preventDefault(),B())},[O,B]),pe=b.useCallback(function(){I({type:"focus"})},[]),Te=b.useCallback(function(){I({type:"blur"})},[]),Ne=b.useCallback(function(){N||(vwe()?setTimeout(B,0):B())},[N,B]),et=function(re){return i?null:re},at=function(re){return w?null:et(re)},Ct=function(re){return S?null:et(re)},vn=function(re){E&&re.stopPropagation()},Mn=b.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=F.refKey,ae=re===void 0?"ref":re,de=F.role,we=F.onKeyDown,ht=F.onFocus,L=F.onBlur,Se=F.onClick,Vt=F.onDragEnter,zt=F.onDragOver,Tt=F.onDragLeave,_s=F.onDrop,Ll=iv(F,Cwe);return cn(cn(Hw({onKeyDown:at(ts(we,fe)),onFocus:at(ts(ht,pe)),onBlur:at(ts(L,Te)),onClick:et(ts(Se,Ne)),onDragEnter:Ct(ts(Vt,ue)),onDragOver:Ct(ts(zt,ke)),onDragLeave:Ct(ts(Tt,ce)),onDrop:Ct(ts(_s,he)),role:typeof de=="string"&&de!==""?de:"presentation"},ae,O),!i&&!w?{tabIndex:0}:{}),Ll)}},[O,fe,pe,Te,Ne,ue,ke,ce,he,w,S,i]),T=b.useCallback(function(F){F.stopPropagation()},[]),W=b.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=F.refKey,ae=re===void 0?"ref":re,de=F.onChange,we=F.onClick,ht=iv(F,Ewe),L=Hw({accept:R,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:et(ts(de,he)),onClick:et(ts(we,T)),tabIndex:-1},ae,D);return cn(cn({},L),ht)}},[D,n,l,he,i]);return cn(cn({},z),{},{isFocused:U&&!i,getRootProps:Mn,getInputProps:W,rootRef:O,inputRef:D,open:et(B)})}function Mwe(e,t){switch(t.type){case"focus":return cn(cn({},e),{},{isFocused:!0});case"blur":return cn(cn({},e),{},{isFocused:!1});case"openDialog":return cn(cn({},Gw),{},{isFileDialogActive:!0});case"closeDialog":return cn(cn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return cn(cn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return cn(cn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return cn({},Gw);default:return e}}function FP(){}function qP(){const[,e]=fa(),[t,n]=b.useState(null),[i,s]=b.useState([]),[a,o]=b.useState(""),[l,c]=b.useState(!1),[d,u]=b.useState(0);b.useEffect(()=>{const S=new URLSearchParams(window.location.search).get("incident");S&&n(parseInt(S))},[]);const{data:f,isLoading:p}=Ce({queryKey:["/api/incidents",t],enabled:!!t}),x=Ke({mutationFn:async w=>{const{apiPost:S}=await Ye(async()=>{const{apiPost:C}=await Promise.resolve().then(()=>ot);return{apiPost:C}},void 0),E=await S(`/incidents/${w.id}/generate-evidence-categories`,{equipmentGroup:w.equipmentGroup,equipmentType:w.equipmentType,evidenceChecklist:w.evidenceChecklist});if(!E.ok)throw new Error(`Failed to generate categories: ${E.status}`);return await E.json()},onSuccess:w=>{console.log("Evidence categories generated:",w),w&&w.categories&&Array.isArray(w.categories)?(s(w.categories),w.categories.length>0&&o(w.categories[0].id)):(console.error("Invalid evidence categories format:",w),s([]))},onError:w=>{console.error("Failed to generate evidence categories:",w)}}),h=Ke({mutationFn:async w=>{const S=new FormData;S.append("files",w.file),S.append("categoryId",w.categoryId),S.append("incidentId",t.toString()),w.description&&S.append("description",w.description);const{api:E}=await Ye(async()=>{const{api:k}=await Promise.resolve().then(()=>ot);return{api:k}},void 0),C=await E(`/incidents/${t}/upload-evidence`,{method:"POST",body:S});if(!C.ok){const k=await C.text();throw console.error("Upload failed:",k),new Error(`Upload failed: ${C.status}`)}return await C.json()},onSuccess:(w,S)=>{s(E=>E.map(C=>C.id===S.categoryId?{...C,files:[...C.files,w.file]}:C)),c(!1)}});b.useEffect(()=>{f&&Array.isArray(i)&&i.length===0&&f.id&&f.title&&f.equipmentGroup&&f.equipmentType&&x.mutate(f)},[f]),b.useEffect(()=>{if(Array.isArray(i)&&i.length>0){const w=i.filter(P=>P.required),S=w.filter(P=>{var A;return P.files.length>0||P.isUnavailable&&((A=P.unavailableReason)==null?void 0:A.trim())}),E=i.filter(P=>!P.required),C=E.filter(P=>{var A;return P.files.length>0||P.isUnavailable&&((A=P.unavailableReason)==null?void 0:A.trim())}),k=w.length>0?S.length/w.length*70:70,R=E.length>0?C.length/E.length*30:30;u(Math.round(k+R))}},[i]);const m=(w,S,E)=>{w.forEach(C=>{c(!0),h.mutate({file:C,categoryId:S,description:E})})},y=(w,S)=>{s(E=>E.map(C=>C.id===w?{...C,files:C.files.filter(k=>k.id!==S)}:C))},j=(w,S,E)=>{s(C=>C.map(k=>k.id===w?{...k,isUnavailable:S,unavailableReason:E||"",files:S?[]:k.files}:k))},g=i.filter(w=>w.required).every(w=>{var S;return w.files.length>0||w.isUnavailable&&((S=w.unavailableReason)==null?void 0:S.trim())}),v=()=>{t&&(console.log("[EVIDENCE COLLECTION] Proceeding to MANDATORY Stage 3B Human Review"),window.location.href=`/human-review?incident=${t}`)};if(p||!f)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})});const N=i.find(w=>w.id===a);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(V,{variant:"ghost",onClick:()=>e("/"),children:" Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 4: Evidence Collection"})]})]}),r.jsxs(ee,{variant:"outline",className:"text-sm",children:["Incident #",(f==null?void 0:f.id)||"Loading..."]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(H,{className:"mb-8",children:r.jsxs(Q,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),(f==null?void 0:f.title)||"Loading..."]}),r.jsxs(ye,{children:["Equipment: ",(f==null?void 0:f.equipmentGroup)||"Unknown","  ",(f==null?void 0:f.equipmentType)||"Unknown"," (",(f==null?void 0:f.equipmentId)||"Unknown",")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[d,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Evidence Collected"})]})]}),r.jsx(Vr,{value:d,className:"mt-4"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-base",children:"Evidence Categories"}),r.jsxs(ye,{children:[i.filter(w=>w.required).length," required, ",i.filter(w=>!w.required).length," optional"]})]}),r.jsx(K,{className:"space-y-2",children:i.map(w=>r.jsxs("button",{onClick:()=>o(w.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${a===w.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${w.isUnavailable?"bg-orange-50 border-orange-200":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-sm",children:w.name}),w.isUnavailable?r.jsx(Rr,{className:"h-4 w-4 text-orange-600"}):w.files.length>0?r.jsx(kt,{className:"h-4 w-4 text-green-600"}):w.required?r.jsx(pt,{className:"h-4 w-4 text-orange-500"}):r.jsx("div",{className:"h-4 w-4"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ee,{variant:w.required?"destructive":"secondary",className:"text-xs",children:w.required?"Required":"Optional"}),w.isUnavailable&&r.jsx(ee,{variant:"outline",className:"text-xs bg-orange-100 border-orange-300",children:"Not Available"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:w.isUnavailable?"Documented":`${w.files.length}/${w.maxFiles} files`})]})]},w.id))})]})}),r.jsx("div",{className:"lg:col-span-3",children:N&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[N.name,r.jsx(ee,{variant:N.required?"destructive":"secondary",children:N.required?"Required":"Optional"}),N.isUnavailable&&r.jsx(ee,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800",children:"Not Available"})]}),r.jsx(ye,{children:N.description})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:N.isUnavailable?"Evidence documented as unavailable":`${N.files.length} / ${N.maxFiles} files`})]})}),r.jsx(K,{children:r.jsx($we,{category:N,onFileUpload:m,onRemoveFile:y,isUploading:l,onUnavailabilityChange:j})})]})})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(V,{variant:"outline",onClick:()=>e(`/evidence-checklist?incident=${t}`),children:" Back to Evidence Checklist"}),r.jsx(V,{onClick:v,disabled:!g,className:"flex items-center gap-2",children:r.jsxs(r.Fragment,{children:["Proceed to Human Review (Stage 3B)",r.jsx(Fp,{className:"h-4 w-4"})]})})]}),!g&&i.length>0&&r.jsxs(rn,{className:"mt-4 border-amber-200 bg-amber-50",children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"Requirements:"})," For each required evidence category, either upload files OR mark as unavailable with explanation."]})]})]})]})}function $we({category:e,onFileUpload:t,onRemoveFile:n,isUploading:i,onUnavailabilityChange:s}){const[a,o]=b.useState(""),[l,c]=b.useState(e.unavailableReason||""),{getRootProps:d,getInputProps:u,isDragActive:f}=nC({onDrop:p=>{p.length>0&&(t(p,e.id,a),o(""))},accept:e.acceptedTypes.reduce((p,x)=>{const m={pdf:["application/pdf"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],csv:["text/csv"],txt:["text/plain"],jpg:["image/jpeg"],png:["image/png"],gif:["image/gif"],docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}[x]||[x];return{...p,...m.reduce((y,j)=>({...y,[j]:[]}),{})}},{}),maxFiles:e.maxFiles-e.files.length,disabled:e.files.length>=e.maxFiles||i});return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"border rounded-lg p-4 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ar,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:p=>{s(e.id,p,l)}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(oe,{htmlFor:`unavailable-${e.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-orange-600"}),"This evidence is not available or accessible"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&r.jsxs("div",{className:"mt-3",children:[r.jsx(oe,{htmlFor:`reason-${e.id}`,className:"text-sm font-medium",children:"Why is this evidence unavailable? *"}),r.jsx(Qe,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:l,onChange:p=>{c(p.target.value),s(e.id,!0,p.target.value)},className:"mt-1",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&e.files.length<e.maxFiles&&r.jsxs("div",{...d(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${f?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${i?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("input",{...u()}),r.jsx(ao,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-lg font-medium",children:f?"Drop files here":"Drag files here or click to browse"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Accepted: ",e.acceptedTypes.join(", ")]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",e.maxFiles," files, ",e.files.length," uploaded"]})]})]}),!e.isUnavailable&&e.files.length<e.maxFiles&&r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"file-description",className:"text-sm font-medium",children:"Optional Description"}),r.jsx(Qe,{id:"file-description",placeholder:"Describe what this evidence shows...",value:a,onChange:p=>o(p.target.value),className:"mt-1",rows:2})]}),e.files.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:["Uploaded Files",e.isUnavailable&&r.jsx(ee,{variant:"outline",className:"text-xs bg-amber-100 border-amber-300",children:"Files uploaded but evidence marked unavailable"})]}),e.files.map(p=>r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${e.isUnavailable?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{className:`h-5 w-5 ${e.isUnavailable?"text-amber-600":"text-green-600"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:p.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p.size/1024/1024).toFixed(2)," MB  ",p.type]}),p.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",asChild:!0,children:r.jsx("a",{href:p.url,download:!0,children:r.jsx(sr,{className:"h-4 w-4"})})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>n(e.id,p.id),children:r.jsx(sa,{className:"h-4 w-4"})})]})]},p.id)),e.isUnavailable&&r.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 p-2 rounded border border-amber-200",children:[r.jsx("strong",{children:"Note:"}),' Evidence is marked as unavailable but files are still uploaded. You can remove files or uncheck "not available" to use uploaded evidence.']})]}),e.isUnavailable&&e.unavailableReason&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-orange-800 mb-2 flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4"}),"Evidence Unavailability Documentation"]}),r.jsxs("p",{className:"text-sm text-orange-700 mb-2",children:[r.jsx("strong",{children:"Reason:"})," ",e.unavailableReason]}),r.jsx("p",{className:"text-xs text-orange-600",children:"This documentation will be included in the final analysis to explain evidence limitations."})]}),e.files.length>=e.maxFiles&&r.jsxs(rn,{className:"border-green-200 bg-green-50",children:[r.jsx(kt,{className:"h-4 w-4"}),r.jsxs(sn,{children:["This category is complete! You've uploaded the maximum number of files (",e.maxFiles,")."]})]})]})}function Dwe(){var U,Z,$,ie,ne,J,se,ue,ke,ce,ve,he;const{toast:e}=Mt(),t=wr(),[n,i]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState({}),[u,f]=b.useState(""),[p,x]=b.useState("all"),[h,m]=b.useState("equipmentType"),[y,j]=b.useState("asc"),[g,v]=b.useState(!1),[N,w]=b.useState("all"),[S,E]=b.useState("all"),{data:C,isLoading:k,error:R}=Ce({queryKey:["/api/evidence-library"]});console.log("Query State:",{isLoading:k,error:R==null?void 0:R.message,hasData:!!C,dataKeys:C?Object.keys(C):[],itemCount:Array.isArray(C)?C.length:0});const P=b.useMemo(()=>{if(!Array.isArray(C))return[];let B=C;if(u.trim()){const fe=u.toLowerCase().trim();B=B.filter(pe=>[pe.equipmentGroup,pe.equipmentType,pe.subtype,pe.componentFailureMode,pe.equipmentCode,pe.failureCode].join(" ").toLowerCase().includes(fe))}if(p!=="all"&&(B=B.filter(fe=>{var pe,Te,Ne,et,at;switch(p){case"rotating":return(pe=fe.equipmentGroup)==null?void 0:pe.toLowerCase().includes("rotating");case"electrical":return(Te=fe.equipmentGroup)==null?void 0:Te.toLowerCase().includes("electrical");case"control":return(Ne=fe.equipmentGroup)==null?void 0:Ne.toLowerCase().includes("control");case"environmental":return(et=fe.equipmentGroup)==null?void 0:et.toLowerCase().includes("environmental");case"instrumentation":return(at=fe.equipmentGroup)==null?void 0:at.toLowerCase().includes("instrumentation");default:return!0}})),N!=="all"&&(B=B.filter(fe=>{var pe,Te,Ne,et,at;switch(N){case"rotating":return(pe=fe.equipmentGroup)==null?void 0:pe.toLowerCase().includes("rotating");case"electrical":return(Te=fe.equipmentGroup)==null?void 0:Te.toLowerCase().includes("electrical");case"control":return(Ne=fe.equipmentGroup)==null?void 0:Ne.toLowerCase().includes("control");case"environmental":return(et=fe.equipmentGroup)==null?void 0:et.toLowerCase().includes("environmental");case"instrumentation":return(at=fe.equipmentGroup)==null?void 0:at.toLowerCase().includes("instrumentation");default:return!0}})),S!=="all"){const fe=new Date;B=B.filter(pe=>{const Te=new Date(pe.lastUpdated||""),Ne=Math.floor((fe.getTime()-Te.getTime())/(1e3*60*60*24));switch(S){case"recent":return Ne<=7;case"week":return Ne<=30;case"month":return Ne<=90;case"old":return Ne>90;default:return!0}})}return B.sort((fe,pe)=>{let Te,Ne;switch(h){case"equipmentType":Te=fe.equipmentType,Ne=pe.equipmentType;break;case"failureCode":Te=fe.failureCode,Ne=pe.failureCode;break;case"lastUpdated":Te=fe.lastUpdated||"",Ne=pe.lastUpdated||"";break;case"riskRanking":Te=fe.riskRanking,Ne=pe.riskRanking;break;default:Te=fe.equipmentType,Ne=pe.equipmentType}const et=Te.localeCompare(Ne);return y==="asc"?et:-et}),B},[C,u,p,h,y,N,S]),A=()=>{f(""),x("all"),m("equipmentType"),j("asc"),w("all"),E("all")},_=(B,fe)=>{if(!fe.trim())return B;const pe=new RegExp(`(${fe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return B.split(pe).map((Ne,et)=>pe.test(Ne)?r.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:Ne},et):Ne)},O=[u.trim()!=="",p!=="all",h!=="equipmentType",y!=="asc",N!=="all",S!=="all"].filter(Boolean).length,D={Pumps:"pumps_centrifugal",Compressors:"compressors_reciprocating",Turbines:"turbines_gas","Electric Motors":"motors_electric",Generators:"generators_synchronous","Fans / Blowers":"fans_centrifugal","Agitators / Mixers":"mixers_top_entry","Heat Exchangers":"heat_exchangers_shell_tube",Boilers:"boilers_water_tube","Pressure Vessels":"vessels_pressure","Columns/Towers":"columns_distillation","Filters/Strainers":"filters_basket",Tanks:"tanks_atmospheric",Piping:"piping_systems",Valves:"valves_control",Switchgear:"switchgear_electrical",Transformers:"transformers_power","UPS/Rectifiers":"ups_static","Cables/Busbars":"cables_power","Sensors/Transmitters":"sensors_pressure","PLCs/DCS Systems":"plc_redundant",DATABASE_DRIVEN:"database_driven",Analyzers:"analyzers_gc","HVAC Units":"hvac_air_handler","Cranes/Hoists":"cranes_bridge","Fire Protection Systems":"fire_systems_deluge"};console.log("Equipment Types API Response:",equipmentTypes),console.log("Is Loading:",k),console.log("Equipment Types Array:",equipmentTypes==null?void 0:equipmentTypes.equipmentTypes);const{data:M}=Ce({queryKey:["/api/evidence-library/equipment",n],queryFn:()=>st(`/api/evidence-library/equipment/${n}`),enabled:!!n}),{data:G}=Ce({queryKey:["/api/evidence-library/admin/history",n],queryFn:()=>st(`/api/evidence-library/admin/history?equipmentType=${n}`),enabled:!!n}),z=Ke({mutationFn:async({equipmentType:B,trendId:fe,updates:pe})=>st(`/api/evidence-library/admin/equipment/${B}/trends/${fe}`,{method:"PATCH",body:JSON.stringify({updates:pe,updatedBy:"Admin User"}),headers:{"Content-Type":"application/json","x-admin-key":"admin123"}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/evidence-library/equipment",n]}),e({title:"Success",description:"Trend requirement updated successfully"}),l(null)},onError:()=>{e({title:"Error",description:"Failed to update trend requirement",variant:"destructive"})}});Ke({mutationFn:()=>st("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}}),onSuccess:B=>{const fe=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),pe=URL.createObjectURL(fe),Te=document.createElement("a");Te.href=pe,Te.download=`evidence-library-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(pe),e({title:"Success",description:"Evidence library exported successfully"})}});const I=()=>{!o||!n||z.mutate({equipmentType:n,trendId:o.id,updates:o})};return k?r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(rr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Loading evidence library..."})]})})}):r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(rr,{className:"h-8 w-8 text-blue-600"}),"Evidence Library Administration"]}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Manage equipment-specific evidence requirements and AI prompts (",Array.isArray(C)?C.length:0," evidence items)"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",onClick:async()=>{try{if(!Array.isArray(C)||!C.length){e({title:"No Data",description:"No evidence library items to export",variant:"destructive"});return}const B=["Equipment Group","Equipment Type","Component/Failure Mode","Equipment Code","Failure Code","Risk Ranking","Required Trend Data","AI Questions","Attachments Required"],fe=C.map(at=>[at.equipmentGroup,at.equipmentType,at.componentFailureMode,at.equipmentCode,at.failureCode,at.riskRanking,at.requiredTrendDataEvidence||"",at.aiOrInvestigatorQuestions||"",at.attachmentsEvidenceRequired||""]),pe=[B.join(","),...fe.map(at=>at.map(Ct=>`"${Ct.replace(/"/g,'""')}"`).join(","))].join(`
`),Te=new Blob([pe],{type:"text/csv;charset=utf-8;"}),Ne=document.createElement("a"),et=URL.createObjectURL(Te);Ne.setAttribute("href",et),Ne.setAttribute("download",`evidence-library-${new Date().toISOString().split("T")[0]}.csv`),Ne.style.visibility="hidden",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(et),e({title:"CSV Export Successful",description:`Exported ${C.length} evidence library items to CSV`})}catch(B){console.error("CSV export failed:",B),e({title:"CSV Export Failed",description:"Failed to export to CSV format",variant:"destructive"})}},children:[r.jsx(Qb,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs(V,{variant:"outline",onClick:async()=>{try{const{api:B}=await Ye(async()=>{const{api:pe}=await Promise.resolve().then(()=>ot);return{api:pe}},void 0),fe=await B("/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}});if(fe.ok){const pe=await fe.blob(),Te=window.URL.createObjectURL(pe),Ne=document.createElement("a");Ne.href=Te,Ne.download="evidence-library-export.json",Ne.click(),window.URL.revokeObjectURL(Te),e({title:"JSON Export Successful",description:"Evidence library exported successfully"})}else e({title:"Export Failed",description:"Unable to export library",variant:"destructive"})}catch{e({title:"Export Error",description:"Failed to export evidence library",variant:"destructive"})}},children:[r.jsx(sr,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),r.jsxs(V,{onClick:()=>{const B=document.createElement("input");B.type="file",B.accept=".csv,.json",B.onchange=async fe=>{var Te;const pe=(Te=fe.target.files)==null?void 0:Te[0];if(pe)try{if(pe.name.endsWith(".csv")){const Ne=new FileReader;Ne.onload=et=>{var at;try{const vn=((at=et.target)==null?void 0:at.result).split(`
`),Mn=vn[0].split(",").map(T=>T.replace(/"/g,"").trim());e({title:"CSV Import Ready",description:`Found ${vn.length-1} equipment types in CSV. Import processing completed.`})}catch(Ct){console.error("CSV import failed:",Ct),e({title:"CSV Import Failed",description:"Failed to parse CSV file",variant:"destructive"})}},Ne.readAsText(pe)}else{const Ne=new FormData;Ne.append("file",pe);const{api:et}=await Ye(async()=>{const{api:Ct}=await Promise.resolve().then(()=>ot);return{api:Ct}},void 0);(await et("/evidence-library/admin/import",{method:"POST",headers:{"x-admin-key":"admin123"},body:Ne})).ok?(e({title:"JSON Import Successful",description:"Evidence library imported successfully"}),window.location.reload()):e({title:"Import Failed",description:"Unable to import library",variant:"destructive"})}}catch{e({title:"Import Error",description:"Failed to import file",variant:"destructive"})}},B.click()},children:[r.jsx(ao,{className:"h-4 w-4 mr-2"}),"Import File"]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Equipment Types Library (",((U=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:U.length)||0," Types)"]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:"Search equipment types, ISO codes, or subtypes...",className:"pl-10 pr-10",value:u,onChange:B=>f(B.target.value)}),u&&r.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>f(""),children:r.jsx(sa,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(eM,{className:"h-4 w-4"}),r.jsxs($e,{value:p,onValueChange:x,children:[r.jsx(Me,{className:"w-48",children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"All Equipment"}),r.jsx(te,{value:"rotating",children:"Database Driven"}),r.jsx(te,{value:"static",children:"Database Driven"}),r.jsx(te,{value:"electrical",children:"Database Driven"}),r.jsx(te,{value:"process",children:"Process Equipment"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),r.jsxs($e,{value:h,onValueChange:m,children:[r.jsx(Me,{className:"w-40",children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"equipmentType",children:"Equipment Type"}),r.jsx(te,{value:"failureCode",children:"Failure Code"}),r.jsx(te,{value:"lastUpdated",children:"Last Updated"}),r.jsx(te,{value:"riskRanking",children:"Risk Ranking"})]})]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>j(y==="asc"?"desc":"asc"),children:y==="asc"?r.jsx(KR,{className:"h-4 w-4"}):r.jsx(GR,{className:"h-4 w-4"})})]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>v(!g),className:g?"bg-blue-50 border-blue-200":"",children:["Advanced Filters",O>0&&r.jsx(ee,{variant:"secondary",className:"ml-2 h-5 w-5 p-0 text-xs",children:O})]}),O>0&&r.jsxs(V,{variant:"outline",size:"sm",onClick:A,children:[r.jsx(sa,{className:"h-4 w-4 mr-2"}),"Clear All (",O,")"]}),r.jsxs("div",{className:"text-sm text-gray-600 ml-auto",children:["Showing ",P.length," of ",Array.isArray(C)?C.length:0," evidence items"]})]}),g&&r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Advanced Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{className:"text-sm font-medium",children:"Equipment Category"}),r.jsxs($e,{value:N,onValueChange:w,children:[r.jsx(Me,{className:"mt-1",children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"All Equipment Types"}),r.jsx(te,{value:"rotating",children:"Database Driven"}),r.jsx(te,{value:"static",children:"Database Driven"}),r.jsx(te,{value:"electrical",children:"Database Driven"}),r.jsx(te,{value:"process",children:"Process Control"}),r.jsx(te,{value:"instrumentation",children:"Database Driven"})]})]})]}),r.jsxs("div",{children:[r.jsx(oe,{className:"text-sm font-medium",children:"Last Updated"}),r.jsxs($e,{value:S,onValueChange:E,children:[r.jsx(Me,{className:"mt-1",children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"Any Time"}),r.jsx(te,{value:"recent",children:"Last 7 days"}),r.jsx(te,{value:"week",children:"Last 30 days"}),r.jsx(te,{value:"month",children:"Last 90 days"}),r.jsx(te,{value:"old",children:"Older than 90 days"})]})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{variant:"outline",size:"sm",onClick:()=>{w("all"),E("all")},className:"w-full",children:"Reset Advanced"})})]})]})]}),r.jsx("div",{className:"border rounded-lg",children:r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{className:"font-semibold",children:"Equipment Type"}),r.jsx(tt,{className:"font-semibold",children:"Typical Subtypes / Examples"}),r.jsx(tt,{className:"font-semibold",children:"Required Trend Data"}),r.jsx(tt,{className:"font-semibold",children:"AI Prompt Examples"}),r.jsx(tt,{className:"font-semibold",children:"Attachments / Evidence Required"}),r.jsx(tt,{className:"text-right font-semibold",children:"Actions"})]})}),r.jsx(Oi,{children:!k&&P.length>0?P.map(B=>r.jsxs(en,{children:[r.jsx(Ze,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:_(B.equipmentType,u)}),r.jsx(ee,{variant:"outline",className:"text-xs",children:B.iso14224Code})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.subtypes.slice(0,4).map((fe,pe)=>r.jsx(ee,{variant:"secondary",className:"text-xs",children:fe},pe)),B.subtypes.length>4&&r.jsxs(ee,{variant:"secondary",className:"text-xs",children:["+",B.subtypes.length-4," more"]})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($i,{className:"h-3 w-3"}),r.jsx("span",{children:"Comprehensive monitoring"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vibration, Temperature, Pressure, Flow"})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-3 w-3"}),r.jsx("span",{children:"Equipment-specific"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Context-aware prompts configured"})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),r.jsx("span",{children:"Standard attachments"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Trends, photos, maintenance logs"})]})}),r.jsx(Ze,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-1",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>i(B.equipmentType.toLowerCase().replace(/[^a-z0-9]/g,"_")),children:r.jsx(Cf,{className:"h-3 w-3"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>{e({title:"Edit Equipment Type",description:`Editing ${B.equipmentType} - Advanced editing interface will be available soon`})},children:r.jsx(li,{className:"h-3 w-3"})})]})})]},B.iso14224Code)):k?r.jsx(en,{children:r.jsx(Ze,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(rr,{className:"h-8 w-8 text-gray-400"}),r.jsx("p",{className:"text-gray-600",children:"Loading equipment types..."}),r.jsx("p",{className:"text-xs text-gray-500",children:"Fetching data from API..."})]})})}):r.jsx(en,{children:r.jsx(Ze,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(rr,{className:"h-8 w-8 text-red-400"}),r.jsx("p",{className:"text-gray-600",children:"No equipment types found"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",JSON.stringify(equipmentTypes)]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Error: ",(R==null?void 0:R.message)||"None"]})]})})})})]})}),r.jsxs("div",{className:"flex items-center justify-between py-2 px-1",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",(equipmentTypes==null?void 0:equipmentTypes.totalCount)||((Z=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:Z.length)||0," equipment types"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["API Status: ",equipmentTypes!=null&&equipmentTypes.success?"Connected":"Disconnected"," | Last updated: ",new Date().toLocaleDateString()]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5"}),"Equipment Selection"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"equipment-select",children:"Select Equipment Type"}),r.jsxs($e,{value:n,onValueChange:i,children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Choose equipment type..."})}),r.jsx(Le,{children:k?r.jsx("div",{className:"p-2 text-center text-gray-500",children:"Loading equipment types..."}):(($=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:$.length)>0?equipmentTypes.equipmentTypes.map(B=>{const fe=D[B.equipmentType];return r.jsxs(te,{value:fe||B.equipmentType.toLowerCase().replace(/\s+/g,"_"),children:[B.equipmentType," (",B.iso14224Code,")"]},B.equipmentType)}):r.jsx("div",{className:"p-2 text-center text-gray-500",children:"No equipment types found"})})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs(V,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Add New Equipment Type"]})})]})})]}),s&&r.jsxs(H,{className:"border-primary/20",children:[r.jsx(Q,{children:r.jsx(X,{className:"text-lg",children:"Add New Equipment Type"})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Equipment Type Name"}),r.jsx(me,{placeholder:"e.g., Heat Exchangers",value:c.name||void 0,onChange:B=>d(fe=>({...fe,name:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"ISO 14224 Code"}),r.jsx(me,{placeholder:"e.g., HE-003",value:c.id||void 0,onChange:B=>d(fe=>({...fe,id:B.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Subtypes (comma-separated)"}),r.jsx(me,{placeholder:"e.g., Shell and Tube, Plate, Air Cooled",value:c.units||void 0,onChange:B=>d(fe=>({...fe,units:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Description"}),r.jsx(Qe,{placeholder:"Brief description of equipment type and its applications",value:c.description||void 0,onChange:B=>d(fe=>({...fe,description:B.target.value}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{onClick:()=>{e({title:"Feature Coming Soon",description:"Equipment type addition will be implemented in the next update"}),a(!1)},disabled:!c.name||!c.id,children:"Add Equipment Type"}),r.jsx(V,{variant:"outline",onClick:()=>{a(!1),d({})},children:"Cancel"})]})]})]}),n&&M&&r.jsxs(Yn,{defaultValue:"trends",className:"space-y-4",children:[r.jsxs(qn,{className:"grid grid-cols-4 w-fit",children:[r.jsxs(Oe,{value:"trends",children:[r.jsx($i,{className:"h-4 w-4 mr-2"}),"Trend Data"]}),r.jsxs(Oe,{value:"attachments",children:[r.jsx(HU,{className:"h-4 w-4 mr-2"}),"Attachments"]}),r.jsxs(Oe,{value:"prompts",children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),"AI Prompts"]}),r.jsxs(Oe,{value:"history",children:[r.jsx(Gs,{className:"h-4 w-4 mr-2"}),"History"]})]}),r.jsx(Ee,{value:"trends",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Trend Data Requirements"}),r.jsxs(V,{size:"sm",children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Add Trend"]})]})}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:(ne=(ie=M==null?void 0:M.profile)==null?void 0:ie.requiredTrendData)==null?void 0:ne.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsx(ee,{variant:B.mandatory?"default":"secondary",children:B.mandatory?"Mandatory":"Optional"})]}),r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>l(B),children:r.jsx(li,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Units:"})," ",B.units]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sampling:"})," ",B.samplingFrequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Range:"})," ",B.typicalRange||"Not specified"]})]}),B.alertThresholds&&r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:"Thresholds:"}),r.jsxs("span",{className:"ml-2 text-amber-600",children:["Warning: ",B.alertThresholds.warning]}),r.jsxs("span",{className:"ml-4 text-red-600",children:["Alarm: ",B.alertThresholds.alarm]})]})]},B.id))})})]})}),r.jsx(Ee,{value:"attachments",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Attachment Requirements"}),r.jsxs(V,{size:"sm",children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Add Attachment"]})]})}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:(se=(J=M==null?void 0:M.profile)==null?void 0:J.requiredAttachments)==null?void 0:se.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsx(ee,{variant:B.mandatory?"default":"secondary",children:B.mandatory?"Mandatory":"Optional"})]}),r.jsx(V,{size:"sm",variant:"ghost",children:r.jsx(li,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"File Types:"})," ",B.fileTypes.join(", ")]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Max Size:"})," ",B.maxSizeMB,"MB"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Validation:"})," ",B.validationCriteria||"None"]})]})]},B.id))})})]})}),r.jsx(Ee,{value:"prompts",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"AI Prompt Templates"})}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:(ce=(ke=(ue=M==null?void 0:M.data)==null?void 0:ue.profile)==null?void 0:ke.aiPromptTemplates)==null?void 0:ce.map((B,fe)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold capitalize",children:B.fieldType.replace("_"," ")}),r.jsx(V,{size:"sm",variant:"ghost",children:r.jsx(li,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.context}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[r.jsx("strong",{children:"Prompt:"})," ",B.prompt]}),B.examples&&B.examples.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("strong",{className:"text-sm",children:"Examples:"}),r.jsx("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:B.examples.map((pe,Te)=>r.jsxs("li",{className:"pl-2 border-l-2 border-gray-200",children:['"',pe,'"']},Te))})]})]},fe))})})]})}),r.jsx(Ee,{value:"history",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Update History"})}),r.jsx(K,{children:((he=(ve=G==null?void 0:G.data)==null?void 0:ve.history)==null?void 0:he.length)>0?r.jsx("div",{className:"space-y-2",children:G.data.history.map((B,fe)=>r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(ee,{variant:"outline",children:B.changeType}),r.jsx("span",{className:"font-medium",children:B.fieldChanged}),r.jsxs("span",{className:"text-gray-500",children:["by ",B.updatedBy]}),r.jsx("span",{className:"text-gray-400",children:new Date(B.timestamp).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.reason})]},fe))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No update history available"})})]})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(H,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(Q,{children:r.jsxs(X,{children:["Edit Trend Requirement: ",o.name]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"trend-name",children:"Name"}),r.jsx(me,{id:"trend-name",value:o.name,onChange:B=>l({...o,name:B.target.value})})]}),r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"trend-description",children:"Description"}),r.jsx(Qe,{id:"trend-description",value:o.description,onChange:B=>l({...o,description:B.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"trend-units",children:"Units"}),r.jsx(me,{id:"trend-units",value:o.units,onChange:B=>l({...o,units:B.target.value})})]}),r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"trend-sampling",children:"Sampling Frequency"}),r.jsx(me,{id:"trend-sampling",value:o.samplingFrequency,onChange:B=>l({...o,samplingFrequency:B.target.value})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),r.jsx(V,{onClick:I,disabled:z.isPending,children:z.isPending?"Updating...":"Update"})]})]})]})})]})}var em=e=>e.type==="checkbox",Go=e=>e instanceof Date,mr=e=>e==null;const v5=e=>typeof e=="object";var jn=e=>!mr(e)&&!Array.isArray(e)&&v5(e)&&!Go(e),g5=e=>jn(e)&&e.target?em(e.target)?e.target.checked:e.target.value:e,Lwe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,y5=(e,t)=>e.has(Lwe(t)),Fwe=e=>{const t=e.constructor&&e.constructor.prototype;return jn(t)&&t.hasOwnProperty("isPrototypeOf")},rC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(rC&&(e instanceof Blob||i))&&(n||jn(e)))if(t=n?[]:{},!n&&!Fwe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Bn(e[s]));else return e;return t}var iy=e=>Array.isArray(e)?e.filter(Boolean):[],gn=e=>e===void 0,Ae=(e,t,n)=>{if(!t||!jn(e))return n;const i=iy(t.split(/[,[\].]+?/)).reduce((s,a)=>mr(s)?s:s[a],e);return gn(i)||i===e?gn(e[t])?n:e[t]:i},qr=e=>typeof e=="boolean",iC=e=>/^\w*$/.test(e),b5=e=>iy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(e,t,n)=>{let i=-1;const s=iC(t)?[t]:b5(t),a=s.length,o=a-1;for(;++i<a;){const l=s[i];let c=n;if(i!==o){const d=e[l];c=jn(d)||Array.isArray(d)?d:isNaN(+s[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const sv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ri={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j5=q.createContext(null),sy=()=>q.useContext(j5),qwe=e=>{const{children:t,...n}=e;return q.createElement(j5.Provider,{value:n},t)};var w5=(e,t,n,i=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ri.all&&(t._proxyFormState[o]=!i||Ri.all),n&&(n[o]=!0),e[o]}});return s};function zwe(e){const t=sy(),{control:n=t.control,disabled:i,name:s,exact:a}=e||{},[o,l]=q.useState(n._formState),c=q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=q.useRef(s);return d.current=s,q.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!i&&l({...n._formState,...u})}}),[n,i,a]),q.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),q.useMemo(()=>w5(o,n,c.current,!1),[o,n])}var us=e=>typeof e=="string",N5=(e,t,n,i,s)=>us(e)?(i&&t.watch.add(e),Ae(n,e,s)):Array.isArray(e)?e.map(a=>(i&&t.watch.add(a),Ae(n,a))):(i&&(t.watchAll=!0),n);function Bwe(e){const t=sy(),{control:n=t.control,name:i,defaultValue:s,disabled:a,exact:o}=e||{},l=q.useRef(i),c=q.useRef(s);l.current=i,q.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&u(N5(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,u]=q.useState(n._getWatch(i,s));return q.useEffect(()=>n._removeUnmounted()),d}function Uwe(e){const t=sy(),{name:n,disabled:i,control:s=t.control,shouldUnregister:a}=e,o=y5(s._names.array,n),l=Bwe({control:s,name:n,defaultValue:Ae(s._formValues,n,Ae(s._defaultValues,n,e.defaultValue)),exact:!0}),c=zwe({control:s,name:n,exact:!0}),d=q.useRef(e),u=q.useRef(s.register(n,{...e.rules,value:l,...qr(e.disabled)?{disabled:e.disabled}:{}})),f=q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ae(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ae(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ae(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ae(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ae(c.errors,n)}}),[c,n]),p=q.useCallback(y=>u.current.onChange({target:{value:g5(y),name:n},type:sv.CHANGE}),[n]),x=q.useCallback(()=>u.current.onBlur({target:{value:Ae(s._formValues,n),name:n},type:sv.BLUR}),[n,s._formValues]),h=q.useCallback(y=>{const j=Ae(s._fields,n);j&&y&&(j._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:g=>y.setCustomValidity(g),reportValidity:()=>y.reportValidity()})},[s._fields,n]),m=q.useMemo(()=>({name:n,value:l,...qr(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:p,onBlur:x,ref:h}),[n,i,c.disabled,p,x,h,l]);return q.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(n,{...d.current.rules,...qr(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(g,v)=>{const N=Ae(s._fields,g);N&&N._f&&(N._f.mount=v)};if(j(n,!0),y){const g=Bn(Ae(s._options.defaultValues,n));Ot(s._defaultValues,n,g),gn(Ae(s._formValues,n))&&Ot(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):j(n,!1)}},[n,s,o,a]),q.useEffect(()=>{s._setDisabledField({disabled:i,name:n})},[i,n,s]),q.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const Kw=e=>e.render(Uwe(e));var S5=(e,t,n,i,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:s||!0}}:{},rf=e=>Array.isArray(e)?e:[e],zP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Yw=e=>mr(e)||!v5(e);function Oa(e,t){if(Yw(e)||Yw(t))return e===t;if(Go(e)&&Go(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Go(a)&&Go(o)||jn(a)&&jn(o)||Array.isArray(a)&&Array.isArray(o)?!Oa(a,o):a!==o)return!1}}return!0}var fr=e=>jn(e)&&!Object.keys(e).length,sC=e=>e.type==="file",Mi=e=>typeof e=="function",av=e=>{if(!rC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},C5=e=>e.type==="select-multiple",aC=e=>e.type==="radio",Vwe=e=>aC(e)||em(e),O0=e=>av(e)&&e.isConnected;function Wwe(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=gn(e)?i++:e[t[i++]];return e}function Hwe(e){for(const t in e)if(e.hasOwnProperty(t)&&!gn(e[t]))return!1;return!0}function kn(e,t){const n=Array.isArray(t)?t:iC(t)?[t]:b5(t),i=n.length===1?e:Wwe(e,n),s=n.length-1,a=n[s];return i&&delete i[a],s!==0&&(jn(i)&&fr(i)||Array.isArray(i)&&Hwe(i))&&kn(e,n.slice(0,-1)),e}var E5=e=>{for(const t in e)if(Mi(e[t]))return!0;return!1};function ov(e,t={}){const n=Array.isArray(e);if(jn(e)||n)for(const i in e)Array.isArray(e[i])||jn(e[i])&&!E5(e[i])?(t[i]=Array.isArray(e[i])?[]:{},ov(e[i],t[i])):mr(e[i])||(t[i]=!0);return t}function k5(e,t,n){const i=Array.isArray(e);if(jn(e)||i)for(const s in e)Array.isArray(e[s])||jn(e[s])&&!E5(e[s])?gn(t)||Yw(n[s])?n[s]=Array.isArray(e[s])?ov(e[s],[]):{...ov(e[s])}:k5(e[s],mr(t)?{}:t[s],n[s]):n[s]=!Oa(e[s],t[s]);return n}var Eu=(e,t)=>k5(e,t,ov(t));const BP={value:!1,isValid:!1},UP={value:!0,isValid:!0};var A5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||e[0].value===""?UP:{value:e[0].value,isValid:!0}:UP:BP}return BP},_5=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>gn(e)?e:t?e===""?NaN:e&&+e:n&&us(e)?new Date(e):i?i(e):e;const VP={isValid:!1,value:null};var P5=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,VP):VP;function WP(e){const t=e.ref;return sC(t)?t.files:aC(t)?P5(e.refs).value:C5(t)?[...t.selectedOptions].map(({value:n})=>n):em(t)?A5(e.refs).value:_5(gn(t.value)?e.ref.value:t.value,e)}var Gwe=(e,t,n,i)=>{const s={};for(const a of e){const o=Ae(t,a);o&&Ot(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:i}},lv=e=>e instanceof RegExp,ku=e=>gn(e)?e:lv(e)?e.source:jn(e)?lv(e.value)?e.value.source:e.value:e,HP=e=>({isOnSubmit:!e||e===Ri.onSubmit,isOnBlur:e===Ri.onBlur,isOnChange:e===Ri.onChange,isOnAll:e===Ri.all,isOnTouch:e===Ri.onTouched});const GP="AsyncFunction";var Kwe=e=>!!e&&!!e.validate&&!!(Mi(e.validate)&&e.validate.constructor.name===GP||jn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===GP)),Ywe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),KP=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const sf=(e,t,n,i)=>{for(const s of n||Object.keys(e)){const a=Ae(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(sf(l,t))break}else if(jn(l)&&sf(l,t))break}}};function YP(e,t,n){const i=Ae(e,n);if(i||iC(n))return{error:i,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ae(t,a),l=Ae(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var Qwe=(e,t,n,i)=>{n(e);const{name:s,...a}=e;return fr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!i||Ri.all))},Xwe=(e,t,n)=>!e||!t||e===t||rf(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),Zwe=(e,t,n,i,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?i.isOnBlur:s.isOnBlur)?!e:(n?i.isOnChange:s.isOnChange)?e:!0,Jwe=(e,t)=>!iy(Ae(e,t)).length&&kn(e,t),eNe=(e,t,n)=>{const i=rf(Ae(e,n));return Ot(i,"root",t[n]),Ot(e,n,i),e},bh=e=>us(e);function QP(e,t,n="validate"){if(bh(e)||Array.isArray(e)&&e.every(bh)||qr(e)&&!e)return{type:n,message:bh(e)?e:"",ref:t}}var Gl=e=>jn(e)&&!lv(e)?e:{value:e,message:""},XP=async(e,t,n,i,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:x,validate:h,name:m,valueAsNumber:y,mount:j}=e._f,g=Ae(n,m);if(!j||t.has(m))return{};const v=l?l[0]:o,N=A=>{s&&v.reportValidity&&(v.setCustomValidity(qr(A)?"":A||""),v.reportValidity())},w={},S=aC(o),E=em(o),C=S||E,k=(y||sC(o))&&gn(o.value)&&gn(g)||av(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,R=S5.bind(null,m,i,w),P=(A,_,O,D=Os.maxLength,M=Os.minLength)=>{const G=A?_:O;w[m]={type:A?D:M,message:G,ref:o,...R(A?D:M,G)}};if(a?!Array.isArray(g)||!g.length:c&&(!C&&(k||mr(g))||qr(g)&&!g||E&&!A5(l).isValid||S&&!P5(l).isValid)){const{value:A,message:_}=bh(c)?{value:!!c,message:c}:Gl(c);if(A&&(w[m]={type:Os.required,message:_,ref:v,...R(Os.required,_)},!i))return N(_),w}if(!k&&(!mr(f)||!mr(p))){let A,_;const O=Gl(p),D=Gl(f);if(!mr(g)&&!isNaN(g)){const M=o.valueAsNumber||g&&+g;mr(O.value)||(A=M>O.value),mr(D.value)||(_=M<D.value)}else{const M=o.valueAsDate||new Date(g),G=U=>new Date(new Date().toDateString()+" "+U),z=o.type=="time",I=o.type=="week";us(O.value)&&g&&(A=z?G(g)>G(O.value):I?g>O.value:M>new Date(O.value)),us(D.value)&&g&&(_=z?G(g)<G(D.value):I?g<D.value:M<new Date(D.value))}if((A||_)&&(P(!!A,O.message,D.message,Os.max,Os.min),!i))return N(w[m].message),w}if((d||u)&&!k&&(us(g)||a&&Array.isArray(g))){const A=Gl(d),_=Gl(u),O=!mr(A.value)&&g.length>+A.value,D=!mr(_.value)&&g.length<+_.value;if((O||D)&&(P(O,A.message,_.message),!i))return N(w[m].message),w}if(x&&!k&&us(g)){const{value:A,message:_}=Gl(x);if(lv(A)&&!g.match(A)&&(w[m]={type:Os.pattern,message:_,ref:o,...R(Os.pattern,_)},!i))return N(_),w}if(h){if(Mi(h)){const A=await h(g,n),_=QP(A,v);if(_&&(w[m]={..._,...R(Os.validate,_.message)},!i))return N(_.message),w}else if(jn(h)){let A={};for(const _ in h){if(!fr(A)&&!i)break;const O=QP(await h[_](g,n),v,_);O&&(A={...O,...R(_,O.message)},N(O.message),i&&(w[m]=A))}if(!fr(A)&&(w[m]={ref:v,...A},!i))return w}}return N(!0),w};const tNe={mode:Ri.onSubmit,reValidateMode:Ri.onChange,shouldFocusError:!0};function nNe(e={}){let t={...tNe,...e},n={submitCount:0,isDirty:!1,isLoading:Mi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let s=jn(t.defaultValues)||jn(t.values)?Bn(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Bn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:zP(),state:zP()},x=HP(t.mode),h=HP(t.reValidateMode),m=t.criteriaMode===Ri.all,y=T=>W=>{clearTimeout(d),d=setTimeout(T,W)},j=async T=>{if(!t.disabled&&(u.isValid||f.isValid||T)){const W=t.resolver?fr((await k()).errors):await P(i,!0);W!==n.isValid&&p.state.next({isValid:W})}},g=(T,W)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(F=>{F&&(W?Ot(n.validatingFields,F,W):kn(n.validatingFields,F))}),p.state.next({validatingFields:n.validatingFields,isValidating:!fr(n.validatingFields)}))},v=(T,W=[],F,re,ae=!0,de=!0)=>{if(re&&F&&!t.disabled){if(o.action=!0,de&&Array.isArray(Ae(i,T))){const we=F(Ae(i,T),re.argA,re.argB);ae&&Ot(i,T,we)}if(de&&Array.isArray(Ae(n.errors,T))){const we=F(Ae(n.errors,T),re.argA,re.argB);ae&&Ot(n.errors,T,we),Jwe(n.errors,T)}if((u.touchedFields||f.touchedFields)&&de&&Array.isArray(Ae(n.touchedFields,T))){const we=F(Ae(n.touchedFields,T),re.argA,re.argB);ae&&Ot(n.touchedFields,T,we)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Eu(s,a)),p.state.next({name:T,isDirty:_(T,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ot(a,T,W)},N=(T,W)=>{Ot(n.errors,T,W),p.state.next({errors:n.errors})},w=T=>{n.errors=T,p.state.next({errors:n.errors,isValid:!1})},S=(T,W,F,re)=>{const ae=Ae(i,T);if(ae){const de=Ae(a,T,gn(F)?Ae(s,T):F);gn(de)||re&&re.defaultChecked||W?Ot(a,T,W?de:WP(ae._f)):M(T,de),o.mount&&j()}},E=(T,W,F,re,ae)=>{let de=!1,we=!1;const ht={name:T};if(!t.disabled){if(!F||re){(u.isDirty||f.isDirty)&&(we=n.isDirty,n.isDirty=ht.isDirty=_(),de=we!==ht.isDirty);const L=Oa(Ae(s,T),W);we=!!Ae(n.dirtyFields,T),L?kn(n.dirtyFields,T):Ot(n.dirtyFields,T,!0),ht.dirtyFields=n.dirtyFields,de=de||(u.dirtyFields||f.dirtyFields)&&we!==!L}if(F){const L=Ae(n.touchedFields,T);L||(Ot(n.touchedFields,T,F),ht.touchedFields=n.touchedFields,de=de||(u.touchedFields||f.touchedFields)&&L!==F)}de&&ae&&p.state.next(ht)}return de?ht:{}},C=(T,W,F,re)=>{const ae=Ae(n.errors,T),de=(u.isValid||f.isValid)&&qr(W)&&n.isValid!==W;if(t.delayError&&F?(c=y(()=>N(T,F)),c(t.delayError)):(clearTimeout(d),c=null,F?Ot(n.errors,T,F):kn(n.errors,T)),(F?!Oa(ae,F):ae)||!fr(re)||de){const we={...re,...de&&qr(W)?{isValid:W}:{},errors:n.errors,name:T};n={...n,...we},p.state.next(we)}},k=async T=>{g(T,!0);const W=await t.resolver(a,t.context,Gwe(T||l.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return g(T),W},R=async T=>{const{errors:W}=await k(T);if(T)for(const F of T){const re=Ae(W,F);re?Ot(n.errors,F,re):kn(n.errors,F)}else n.errors=W;return W},P=async(T,W,F={valid:!0})=>{for(const re in T){const ae=T[re];if(ae){const{_f:de,...we}=ae;if(de){const ht=l.array.has(de.name),L=ae._f&&Kwe(ae._f);L&&u.validatingFields&&g([re],!0);const Se=await XP(ae,l.disabled,a,m,t.shouldUseNativeValidation&&!W,ht);if(L&&u.validatingFields&&g([re]),Se[de.name]&&(F.valid=!1,W))break;!W&&(Ae(Se,de.name)?ht?eNe(n.errors,Se,de.name):Ot(n.errors,de.name,Se[de.name]):kn(n.errors,de.name))}!fr(we)&&await P(we,W,F)}}return F.valid},A=()=>{for(const T of l.unMount){const W=Ae(i,T);W&&(W._f.refs?W._f.refs.every(F=>!O0(F)):!O0(W._f.ref))&&ce(T)}l.unMount=new Set},_=(T,W)=>!t.disabled&&(T&&W&&Ot(a,T,W),!Oa($(),s)),O=(T,W,F)=>N5(T,l,{...o.mount?a:gn(W)?s:us(T)?{[T]:W}:W},F,W),D=T=>iy(Ae(o.mount?a:s,T,t.shouldUnregister?Ae(s,T,[]):[])),M=(T,W,F={})=>{const re=Ae(i,T);let ae=W;if(re){const de=re._f;de&&(!de.disabled&&Ot(a,T,_5(W,de)),ae=av(de.ref)&&mr(W)?"":W,C5(de.ref)?[...de.ref.options].forEach(we=>we.selected=ae.includes(we.value)):de.refs?em(de.ref)?de.refs.length>1?de.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(ae)?!!ae.find(ht=>ht===we.value):ae===we.value)):de.refs[0]&&(de.refs[0].checked=!!ae):de.refs.forEach(we=>we.checked=we.value===ae):sC(de.ref)?de.ref.value="":(de.ref.value=ae,de.ref.type||p.state.next({name:T,values:Bn(a)})))}(F.shouldDirty||F.shouldTouch)&&E(T,ae,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&Z(T)},G=(T,W,F)=>{for(const re in W){const ae=W[re],de=`${T}.${re}`,we=Ae(i,de);(l.array.has(T)||jn(ae)||we&&!we._f)&&!Go(ae)?G(de,ae,F):M(de,ae,F)}},z=(T,W,F={})=>{const re=Ae(i,T),ae=l.array.has(T),de=Bn(W);Ot(a,T,de),ae?(p.array.next({name:T,values:Bn(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:T,dirtyFields:Eu(s,a),isDirty:_(T,de)})):re&&!re._f&&!mr(de)?G(T,de,F):M(T,de,F),KP(T,l)&&p.state.next({...n}),p.state.next({name:o.mount?T:void 0,values:Bn(a)})},I=async T=>{o.mount=!0;const W=T.target;let F=W.name,re=!0;const ae=Ae(i,F),de=we=>{re=Number.isNaN(we)||Go(we)&&isNaN(we.getTime())||Oa(we,Ae(a,F,we))};if(ae){let we,ht;const L=W.type?WP(ae._f):g5(T),Se=T.type===sv.BLUR||T.type===sv.FOCUS_OUT,Vt=!Ywe(ae._f)&&!t.resolver&&!Ae(n.errors,F)&&!ae._f.deps||Zwe(Se,Ae(n.touchedFields,F),n.isSubmitted,h,x),zt=KP(F,l,Se);Ot(a,F,L),Se?(ae._f.onBlur&&ae._f.onBlur(T),c&&c(0)):ae._f.onChange&&ae._f.onChange(T);const Tt=E(F,L,Se),_s=!fr(Tt)||zt;if(!Se&&p.state.next({name:F,type:T.type,values:Bn(a)}),Vt)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?Se&&j():Se||j()),_s&&p.state.next({name:F,...zt?{}:Tt});if(!Se&&zt&&p.state.next({...n}),t.resolver){const{errors:Ll}=await k([F]);if(de(L),re){const iu=YP(n.errors,i,F),Fl=YP(Ll,i,iu.name||F);we=Fl.error,F=Fl.name,ht=fr(Ll)}}else g([F],!0),we=(await XP(ae,l.disabled,a,m,t.shouldUseNativeValidation))[F],g([F]),de(L),re&&(we?ht=!1:(u.isValid||f.isValid)&&(ht=await P(i,!0)));re&&(ae._f.deps&&Z(ae._f.deps),C(F,ht,we,Tt))}},U=(T,W)=>{if(Ae(n.errors,W)&&T.focus)return T.focus(),1},Z=async(T,W={})=>{let F,re;const ae=rf(T);if(t.resolver){const de=await R(gn(T)?T:ae);F=fr(de),re=T?!ae.some(we=>Ae(de,we)):F}else T?(re=(await Promise.all(ae.map(async de=>{const we=Ae(i,de);return await P(we&&we._f?{[de]:we}:we)}))).every(Boolean),!(!re&&!n.isValid)&&j()):re=F=await P(i);return p.state.next({...!us(T)||(u.isValid||f.isValid)&&F!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:F}:{},errors:n.errors}),W.shouldFocus&&!re&&sf(i,U,T?ae:l.mount),re},$=T=>{const W={...o.mount?a:s};return gn(T)?W:us(T)?Ae(W,T):T.map(F=>Ae(W,F))},ie=(T,W)=>({invalid:!!Ae((W||n).errors,T),isDirty:!!Ae((W||n).dirtyFields,T),error:Ae((W||n).errors,T),isValidating:!!Ae(n.validatingFields,T),isTouched:!!Ae((W||n).touchedFields,T)}),ne=T=>{T&&rf(T).forEach(W=>kn(n.errors,W)),p.state.next({errors:T?n.errors:{}})},J=(T,W,F)=>{const re=(Ae(i,T,{_f:{}})._f||{}).ref,ae=Ae(n.errors,T)||{},{ref:de,message:we,type:ht,...L}=ae;Ot(n.errors,T,{...L,...W,ref:re}),p.state.next({name:T,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&re&&re.focus&&re.focus()},se=(T,W)=>Mi(T)?p.state.subscribe({next:F=>T(O(void 0,W),F)}):O(T,W,!0),ue=T=>p.state.subscribe({next:W=>{Xwe(T.name,W.name,T.exact)&&Qwe(W,T.formState||u,Ct,T.reRenderRoot)&&T.callback({values:{...a},...n,...W})}}).unsubscribe,ke=T=>(o.mount=!0,f={...f,...T.formState},ue({...T,formState:f})),ce=(T,W={})=>{for(const F of T?rf(T):l.mount)l.mount.delete(F),l.array.delete(F),W.keepValue||(kn(i,F),kn(a,F)),!W.keepError&&kn(n.errors,F),!W.keepDirty&&kn(n.dirtyFields,F),!W.keepTouched&&kn(n.touchedFields,F),!W.keepIsValidating&&kn(n.validatingFields,F),!t.shouldUnregister&&!W.keepDefaultValue&&kn(s,F);p.state.next({values:Bn(a)}),p.state.next({...n,...W.keepDirty?{isDirty:_()}:{}}),!W.keepIsValid&&j()},ve=({disabled:T,name:W})=>{(qr(T)&&o.mount||T||l.disabled.has(W))&&(T?l.disabled.add(W):l.disabled.delete(W))},he=(T,W={})=>{let F=Ae(i,T);const re=qr(W.disabled)||qr(t.disabled);return Ot(i,T,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:T}},name:T,mount:!0,...W}}),l.mount.add(T),F?ve({disabled:qr(W.disabled)?W.disabled:t.disabled,name:T}):S(T,!0,W.value),{...re?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:ku(W.min),max:ku(W.max),minLength:ku(W.minLength),maxLength:ku(W.maxLength),pattern:ku(W.pattern)}:{},name:T,onChange:I,onBlur:I,ref:ae=>{if(ae){he(T,W),F=Ae(i,T);const de=gn(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,we=Vwe(de),ht=F._f.refs||[];if(we?ht.find(L=>L===de):de===F._f.ref)return;Ot(i,T,{_f:{...F._f,...we?{refs:[...ht.filter(O0),de,...Array.isArray(Ae(s,T))?[{}]:[]],ref:{type:de.type,name:T}}:{ref:de}}}),S(T,!1,void 0,de)}else F=Ae(i,T,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(y5(l.array,T)&&o.action)&&l.unMount.add(T)}}},B=()=>t.shouldFocusError&&sf(i,U,l.mount),fe=T=>{qr(T)&&(p.state.next({disabled:T}),sf(i,(W,F)=>{const re=Ae(i,F);re&&(W.disabled=re._f.disabled||T,Array.isArray(re._f.refs)&&re._f.refs.forEach(ae=>{ae.disabled=re._f.disabled||T}))},0,!1))},pe=(T,W)=>async F=>{let re;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ae=Bn(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:we}=await k();n.errors=de,ae=we}else await P(i);if(l.disabled.size)for(const de of l.disabled)Ot(ae,de,void 0);if(kn(n.errors,"root"),fr(n.errors)){p.state.next({errors:{}});try{await T(ae,F)}catch(de){re=de}}else W&&await W({...n.errors},F),B(),setTimeout(B);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fr(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},Te=(T,W={})=>{Ae(i,T)&&(gn(W.defaultValue)?z(T,Bn(Ae(s,T))):(z(T,W.defaultValue),Ot(s,T,Bn(W.defaultValue))),W.keepTouched||kn(n.touchedFields,T),W.keepDirty||(kn(n.dirtyFields,T),n.isDirty=W.defaultValue?_(T,Bn(Ae(s,T))):_()),W.keepError||(kn(n.errors,T),u.isValid&&j()),p.state.next({...n}))},Ne=(T,W={})=>{const F=T?Bn(T):s,re=Bn(F),ae=fr(T),de=ae?s:re;if(W.keepDefaultValues||(s=F),!W.keepValues){if(W.keepDirtyValues){const we=new Set([...l.mount,...Object.keys(Eu(s,a))]);for(const ht of Array.from(we))Ae(n.dirtyFields,ht)?Ot(de,ht,Ae(a,ht)):z(ht,Ae(de,ht))}else{if(rC&&gn(T))for(const we of l.mount){const ht=Ae(i,we);if(ht&&ht._f){const L=Array.isArray(ht._f.refs)?ht._f.refs[0]:ht._f.ref;if(av(L)){const Se=L.closest("form");if(Se){Se.reset();break}}}}for(const we of l.mount)z(we,Ae(de,we))}a=Bn(de),p.array.next({values:{...de}}),p.state.next({values:{...de}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Oa(T,s)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?{}:W.keepDirtyValues?W.keepDefaultValues&&a?Eu(s,a):n.dirtyFields:W.keepDefaultValues&&T?Eu(s,T):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},et=(T,W)=>Ne(Mi(T)?T(a):T,W),at=(T,W={})=>{const F=Ae(i,T),re=F&&F._f;if(re){const ae=re.refs?re.refs[0]:re.ref;ae.focus&&(ae.focus(),W.shouldSelect&&Mi(ae.select)&&ae.select())}},Ct=T=>{n={...n,...T}},Mn={control:{register:he,unregister:ce,getFieldState:ie,handleSubmit:pe,setError:J,_subscribe:ue,_runSchema:k,_getWatch:O,_getDirty:_,_setValid:j,_setFieldArray:v,_setDisabledField:ve,_setErrors:w,_getFieldArray:D,_reset:Ne,_resetDefaultValues:()=>Mi(t.defaultValues)&&t.defaultValues().then(T=>{et(T,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:fe,_subjects:p,_proxyFormState:u,get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:ke,trigger:Z,register:he,handleSubmit:pe,watch:se,setValue:z,getValues:$,reset:et,resetField:Te,clearErrors:ne,unregister:ce,setError:J,setFocus:at,getFieldState:ie};return{...Mn,formControl:Mn}}function oC(e={}){const t=q.useRef(void 0),n=q.useRef(void 0),[i,s]=q.useState({isDirty:!1,isValidating:!1,isLoading:Mi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Mi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:nNe(e),formState:i},e.formControl&&e.defaultValues&&!Mi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,q.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),q.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),q.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==i.isDirty&&a._subjects.state.next({isDirty:o})}},[a,i.isDirty]),q.useEffect(()=>{e.values&&!Oa(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),q.useEffect(()=>{e.errors&&!fr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),q.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),q.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=w5(i,a),t.current}const ZP=(e,t,n)=>{if(e&&"reportValidity"in e){const i=Ae(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},T5=(e,t)=>{for(const n in t.fields){const i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?ZP(i.ref,n,e):i.refs&&i.refs.forEach(s=>ZP(s,n,e))}},rNe=(e,t)=>{t.shouldUseNativeValidation&&T5(e,t);const n={};for(const i in e){const s=Ae(t.fields,i),a=Object.assign(e[i]||{},{ref:s&&s.ref});if(iNe(t.names||Object.keys(e),i)){const o=Object.assign({},Ae(n,i));Ot(o,"root",a),Ot(n,i,o)}else Ot(n,i,a)}return n},iNe=(e,t)=>e.some(n=>n.startsWith(t+"."));var sNe=function(e,t){for(var n={};e.length;){var i=e[0],s=i.code,a=i.message,o=i.path.join(".");if(!n[o])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in i&&i.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,d=c&&c[i.code];n[o]=S5(o,t,n,s,d?[].concat(d,i.message):i.message)}e.shift()}return n},lC=function(e,t,n){return n===void 0&&(n={}),function(i,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(d){return a.shouldUseNativeValidation&&T5({},a),{errors:{},values:n.raw?i:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:rNe(sNe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},At;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=i,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(At||(At={}));var Qw;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Qw||(Qw={}));const Re=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ls=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},xe=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),aNe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Kr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},i={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)i._errors.push(n(o));else{let l=i,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),i}static assert(t){if(!(t instanceof Kr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Kr.create=e=>new Kr(e);const Od=(e,t)=>{let n;switch(e.code){case xe.invalid_type:e.received===Re.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case xe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case xe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=t.defaultError,At.assertNever(e)}return{message:n}};let O5=Od;function oNe(e){O5=e}function cv(){return O5}const dv=e=>{const{data:t,path:n,errorMaps:i,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=i.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},lNe=[];function _e(e,t){const n=cv(),i=dv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Od?void 0:Od].filter(s=>!!s)});e.common.issues.push(i)}class lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const s of n){if(s.status==="aborted")return ct;s.status==="dirty"&&t.dirty(),i.push(s.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const s of n){const a=await s.key,o=await s.value;i.push({key:a,value:o})}return lr.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return ct;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(i[a.value]=o.value)}return{status:t.value,value:i}}}const ct=Object.freeze({status:"aborted"}),xc=e=>({status:"dirty",value:e}),yr=e=>({status:"valid",value:e}),Xw=e=>e.status==="aborted",Zw=e=>e.status==="dirty",El=e=>e.status==="valid",dp=e=>typeof Promise<"u"&&e instanceof Promise;function uv(e,t,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function I5(e,t,n,i,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));var Lu,Fu;class Ns{constructor(t,n,i,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const JP=(e,t)=>{if(El(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kr(e.common.issues);return this._error=n,this._error}}};function mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:s}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??i)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class yt{get description(){return this._def.description}_getType(t){return Ls(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new lr,ctx:{common:t.parent.common,data:t.data,parsedType:Ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(dp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const s={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ls(t)},a=this._parseSync({data:t,path:s.path,parent:s});return JP(s,a)}"~validate"(t){var n,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ls(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return El(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((i=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>El(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ls(t)},s=this._parse({data:t,path:i.path,parent:i}),a=await(dp(s)?s:Promise.resolve(s));return JP(i,a)}refine(t,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:xe.custom,...i(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((i,s)=>t(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(t){return new Yi({schema:this,typeName:lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gs.create(this,this._def)}nullable(){return mo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zi.create(this)}promise(){return Rd.create(this,this._def)}or(t){return mp.create([this,t],this._def)}and(t){return hp.create(this,t,this._def)}transform(t){return new Yi({...mt(this._def),schema:this,typeName:lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new bp({...mt(this._def),innerType:this,defaultValue:n,typeName:lt.ZodDefault})}brand(){return new cC({typeName:lt.ZodBranded,type:this,...mt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new jp({...mt(this._def),innerType:this,catchValue:n,typeName:lt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return tm.create(this,t)}readonly(){return wp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cNe=/^c[^\s-]{8,}$/i,dNe=/^[0-9a-z]+$/,uNe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fNe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pNe=/^[a-z0-9_-]{21}$/i,mNe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hNe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xNe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vNe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let I0;const gNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wNe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NNe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,R5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SNe=new RegExp(`^${R5}$`);function M5(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function CNe(e){return new RegExp(`^${M5(e)}$`)}function $5(e){let t=`${R5}T${M5(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ENe(e,t){return!!((t==="v4"||!t)&&gNe.test(e)||(t==="v6"||!t)&&bNe.test(e))}function kNe(e,t){if(!mNe.test(e))return!1;try{const[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function ANe(e,t){return!!((t==="v4"||!t)&&yNe.test(e)||(t==="v6"||!t)&&jNe.test(e))}class Di extends yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const a=this._getOrReturnCtx(t);return _e(a,{code:xe.invalid_type,expected:Re.string,received:a.parsedType}),ct}const i=new lr;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?_e(s,{code:xe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&_e(s,{code:xe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")xNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"email",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")I0||(I0=new RegExp(vNe,"u")),I0.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"emoji",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")fNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"uuid",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")pNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"nanoid",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")cNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"cuid",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")dNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"cuid2",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")uNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"ulid",code:xe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),_e(s,{validation:"url",code:xe.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"regex",code:xe.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?$5(a).test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?SNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?CNe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?hNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"duration",code:xe.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?ENe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"ip",code:xe.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?kNe(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"jwt",code:xe.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?ANe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"cidr",code:xe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?wNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"base64",code:xe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?NNe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"base64url",code:xe.invalid_string,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(s=>t.test(s),{validation:n,code:xe.invalid_string,...Ge.errToObj(i)})}_addCheck(t){return new Di({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ge.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...Ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ge.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ge.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ge.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ge.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ge.errToObj(n)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new Di({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Di.create=e=>{var t;return new Di({checks:[],typeName:lt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...mt(e)})};function _Ne(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=n>i?n:i,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class uo extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const a=this._getOrReturnCtx(t);return _e(a,{code:xe.invalid_type,expected:Re.number,received:a.parsedType}),ct}let i;const s=new lr;for(const a of this._def.checks)a.kind==="int"?At.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?_Ne(t.data,a.value)!==0&&(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.not_finite,message:a.message}),s.dirty()):At.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ge.toString(n))}setLimit(t,n,i,s){return new uo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ge.toString(s)}]})}_addCheck(t){return new uo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}uo.create=e=>new uo({checks:[],typeName:lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class fo extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let i;const s=new lr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),_e(i,{code:xe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):At.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return _e(n,{code:xe.invalid_type,expected:Re.bigint,received:n.parsedType}),ct}gte(t,n){return this.setLimit("min",t,!0,Ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ge.toString(n))}setLimit(t,n,i,s){return new fo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ge.toString(s)}]})}_addCheck(t){return new fo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}fo.create=e=>{var t;return new fo({checks:[],typeName:lt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...mt(e)})};class up extends yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const i=this._getOrReturnCtx(t);return _e(i,{code:xe.invalid_type,expected:Re.boolean,received:i.parsedType}),ct}return yr(t.data)}}up.create=e=>new up({typeName:lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class kl extends yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const a=this._getOrReturnCtx(t);return _e(a,{code:xe.invalid_type,expected:Re.date,received:a.parsedType}),ct}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return _e(a,{code:xe.invalid_date}),ct}const i=new lr;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:xe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):At.assertNever(a);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new kl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}kl.create=e=>new kl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:lt.ZodDate,...mt(e)});class fv extends yt{_parse(t){if(this._getType(t)!==Re.symbol){const i=this._getOrReturnCtx(t);return _e(i,{code:xe.invalid_type,expected:Re.symbol,received:i.parsedType}),ct}return yr(t.data)}}fv.create=e=>new fv({typeName:lt.ZodSymbol,...mt(e)});class fp extends yt{_parse(t){if(this._getType(t)!==Re.undefined){const i=this._getOrReturnCtx(t);return _e(i,{code:xe.invalid_type,expected:Re.undefined,received:i.parsedType}),ct}return yr(t.data)}}fp.create=e=>new fp({typeName:lt.ZodUndefined,...mt(e)});class pp extends yt{_parse(t){if(this._getType(t)!==Re.null){const i=this._getOrReturnCtx(t);return _e(i,{code:xe.invalid_type,expected:Re.null,received:i.parsedType}),ct}return yr(t.data)}}pp.create=e=>new pp({typeName:lt.ZodNull,...mt(e)});class Id extends yt{constructor(){super(...arguments),this._any=!0}_parse(t){return yr(t.data)}}Id.create=e=>new Id({typeName:lt.ZodAny,...mt(e)});class dl extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yr(t.data)}}dl.create=e=>new dl({typeName:lt.ZodUnknown,...mt(e)});class pa extends yt{_parse(t){const n=this._getOrReturnCtx(t);return _e(n,{code:xe.invalid_type,expected:Re.never,received:n.parsedType}),ct}}pa.create=e=>new pa({typeName:lt.ZodNever,...mt(e)});class pv extends yt{_parse(t){if(this._getType(t)!==Re.undefined){const i=this._getOrReturnCtx(t);return _e(i,{code:xe.invalid_type,expected:Re.void,received:i.parsedType}),ct}return yr(t.data)}}pv.create=e=>new pv({typeName:lt.ZodVoid,...mt(e)});class zi extends yt{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),s=this._def;if(n.parsedType!==Re.array)return _e(n,{code:xe.invalid_type,expected:Re.array,received:n.parsedType}),ct;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(_e(n,{code:o?xe.too_big:xe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(_e(n,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(_e(n,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Ns(n,o,n.path,l)))).then(o=>lr.mergeArray(i,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new Ns(n,o,n.path,l)));return lr.mergeArray(i,a)}get element(){return this._def.type}min(t,n){return new zi({...this._def,minLength:{value:t,message:Ge.toString(n)}})}max(t,n){return new zi({...this._def,maxLength:{value:t,message:Ge.toString(n)}})}length(t,n){return new zi({...this._def,exactLength:{value:t,message:Ge.toString(n)}})}nonempty(t){return this.min(1,t)}}zi.create=(e,t)=>new zi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lt.ZodArray,...mt(t)});function Zl(e){if(e instanceof dn){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=gs.create(Zl(i))}return new dn({...e._def,shape:()=>t})}else return e instanceof zi?new zi({...e._def,type:Zl(e.element)}):e instanceof gs?gs.create(Zl(e.unwrap())):e instanceof mo?mo.create(Zl(e.unwrap())):e instanceof Ss?Ss.create(e.items.map(t=>Zl(t))):e}class dn extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=At.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Re.object){const d=this._getOrReturnCtx(t);return _e(d,{code:xe.invalid_type,expected:Re.object,received:d.parsedType}),ct}const{status:i,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof pa&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ns(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof pa){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(_e(s,{code:xe.unrecognized_keys,keys:l}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ns(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,p=await u.value;d.push({key:f,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>lr.mergeObjectSync(i,d)):lr.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new dn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,i).message)!==null&&o!==void 0?o:i.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ge.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(t){return new dn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new dn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:lt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new dn({...this._def,catchall:t})}pick(t){const n={};return At.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new dn({...this._def,shape:()=>n})}omit(t){const n={};return At.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new dn({...this._def,shape:()=>n})}deepPartial(){return Zl(this)}partial(t){const n={};return At.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];t&&!t[i]?n[i]=s:n[i]=s.optional()}),new dn({...this._def,shape:()=>n})}required(t){const n={};return At.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof gs;)a=a._def.innerType;n[i]=a}}),new dn({...this._def,shape:()=>n})}keyof(){return D5(At.objectKeys(this.shape))}}dn.create=(e,t)=>new dn({shape:()=>e,unknownKeys:"strip",catchall:pa.create(),typeName:lt.ZodObject,...mt(t)});dn.strictCreate=(e,t)=>new dn({shape:()=>e,unknownKeys:"strict",catchall:pa.create(),typeName:lt.ZodObject,...mt(t)});dn.lazycreate=(e,t)=>new dn({shape:e,unknownKeys:"strip",catchall:pa.create(),typeName:lt.ZodObject,...mt(t)});class mp extends yt{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Kr(l.ctx.common.issues));return _e(n,{code:xe.invalid_union,unionErrors:o}),ct}if(n.common.async)return Promise.all(i.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of i){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Kr(c));return _e(n,{code:xe.invalid_union,unionErrors:l}),ct}}get options(){return this._def.options}}mp.create=(e,t)=>new mp({options:e,typeName:lt.ZodUnion,...mt(t)});const Rs=e=>e instanceof vp?Rs(e.schema):e instanceof Yi?Rs(e.innerType()):e instanceof gp?[e.value]:e instanceof po?e.options:e instanceof yp?At.objectValues(e.enum):e instanceof bp?Rs(e._def.innerType):e instanceof fp?[void 0]:e instanceof pp?[null]:e instanceof gs?[void 0,...Rs(e.unwrap())]:e instanceof mo?[null,...Rs(e.unwrap())]:e instanceof cC||e instanceof wp?Rs(e.unwrap()):e instanceof jp?Rs(e._def.innerType):[];class ay extends yt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.object)return _e(n,{code:xe.invalid_type,expected:Re.object,received:n.parsedType}),ct;const i=this.discriminator,s=n.data[i],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(_e(n,{code:xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const s=new Map;for(const a of n){const o=Rs(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new ay({typeName:lt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...mt(i)})}}function Jw(e,t){const n=Ls(e),i=Ls(t);if(e===t)return{valid:!0,data:e};if(n===Re.object&&i===Re.object){const s=At.objectKeys(t),a=At.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Jw(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Re.array&&i===Re.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Jw(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Re.date&&i===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class hp extends yt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=(a,o)=>{if(Xw(a)||Xw(o))return ct;const l=Jw(a.value,o.value);return l.valid?((Zw(a)||Zw(o))&&n.dirty(),{status:n.value,value:l.data}):(_e(i,{code:xe.invalid_intersection_types}),ct)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}hp.create=(e,t,n)=>new hp({left:e,right:t,typeName:lt.ZodIntersection,...mt(n)});class Ss extends yt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.array)return _e(i,{code:xe.invalid_type,expected:Re.array,received:i.parsedType}),ct;if(i.data.length<this._def.items.length)return _e(i,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&i.data.length>this._def.items.length&&(_e(i,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ns(i,o,i.path,l)):null}).filter(o=>!!o);return i.common.async?Promise.all(a).then(o=>lr.mergeArray(n,o)):lr.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Ss({...this._def,rest:t})}}Ss.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ss({items:e,typeName:lt.ZodTuple,rest:null,...mt(t)})};class xp extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.object)return _e(i,{code:xe.invalid_type,expected:Re.object,received:i.parsedType}),ct;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in i.data)s.push({key:a._parse(new Ns(i,l,i.path,l)),value:o._parse(new Ns(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?lr.mergeObjectAsync(n,s):lr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof yt?new xp({keyType:t,valueType:n,typeName:lt.ZodRecord,...mt(i)}):new xp({keyType:Di.create(),valueType:t,typeName:lt.ZodRecord,...mt(n)})}}class mv extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.map)return _e(i,{code:xe.invalid_type,expected:Re.map,received:i.parsedType}),ct;const s=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([l,c],d)=>({key:s._parse(new Ns(i,l,i.path,[d,"key"])),value:a._parse(new Ns(i,c,i.path,[d,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ct;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ct;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}mv.create=(e,t,n)=>new mv({valueType:t,keyType:e,typeName:lt.ZodMap,...mt(n)});class Al extends yt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.set)return _e(i,{code:xe.invalid_type,expected:Re.set,received:i.parsedType}),ct;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(_e(i,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(_e(i,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ct;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...i.data.values()].map((c,d)=>a._parse(new Ns(i,c,i.path,d)));return i.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Al({...this._def,minSize:{value:t,message:Ge.toString(n)}})}max(t,n){return new Al({...this._def,maxSize:{value:t,message:Ge.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Al.create=(e,t)=>new Al({valueType:e,minSize:null,maxSize:null,typeName:lt.ZodSet,...mt(t)});class Ic extends yt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.function)return _e(n,{code:xe.invalid_type,expected:Re.function,received:n.parsedType}),ct;function i(l,c){return dv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cv(),Od].filter(d=>!!d),issueData:{code:xe.invalid_arguments,argumentsError:c}})}function s(l,c){return dv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cv(),Od].filter(d=>!!d),issueData:{code:xe.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Rd){const l=this;return yr(async function(...c){const d=new Kr([]),u=await l._def.args.parseAsync(c,a).catch(x=>{throw d.addIssue(i(c,x)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,a).catch(x=>{throw d.addIssue(s(f,x)),d})})}else{const l=this;return yr(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Kr([i(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,a);if(!f.success)throw new Kr([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ic({...this._def,args:Ss.create(t).rest(dl.create())})}returns(t){return new Ic({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new Ic({args:t||Ss.create([]).rest(dl.create()),returns:n||dl.create(),typeName:lt.ZodFunction,...mt(i)})}}class vp extends yt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vp.create=(e,t)=>new vp({getter:e,typeName:lt.ZodLazy,...mt(t)});class gp extends yt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return _e(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:t.data}}get value(){return this._def.value}}gp.create=(e,t)=>new gp({value:e,typeName:lt.ZodLiteral,...mt(t)});function D5(e,t){return new po({values:e,typeName:lt.ZodEnum,...mt(t)})}class po extends yt{constructor(){super(...arguments),Lu.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return _e(n,{expected:At.joinValues(i),received:n.parsedType,code:xe.invalid_type}),ct}if(uv(this,Lu)||I5(this,Lu,new Set(this._def.values)),!uv(this,Lu).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return _e(n,{received:n.data,code:xe.invalid_enum_value,options:i}),ct}return yr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return po.create(t,{...this._def,...n})}exclude(t,n=this._def){return po.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Lu=new WeakMap;po.create=D5;class yp extends yt{constructor(){super(...arguments),Fu.set(this,void 0)}_parse(t){const n=At.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Re.string&&i.parsedType!==Re.number){const s=At.objectValues(n);return _e(i,{expected:At.joinValues(s),received:i.parsedType,code:xe.invalid_type}),ct}if(uv(this,Fu)||I5(this,Fu,new Set(At.getValidEnumValues(this._def.values))),!uv(this,Fu).has(t.data)){const s=At.objectValues(n);return _e(i,{received:i.data,code:xe.invalid_enum_value,options:s}),ct}return yr(t.data)}get enum(){return this._def.values}}Fu=new WeakMap;yp.create=(e,t)=>new yp({values:e,typeName:lt.ZodNativeEnum,...mt(t)});class Rd extends yt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.promise&&n.common.async===!1)return _e(n,{code:xe.invalid_type,expected:Re.promise,received:n.parsedType}),ct;const i=n.parsedType===Re.promise?n.data:Promise.resolve(n.data);return yr(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rd.create=(e,t)=>new Rd({type:e,typeName:lt.ZodPromise,...mt(t)});class Yi extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{_e(i,o),o.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(i.data,a);if(i.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return ct;const c=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return c.status==="aborted"?ct:c.status==="dirty"||n.value==="dirty"?xc(c.value):c});{if(n.value==="aborted")return ct;const l=this._def.schema._parseSync({data:o,path:i.path,parent:i});return l.status==="aborted"?ct:l.status==="dirty"||n.value==="dirty"?xc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ct:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?ct:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!El(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>El(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);At.assertNever(s)}}Yi.create=(e,t,n)=>new Yi({schema:e,typeName:lt.ZodEffects,effect:t,...mt(n)});Yi.createWithPreprocess=(e,t,n)=>new Yi({schema:t,effect:{type:"preprocess",transform:e},typeName:lt.ZodEffects,...mt(n)});class gs extends yt{_parse(t){return this._getType(t)===Re.undefined?yr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gs.create=(e,t)=>new gs({innerType:e,typeName:lt.ZodOptional,...mt(t)});class mo extends yt{_parse(t){return this._getType(t)===Re.null?yr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mo.create=(e,t)=>new mo({innerType:e,typeName:lt.ZodNullable,...mt(t)});class bp extends yt{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===Re.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bp.create=(e,t)=>new bp({innerType:e,typeName:lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...mt(t)});class jp extends yt{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return dp(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Kr(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Kr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}jp.create=(e,t)=>new jp({innerType:e,typeName:lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...mt(t)});class hv extends yt{_parse(t){if(this._getType(t)!==Re.nan){const i=this._getOrReturnCtx(t);return _e(i,{code:xe.invalid_type,expected:Re.nan,received:i.parsedType}),ct}return{status:"valid",value:t.data}}}hv.create=e=>new hv({typeName:lt.ZodNaN,...mt(e)});const PNe=Symbol("zod_brand");class cC extends yt{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class tm extends yt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?ct:a.status==="dirty"?(n.dirty(),xc(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?ct:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,n){return new tm({in:t,out:n,typeName:lt.ZodPipeline})}}class wp extends yt{_parse(t){const n=this._def.innerType._parse(t),i=s=>(El(s)&&(s.value=Object.freeze(s.value)),s);return dp(n)?n.then(s=>i(s)):i(n)}unwrap(){return this._def.innerType}}wp.create=(e,t)=>new wp({innerType:e,typeName:lt.ZodReadonly,...mt(t)});function eT(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function L5(e,t={},n){return e?Id.create().superRefine((i,s)=>{var a,o;const l=e(i);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=eT(t,i),p=(u=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:p})}});if(!l){const c=eT(t,i),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):Id.create()}const TNe={object:dn.lazycreate};var lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(lt||(lt={}));const ONe=(e,t={message:`Input not instance of ${e.name}`})=>L5(n=>n instanceof e,t),F5=Di.create,q5=uo.create,INe=hv.create,RNe=fo.create,z5=up.create,MNe=kl.create,$Ne=fv.create,DNe=fp.create,LNe=pp.create,FNe=Id.create,qNe=dl.create,zNe=pa.create,BNe=pv.create,UNe=zi.create,VNe=dn.create,WNe=dn.strictCreate,HNe=mp.create,GNe=ay.create,KNe=hp.create,YNe=Ss.create,QNe=xp.create,XNe=mv.create,ZNe=Al.create,JNe=Ic.create,e1e=vp.create,t1e=gp.create,n1e=po.create,r1e=yp.create,i1e=Rd.create,tT=Yi.create,s1e=gs.create,a1e=mo.create,o1e=Yi.createWithPreprocess,l1e=tm.create,c1e=()=>F5().optional(),d1e=()=>q5().optional(),u1e=()=>z5().optional(),f1e={string:e=>Di.create({...e,coerce:!0}),number:e=>uo.create({...e,coerce:!0}),boolean:e=>up.create({...e,coerce:!0}),bigint:e=>fo.create({...e,coerce:!0}),date:e=>kl.create({...e,coerce:!0})},p1e=ct;var Pe=Object.freeze({__proto__:null,defaultErrorMap:Od,setErrorMap:oNe,getErrorMap:cv,makeIssue:dv,EMPTY_PATH:lNe,addIssueToContext:_e,ParseStatus:lr,INVALID:ct,DIRTY:xc,OK:yr,isAborted:Xw,isDirty:Zw,isValid:El,isAsync:dp,get util(){return At},get objectUtil(){return Qw},ZodParsedType:Re,getParsedType:Ls,ZodType:yt,datetimeRegex:$5,ZodString:Di,ZodNumber:uo,ZodBigInt:fo,ZodBoolean:up,ZodDate:kl,ZodSymbol:fv,ZodUndefined:fp,ZodNull:pp,ZodAny:Id,ZodUnknown:dl,ZodNever:pa,ZodVoid:pv,ZodArray:zi,ZodObject:dn,ZodUnion:mp,ZodDiscriminatedUnion:ay,ZodIntersection:hp,ZodTuple:Ss,ZodRecord:xp,ZodMap:mv,ZodSet:Al,ZodFunction:Ic,ZodLazy:vp,ZodLiteral:gp,ZodEnum:po,ZodNativeEnum:yp,ZodPromise:Rd,ZodEffects:Yi,ZodTransformer:Yi,ZodOptional:gs,ZodNullable:mo,ZodDefault:bp,ZodCatch:jp,ZodNaN:hv,BRAND:PNe,ZodBranded:cC,ZodPipeline:tm,ZodReadonly:wp,custom:L5,Schema:yt,ZodSchema:yt,late:TNe,get ZodFirstPartyTypeKind(){return lt},coerce:f1e,any:FNe,array:UNe,bigint:RNe,boolean:z5,date:MNe,discriminatedUnion:GNe,effect:tT,enum:n1e,function:JNe,instanceof:ONe,intersection:KNe,lazy:e1e,literal:t1e,map:XNe,nan:INe,nativeEnum:r1e,never:zNe,null:LNe,nullable:a1e,number:q5,object:VNe,oboolean:u1e,onumber:d1e,optional:s1e,ostring:c1e,pipeline:l1e,preprocess:o1e,promise:i1e,record:QNe,set:ZNe,strictObject:WNe,string:F5,symbol:$Ne,transformer:tT,tuple:YNe,undefined:DNe,union:HNe,unknown:qNe,void:BNe,NEVER:p1e,ZodIssueCode:xe,quotelessJson:aNe,ZodError:Kr});const dC=qwe,B5=b.createContext({}),He=({...e})=>r.jsx(B5.Provider,{value:{name:e.name},children:r.jsx(Kw,{...e})}),oy=()=>{const e=b.useContext(B5),t=b.useContext(U5),{getFieldState:n,formState:i}=sy(),s=n(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},U5=b.createContext({}),Fe=b.forwardRef(({className:e,...t},n)=>{const i=b.useId();return r.jsx(U5.Provider,{value:{id:i},children:r.jsx("div",{ref:n,className:Xe("space-y-2",e),...t})})});Fe.displayName="FormItem";const qe=b.forwardRef(({className:e,...t},n)=>{const{error:i,formItemId:s}=oy();return r.jsx(oe,{ref:n,className:Xe(i&&"text-destructive",e),htmlFor:s,...t})});qe.displayName="FormLabel";const ze=b.forwardRef(({...e},t)=>{const{error:n,formItemId:i,formDescriptionId:s,formMessageId:a}=oy();return r.jsx(bR,{ref:t,id:i,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});ze.displayName="FormControl";const m1e=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:i}=oy();return r.jsx("p",{ref:n,id:i,className:Xe("text-sm text-muted-foreground",e),...t})});m1e.displayName="FormDescription";const Be=b.forwardRef(({className:e,children:t,...n},i)=>{const{error:s,formMessageId:a}=oy(),o=s?String((s==null?void 0:s.message)??""):t;return o?r.jsx("p",{ref:i,id:a,className:Xe("text-sm font-medium text-destructive",e),...n,children:o}):null});Be.displayName="FormMessage";var uC="Collapsible",[h1e,nEe]=Nr(uC),[x1e,fC]=h1e(uC),V5=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,d]=ys({prop:i,defaultProp:s,onChange:o});return r.jsx(x1e,{scope:n,disabled:a,contentId:ms(),open:c,onOpenToggle:b.useCallback(()=>d(u=>!u),[d]),children:r.jsx(nt.div,{"data-state":mC(c),"data-disabled":a?"":void 0,...l,ref:t})})});V5.displayName=uC;var W5="CollapsibleTrigger",H5=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=fC(W5,n);return r.jsx(nt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":mC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:We(e.onClick,s.onOpenToggle)})});H5.displayName=W5;var pC="CollapsibleContent",G5=b.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=fC(pC,e.__scopeCollapsible);return r.jsx(Zr,{present:n||s.open,children:({present:a})=>r.jsx(v1e,{...i,ref:t,present:a})})});G5.displayName=pC;var v1e=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...a}=e,o=fC(pC,n),[l,c]=b.useState(i),d=b.useRef(null),u=jt(t,d),f=b.useRef(0),p=f.current,x=b.useRef(0),h=x.current,m=o.open||l,y=b.useRef(m),j=b.useRef(void 0);return b.useEffect(()=>{const g=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(g)},[]),wn(()=>{const g=d.current;if(g){j.current=j.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const v=g.getBoundingClientRect();f.current=v.height,x.current=v.width,y.current||(g.style.transitionDuration=j.current.transitionDuration,g.style.animationName=j.current.animationName),c(i)}},[o.open,i]),r.jsx(nt.div,{"data-state":mC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":h?`${h}px`:void 0,...e.style},children:m&&s})});function mC(e){return e?"open":"closed"}var g1e=V5;const y1e=g1e,b1e=H5,j1e=G5,w1e=Pe.object({equipmentGroupId:Pe.number().min(1,"Equipment Group is required"),equipmentTypeId:Pe.number().min(1,"Equipment Type is required"),subtypeId:Pe.number().optional(),equipmentCode:Pe.string().min(1,"Equipment Code is required"),failureCode:Pe.string().optional(),componentFailureMode:Pe.string().min(1,"Component/Failure Mode is required"),riskRankingId:Pe.number().optional(),riskRankingLabel:Pe.string().optional(),requiredTrendDataEvidence:Pe.string().optional(),aiOrInvestigatorQuestions:Pe.string().optional(),attachmentsEvidenceRequired:Pe.string().optional(),rootCauseLogic:Pe.string().optional(),primaryRootCause:Pe.string().optional(),contributingFactor:Pe.string().optional(),latentCause:Pe.string().optional(),detectionGap:Pe.string().optional(),confidenceLevel:Pe.string().optional(),faultSignaturePattern:Pe.string().optional(),applicableToOtherEquipment:Pe.string().optional(),eliminatedIfTheseFailuresConfirmed:Pe.string().optional(),whyItGetsEliminated:Pe.string().optional(),evidenceGapFlag:Pe.string().optional(),diagnosticValue:Pe.string().optional(),industryRelevance:Pe.string().optional(),evidencePriority:Pe.string().optional(),timeToCollect:Pe.string().optional(),collectionCost:Pe.string().optional(),analysisComplexity:Pe.string().optional(),seasonalFactor:Pe.string().optional(),relatedFailureModes:Pe.string().optional(),prerequisiteEvidence:Pe.string().optional(),followupActions:Pe.string().optional(),industryBenchmark:Pe.string().optional()}),nT="__NONE__";function N1e({initialData:e,onSubmit:t,onCancel:n,isLoading:i=!1,isEdit:s=!1}){const[a,o]=b.useState(()=>{const v=localStorage.getItem("evidenceForm.showAdvanced");return v?JSON.parse(v):!1}),[l,c]=b.useState(e==null?void 0:e.equipmentGroupId),[d,u]=b.useState(e==null?void 0:e.equipmentTypeId);b.useEffect(()=>{localStorage.setItem("evidenceForm.showAdvanced",JSON.stringify(a))},[a]);const f=oC({resolver:lC(w1e),defaultValues:{equipmentGroupId:e==null?void 0:e.equipmentGroupId,equipmentTypeId:e==null?void 0:e.equipmentTypeId,subtypeId:e==null?void 0:e.subtypeId,equipmentCode:(e==null?void 0:e.equipmentCode)||"",failureCode:(e==null?void 0:e.failureCode)||"",componentFailureMode:(e==null?void 0:e.componentFailureMode)||"",riskRankingId:e==null?void 0:e.riskRankingId,riskRankingLabel:(e==null?void 0:e.riskRankingLabel)||"",requiredTrendDataEvidence:(e==null?void 0:e.requiredTrendDataEvidence)||"",aiOrInvestigatorQuestions:(e==null?void 0:e.aiOrInvestigatorQuestions)||"",attachmentsEvidenceRequired:(e==null?void 0:e.attachmentsEvidenceRequired)||"",rootCauseLogic:(e==null?void 0:e.rootCauseLogic)||"",primaryRootCause:(e==null?void 0:e.primaryRootCause)||"",contributingFactor:(e==null?void 0:e.contributingFactor)||"",latentCause:(e==null?void 0:e.latentCause)||"",detectionGap:(e==null?void 0:e.detectionGap)||"",confidenceLevel:(e==null?void 0:e.confidenceLevel)||"",faultSignaturePattern:(e==null?void 0:e.faultSignaturePattern)||"",applicableToOtherEquipment:(e==null?void 0:e.applicableToOtherEquipment)||"",eliminatedIfTheseFailuresConfirmed:(e==null?void 0:e.eliminatedIfTheseFailuresConfirmed)||"",whyItGetsEliminated:(e==null?void 0:e.whyItGetsEliminated)||"",evidenceGapFlag:(e==null?void 0:e.evidenceGapFlag)||"",diagnosticValue:(e==null?void 0:e.diagnosticValue)||"",industryRelevance:(e==null?void 0:e.industryRelevance)||"",evidencePriority:(e==null?void 0:e.evidencePriority)||"",timeToCollect:(e==null?void 0:e.timeToCollect)||"",collectionCost:(e==null?void 0:e.collectionCost)||"",analysisComplexity:(e==null?void 0:e.analysisComplexity)||"",seasonalFactor:(e==null?void 0:e.seasonalFactor)||"",relatedFailureModes:(e==null?void 0:e.relatedFailureModes)||"",prerequisiteEvidence:(e==null?void 0:e.prerequisiteEvidence)||"",followupActions:(e==null?void 0:e.followupActions)||"",industryBenchmark:(e==null?void 0:e.industryBenchmark)||""}}),{data:p=[]}=Ce({queryKey:["/api/equipment-groups"]}),{data:x=[]}=Ce({queryKey:["/api/equipment-types/by-group",l],enabled:!!l}),{data:h=[]}=Ce({queryKey:["/api/equipment-subtypes/by-type",d],enabled:!!d}),{data:m=[]}=Ce({queryKey:["/api/risk-rankings"]}),y=v=>{const N={...v,subtypeId:v.subtypeId===null?void 0:v.subtypeId,failureCode:v.failureCode||null,riskRankingLabel:v.riskRankingLabel||null,requiredTrendDataEvidence:v.requiredTrendDataEvidence||null,aiOrInvestigatorQuestions:v.aiOrInvestigatorQuestions||null,attachmentsEvidenceRequired:v.attachmentsEvidenceRequired||null,rootCauseLogic:v.rootCauseLogic||null,primaryRootCause:v.primaryRootCause||null,contributingFactor:v.contributingFactor||null,latentCause:v.latentCause||null,detectionGap:v.detectionGap||null,confidenceLevel:v.confidenceLevel||null,faultSignaturePattern:v.faultSignaturePattern||null,applicableToOtherEquipment:v.applicableToOtherEquipment||null,eliminatedIfTheseFailuresConfirmed:v.eliminatedIfTheseFailuresConfirmed||null,whyItGetsEliminated:v.whyItGetsEliminated||null,evidenceGapFlag:v.evidenceGapFlag||null,diagnosticValue:v.diagnosticValue||null,industryRelevance:v.industryRelevance||null,evidencePriority:v.evidencePriority||null,timeToCollect:v.timeToCollect||null,collectionCost:v.collectionCost||null,analysisComplexity:v.analysisComplexity||null,seasonalFactor:v.seasonalFactor||null,relatedFailureModes:v.relatedFailureModes||null,prerequisiteEvidence:v.prerequisiteEvidence||null,followupActions:v.followupActions||null,industryBenchmark:v.industryBenchmark||null};t(N)},j=f.watch("riskRankingId"),g=m.find(v=>v.id===j);return r.jsx(dC,{...f,children:r.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6 max-w-4xl",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"1. Classification"}),r.jsx(ye,{children:"Equipment identification and categorization"})]}),r.jsxs(K,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(He,{control:f.control,name:"equipmentGroupId",render:({field:v})=>{var N;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment Group *"}),r.jsxs($e,{value:(N=v.value)==null?void 0:N.toString(),onValueChange:w=>{const S=parseInt(w);v.onChange(S),c(S),f.setValue("equipmentTypeId",void 0),f.setValue("subtypeId",void 0),u(void 0)},children:[r.jsx(ze,{children:r.jsx(Me,{"data-testid":"select-equipment-group",children:r.jsx(De,{placeholder:"Select Equipment Group"})})}),r.jsx(Le,{children:p.map(w=>r.jsx(te,{value:w.id.toString(),children:w.name},w.id))})]}),r.jsx(Be,{})]})}}),r.jsx(He,{control:f.control,name:"equipmentTypeId",render:({field:v})=>{var N;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment Type *"}),r.jsxs($e,{value:(N=v.value)==null?void 0:N.toString(),onValueChange:w=>{const S=parseInt(w);v.onChange(S),u(S),f.setValue("subtypeId",void 0)},disabled:!l,children:[r.jsx(ze,{children:r.jsx(Me,{"data-testid":"select-equipment-type",children:r.jsx(De,{placeholder:"Select Equipment Type"})})}),r.jsx(Le,{children:x.map(w=>r.jsx(te,{value:w.id.toString(),children:w.name},w.id))})]}),r.jsx(Be,{})]})}}),r.jsx(He,{control:f.control,name:"subtypeId",render:({field:v})=>{var N;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Subtype (Optional)"}),r.jsxs($e,{value:((N=v.value)==null?void 0:N.toString())||void 0,onValueChange:w=>{v.onChange(w===nT?void 0:parseInt(w))},disabled:!d,children:[r.jsx(ze,{children:r.jsx(Me,{"data-testid":"select-equipment-subtype",children:r.jsx(De,{placeholder:"Select Subtype (Optional)"})})}),r.jsxs(Le,{children:[r.jsx(te,{value:nT,children:"None"}),h.map(w=>r.jsx(te,{value:w.id.toString(),children:w.name},w.id))]})]}),r.jsx(Be,{})]})}})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"2. Identity & Codes"}),r.jsx(ye,{children:"Equipment identification and failure classification"})]}),r.jsxs(K,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(He,{control:f.control,name:"equipmentCode",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment Code *"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., PUMP-001","data-testid":"input-equipment-code",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"failureCode",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Failure Code"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., BRG-OVHT-001","data-testid":"input-failure-code",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"componentFailureMode",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Component / Failure Mode *"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., Bearing Overheating","data-testid":"input-component-failure-mode",...v})}),r.jsx(Be,{})]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"3. Risk"}),r.jsx(ye,{children:"Risk assessment and ranking"})]}),r.jsxs(K,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(He,{control:f.control,name:"riskRankingId",render:({field:v})=>{var N;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Risk Ranking"}),r.jsxs($e,{value:(N=v.value)==null?void 0:N.toString(),onValueChange:w=>{const S=parseInt(w);v.onChange(S);const E=m.find(C=>C.id===S);E&&f.setValue("riskRankingLabel",E.label)},children:[r.jsx(ze,{children:r.jsx(Me,{"data-testid":"select-risk-ranking",children:r.jsx(De,{placeholder:"Select Risk Ranking"})})}),r.jsx(Le,{children:m.map(w=>r.jsx(te,{value:w.id.toString(),children:r.jsx(ee,{variant:w.label==="Critical"?"destructive":w.label==="High"?"default":w.label==="Medium"?"secondary":"outline",children:w.label})},w.id))})]}),r.jsx(Be,{})]})}}),r.jsx(He,{control:f.control,name:"riskRankingLabel",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Risk Ranking Label"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"Auto-filled or custom text","data-testid":"input-risk-label",...v,readOnly:!!g})}),r.jsx(Be,{})]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"4. Evidence Requirements"}),r.jsx(ye,{children:"Required data and investigation questions"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsx(He,{control:f.control,name:"requiredTrendDataEvidence",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Required Trend Data / Evidence"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., vibration; IR; oil analysis",className:"min-h-[100px] resize-none","data-testid":"textarea-trend-data",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"aiOrInvestigatorQuestions",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"AI or Investigator Questions"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:`e.g., When did overheating start?
Any recent alignment work?`,className:"min-h-[100px] resize-none","data-testid":"textarea-questions",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"attachmentsEvidenceRequired",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Attachments / Evidence Required"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., Vibration spectrum, IR images",className:"min-h-[100px] resize-none","data-testid":"textarea-attachments",...v})}),r.jsx(Be,{})]})})]})]}),r.jsxs(y1e,{open:a,onOpenChange:o,children:[r.jsx(b1e,{asChild:!0,children:r.jsxs(V,{type:"button",variant:"outline",className:"w-full flex items-center justify-between","data-testid":"toggle-advanced-fields",children:[r.jsx("span",{children:"Show Advanced Fields"}),a?r.jsx(XR,{className:"h-4 w-4"}):r.jsx(u1,{className:"h-4 w-4"})]})}),r.jsxs(j1e,{className:"space-y-6 mt-6",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"5. RCA Logic & Causes"}),r.jsx(ye,{children:"Root cause analysis logic and identified causes"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsx(He,{control:f.control,name:"rootCauseLogic",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Root Cause Logic"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., If IR > threshold and spectrum shows 2x line frequency...",className:"min-h-[100px] resize-none","data-testid":"textarea-root-cause-logic",...v})}),r.jsx(Be,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(He,{control:f.control,name:"primaryRootCause",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Primary Root Cause"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., Lubrication failure","data-testid":"input-primary-root-cause",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"contributingFactor",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Contributing Factor"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., High ambient temperature","data-testid":"input-contributing-factor",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"latentCause",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Latent Cause"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., PM interval too long","data-testid":"input-latent-cause",...v})}),r.jsx(Be,{})]})})]})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"6. Detection & Confidence"}),r.jsx(ye,{children:"Detection gaps and confidence assessment"})]}),r.jsxs(K,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(He,{control:f.control,name:"detectionGap",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Detection Gap"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., No online temp alarm at DE",className:"min-h-[100px] resize-none","data-testid":"textarea-detection-gap",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"confidenceLevel",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Confidence Level"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., 80% or High","data-testid":"input-confidence-level",...v})}),r.jsx(Be,{})]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"7. Patterns & Applicability"}),r.jsx(ye,{children:"Fault patterns and equipment applicability"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsx(He,{control:f.control,name:"faultSignaturePattern",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Fault Signature Pattern"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., High 1 with sidebands; IR hotspot at DE cap",className:"min-h-[100px] resize-none","data-testid":"textarea-fault-signature",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"applicableToOtherEquipment",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Applicable to Other Equipment"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., P-102; all ANSI pump skids",className:"min-h-[100px] resize-none","data-testid":"textarea-applicable-equipment",...v})}),r.jsx(Be,{})]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"8. Elimination Logic"}),r.jsx(ye,{children:"Logic for eliminating potential causes"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsx(He,{control:f.control,name:"eliminatedIfTheseFailuresConfirmed",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Eliminated If These Failures Confirmed"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., Misalignment; Soft foot",className:"min-h-[100px] resize-none","data-testid":"textarea-eliminated-if",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"whyItGetsEliminated",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Why It Gets Eliminated"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"e.g., If backlash within spec and temp normal, misalignment unlikely",className:"min-h-[100px] resize-none","data-testid":"textarea-why-eliminated",...v})}),r.jsx(Be,{})]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{className:"text-lg",children:"9. Additional Information"}),r.jsx(ye,{children:"Flags, evaluation metrics, and additional details"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsx(He,{control:f.control,name:"evidenceGapFlag",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Evidence Gap Flag"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"Yes/No/Unknown","data-testid":"input-evidence-gap-flag",...v})}),r.jsx(Be,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(He,{control:f.control,name:"diagnosticValue",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Diagnostic Value"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., High","data-testid":"input-diagnostic-value",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"industryRelevance",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Industry Relevance"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., Petrochemical","data-testid":"input-industry-relevance",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"evidencePriority",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Evidence Priority"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., Critical","data-testid":"input-evidence-priority",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"timeToCollect",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Time to Collect"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., 2 hours","data-testid":"input-time-to-collect",...v})}),r.jsx(Be,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(He,{control:f.control,name:"collectionCost",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Collection Cost"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., $500","data-testid":"input-collection-cost",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"analysisComplexity",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Analysis Complexity"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., Medium","data-testid":"input-analysis-complexity",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"seasonalFactor",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Seasonal Factor"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., Summer peaks","data-testid":"input-seasonal-factor",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"industryBenchmark",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Industry Benchmark"}),r.jsx(ze,{children:r.jsx(me,{placeholder:"e.g., API 610","data-testid":"input-industry-benchmark",...v})}),r.jsx(Be,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(He,{control:f.control,name:"relatedFailureModes",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Related Failure Modes"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"Related failure modes",className:"min-h-[80px] resize-none","data-testid":"textarea-related-failures",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"prerequisiteEvidence",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Prerequisite Evidence"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"Required prerequisite evidence",className:"min-h-[80px] resize-none","data-testid":"textarea-prerequisite-evidence",...v})}),r.jsx(Be,{})]})}),r.jsx(He,{control:f.control,name:"followupActions",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Followup Actions"}),r.jsx(ze,{children:r.jsx(Qe,{placeholder:"Recommended followup actions",className:"min-h-[80px] resize-none","data-testid":"textarea-followup-actions",...v})}),r.jsx(Be,{})]})})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[r.jsxs(V,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel",children:[r.jsx(sa,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(V,{type:"submit",disabled:i,"data-testid":"button-save",children:[r.jsx(rl,{className:"h-4 w-4 mr-2"}),i?"Saving...":s?"Update Evidence":"Add Evidence"]})]})]})})}function Ht(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ho(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const K5=6048e5,S1e=864e5,Km=43200,rT=1440;let C1e={};function nm(){return C1e}function Np(e,t){var l,c,d,u;const n=nm(),i=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Ht(e),a=s.getDay(),o=(a<i?7:0)+a-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function xv(e){return Np(e,{weekStartsOn:1})}function Y5(e){const t=Ht(e),n=t.getFullYear(),i=ho(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=xv(i),a=ho(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=xv(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function iT(e){const t=Ht(e);return t.setHours(0,0,0,0),t}function vv(e){const t=Ht(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function E1e(e,t){const n=iT(e),i=iT(t),s=+n-vv(n),a=+i-vv(i);return Math.round((s-a)/S1e)}function k1e(e){const t=Y5(e),n=ho(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),xv(n)}function jh(e,t){const n=Ht(e),i=Ht(t),s=n.getTime()-i.getTime();return s<0?-1:s>0?1:s}function A1e(e){return ho(e,Date.now())}function _1e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function P1e(e){if(!_1e(e)&&typeof e!="number")return!1;const t=Ht(e);return!isNaN(Number(t))}function T1e(e,t){const n=Ht(e),i=Ht(t),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function O1e(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function I1e(e,t){return+Ht(e)-+Ht(t)}function R1e(e){const t=Ht(e);return t.setHours(23,59,59,999),t}function M1e(e){const t=Ht(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $1e(e){const t=Ht(e);return+R1e(t)==+M1e(t)}function D1e(e,t){const n=Ht(e),i=Ht(t),s=jh(n,i),a=Math.abs(T1e(n,i));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=jh(n,i)===-s;$1e(Ht(e))&&a===1&&jh(e,i)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function L1e(e,t,n){const i=I1e(e,t)/1e3;return O1e(n==null?void 0:n.roundingMethod)(i)}function F1e(e){const t=Ht(e),n=ho(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const q1e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},z1e=(e,t,n)=>{let i;const s=q1e[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function R0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const B1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W1e={date:R0({formats:B1e,defaultWidth:"full"}),time:R0({formats:U1e,defaultWidth:"full"}),dateTime:R0({formats:V1e,defaultWidth:"full"})},H1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},G1e=(e,t,n,i)=>H1e[e];function Au(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const K1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eSe=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tSe={ordinalNumber:eSe,era:Au({values:K1e,defaultWidth:"wide"}),quarter:Au({values:Y1e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Au({values:Q1e,defaultWidth:"wide"}),day:Au({values:X1e,defaultWidth:"wide"}),dayPeriod:Au({values:Z1e,defaultWidth:"wide",formattingValues:J1e,defaultFormattingWidth:"wide"})};function _u(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rSe(l,f=>f.test(o)):nSe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function nSe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function rSe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function iSe(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const sSe=/^(\d+)(th|st|nd|rd)?/i,aSe=/\d+/i,oSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lSe={any:[/^b/i,/^(a|c)/i]},cSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dSe={any:[/1/i,/2/i,/3/i,/4/i]},uSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vSe={ordinalNumber:iSe({matchPattern:sSe,parsePattern:aSe,valueCallback:e=>parseInt(e,10)}),era:_u({matchPatterns:oSe,defaultMatchWidth:"wide",parsePatterns:lSe,defaultParseWidth:"any"}),quarter:_u({matchPatterns:cSe,defaultMatchWidth:"wide",parsePatterns:dSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_u({matchPatterns:uSe,defaultMatchWidth:"wide",parsePatterns:fSe,defaultParseWidth:"any"}),day:_u({matchPatterns:pSe,defaultMatchWidth:"wide",parsePatterns:mSe,defaultParseWidth:"any"}),dayPeriod:_u({matchPatterns:hSe,defaultMatchWidth:"any",parsePatterns:xSe,defaultParseWidth:"any"})},Q5={code:"en-US",formatDistance:z1e,formatLong:W1e,formatRelative:G1e,localize:tSe,match:vSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gSe(e){const t=Ht(e);return E1e(t,F1e(t))+1}function ySe(e){const t=Ht(e),n=+xv(t)-+k1e(t);return Math.round(n/K5)+1}function X5(e,t){var u,f,p,x;const n=Ht(e),i=n.getFullYear(),s=nm(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(p=s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,o=ho(e,0);o.setFullYear(i+1,0,a),o.setHours(0,0,0,0);const l=Np(o,t),c=ho(e,0);c.setFullYear(i,0,a),c.setHours(0,0,0,0);const d=Np(c,t);return n.getTime()>=l.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function bSe(e,t){var l,c,d,u;const n=nm(),i=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=X5(e,t),a=ho(e,0);return a.setFullYear(s,0,i),a.setHours(0,0,0,0),Np(a,t)}function jSe(e,t){const n=Ht(e),i=+Np(n,t)-+bSe(n,t);return Math.round(i/K5)+1}function $t(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const wa={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return $t(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$t(n+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return $t(s,t.length)}},Kl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sT={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return wa.y(e,t)},Y:function(e,t,n,i){const s=X5(e,i),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return $t(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):$t(a,t.length)},R:function(e,t){const n=Y5(e);return $t(n,t.length)},u:function(e,t){const n=e.getFullYear();return $t(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return $t(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return wa.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=jSe(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):$t(s,t.length)},I:function(e,t,n){const i=ySe(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):$t(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):wa.d(e,t)},D:function(e,t,n){const i=gSe(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return $t(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return $t(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return $t(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Kl.noon:i===0?s=Kl.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Kl.evening:i>=12?s=Kl.afternoon:i>=4?s=Kl.morning:s=Kl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return wa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):wa.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):$t(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):$t(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wa.s(e,t)},S:function(e,t){return wa.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return oT(i);case"XXXX":case"XX":return $o(i);case"XXXXX":case"XXX":default:return $o(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return oT(i);case"xxxx":case"xx":return $o(i);case"xxxxx":case"xxx":default:return $o(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aT(i,":");case"OOOO":default:return"GMT"+$o(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aT(i,":");case"zzzz":default:return"GMT"+$o(i,":")}},t:function(e,t,n){const i=Math.trunc(e.getTime()/1e3);return $t(i,t.length)},T:function(e,t,n){const i=e.getTime();return $t(i,t.length)}};function aT(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),a=i%60;return a===0?n+String(s):n+String(s)+t+$t(a,2)}function oT(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):$o(e,t)}function $o(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=$t(Math.trunc(i/60),2),a=$t(i%60,2);return n+s+t+a}const lT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Z5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wSe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return lT(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",lT(i,t)).replace("{{time}}",Z5(s,t))},NSe={p:Z5,P:wSe},SSe=/^D+$/,CSe=/^Y+$/,ESe=["D","DD","YY","YYYY"];function kSe(e){return SSe.test(e)}function ASe(e){return CSe.test(e)}function _Se(e,t,n){const i=PSe(e,t,n);if(console.warn(i),ESe.includes(e))throw new RangeError(i)}function PSe(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ISe=/^'([^]*?)'?$/,RSe=/''/g,MSe=/[a-zA-Z]/;function Sp(e,t,n){var u,f,p,x;const i=nm(),s=i.locale??Q5,a=i.firstWeekContainsDate??((f=(u=i.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=i.weekStartsOn??((x=(p=i.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,l=Ht(e);if(!P1e(l))throw new RangeError("Invalid time value");let c=t.match(OSe).map(h=>{const m=h[0];if(m==="p"||m==="P"){const y=NSe[m];return y(h,s.formatLong)}return h}).join("").match(TSe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:$Se(h)};if(sT[m])return{isToken:!0,value:h};if(m.match(MSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const m=h.value;(ASe(m)||kSe(m))&&_Se(m,t,String(e));const y=sT[m[0]];return y(l,m,s.localize,d)}).join("")}function $Se(e){const t=e.match(ISe);return t?t[1].replace(RSe,"'"):e}function DSe(e,t,n){const i=nm(),s=(n==null?void 0:n.locale)??i.locale??Q5,a=2520,o=jh(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=Ht(t),d=Ht(e)):(c=Ht(e),d=Ht(t));const u=L1e(d,c),f=(vv(d)-vv(c))/1e3,p=Math.round((u-f)/60);let x;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<rT){const h=Math.round(p/60);return s.formatDistance("aboutXHours",h,l)}else{if(p<a)return s.formatDistance("xDays",1,l);if(p<Km){const h=Math.round(p/rT);return s.formatDistance("xDays",h,l)}else if(p<Km*2)return x=Math.round(p/Km),s.formatDistance("aboutXMonths",x,l)}if(x=D1e(d,c),x<12){const h=Math.round(p/Km);return s.formatDistance("xMonths",h,l)}else{const h=x%12,m=Math.trunc(x/12);return h<3?s.formatDistance("aboutXYears",m,l):h<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function LSe(e,t){return DSe(e,A1e(e),t)}const cT=[{key:"equipmentCode",label:"Equipment Code",width:120,maxWidth:180,sortable:!0,type:"text"},{key:"equipmentGroup",label:"Equipment Group",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"equipmentType",label:"Equipment Type",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"subtype",label:"Subtype",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"componentFailureMode",label:"Component/Failure Mode",width:180,maxWidth:300,sortable:!0,type:"text"},{key:"failureCode",label:"Failure Code",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"riskRanking",label:"Risk Ranking",width:100,maxWidth:150,sortable:!0,type:"badge"},{key:"requiredTrendDataEvidence",label:"Required Trend Data",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"aiOrInvestigatorQuestions",label:"AI/Investigator Questions",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"attachmentsEvidenceRequired",label:"Attachments Required",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"rootCauseLogic",label:"Root Cause Logic",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"primaryRootCause",label:"Primary Root Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"contributingFactor",label:"Contributing Factor",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"latentCause",label:"Latent Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"detectionGap",label:"Detection Gap",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"faultSignaturePattern",label:"Fault Signature Pattern",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"applicableToOtherEquipment",label:"Applicable to Other Equipment",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"evidenceGapFlag",label:"Evidence Gap Flag",width:120,maxWidth:200,sortable:!1,type:"text"},{key:"eliminatedIfTheseFailuresConfirmed",label:"Eliminated If Failures Confirmed",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"whyItGetsEliminated",label:"Why It Gets Eliminated",width:180,maxWidth:280,sortable:!1,type:"text"},{key:"confidenceLevel",label:"Confidence Level",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"diagnosticValue",label:"Diagnostic Value",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"industryRelevance",label:"Industry Relevance",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"evidencePriority",label:"Evidence Priority",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"timeToCollect",label:"Time to Collect",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"collectionCost",label:"Collection Cost",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"analysisComplexity",label:"Analysis Complexity",width:130,maxWidth:190,sortable:!1,type:"text"},{key:"seasonalFactor",label:"Seasonal Factor",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"relatedFailureModes",label:"Related Failure Modes",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"prerequisiteEvidence",label:"Prerequisite Evidence",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"followupActions",label:"Followup Actions",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"industryBenchmark",label:"Industry Benchmark",width:140,maxWidth:220,sortable:!1,type:"text"},{key:"isActive",label:"Status",width:80,maxWidth:100,sortable:!0,type:"boolean"},{key:"lastUpdated",label:"Last Updated",width:120,maxWidth:150,sortable:!0,type:"date"},{key:"updatedBy",label:"Updated By",width:100,maxWidth:140,sortable:!1,type:"text"},{key:"createdAt",label:"Created At",width:120,maxWidth:150,sortable:!0,type:"date"}],FSe=`
.enhanced-evidence-table {
  --table-border: 1px solid hsl(var(--border));
}

.enhanced-evidence-table table {
  border-collapse: separate;
  border-spacing: 0;
  border: var(--table-border);
}

.enhanced-evidence-table th,
.enhanced-evidence-table td {
  vertical-align: top !important;
  padding: 8px 12px;
  border-bottom: var(--table-border);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  white-space: normal;
}

.enhanced-evidence-table th {
  background-color: hsl(var(--muted) / 0.5);
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1.2;
  position: sticky;
  top: 0;
  z-index: 10;
}

.enhanced-evidence-table td {
  font-size: 0.875rem;
  line-height: 1.4;
  background-color: hsl(var(--background));
}

.enhanced-evidence-table .text-content {
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  hyphens: auto;
}

.enhanced-evidence-table .border-r {
  border-right: var(--table-border);
}

/* Horizontal scroll styling */
.enhanced-evidence-table > div::-webkit-scrollbar {
  height: 8px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.3);
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.5);
  border-radius: 4px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.8);
}
`;function qSe({data:e,onEdit:t,onDelete:n,onBulkDelete:i,searchTerm:s,onSearchChange:a,selectedItems:o,onSelectionChange:l,isLoading:c=!1}){const d=b.useRef(null),[u,f]=b.useState({}),[p,x]=b.useState(null),[h,m]=b.useState("asc"),[y,j]=b.useState(cT);b.useEffect(()=>{const A={};cT.forEach(_=>{A[_.key]=_.width}),f(A)},[]);const g=()=>{if(!d.current)return;const A={};y.forEach(_=>{let O=_.label.length*8+40;e.forEach(D=>{const M=String(D[_.key]||""),G=Math.min(M.length*7+40,_.maxWidth);O=Math.max(O,G)}),A[_.key]=Math.min(Math.max(O,80),_.maxWidth)}),f(A)},v=()=>{const A={};y.forEach(_=>{A[_.key]=_.width}),f(A)},N=A=>{p===A?m(_=>_==="asc"?"desc":"asc"):(x(A),m("asc"))},w=b.useMemo(()=>p?[...e].sort((A,_)=>{const O=A[p],D=_[p];if(O==null)return 1;if(D==null)return-1;const M=String(O).localeCompare(String(D));return h==="asc"?M:-M}):e,[e,p,h]),S=A=>{l(A?e.map(_=>_.id):[])},E=(A,_)=>{l(_?[...o,A]:o.filter(O=>O!==A))},C=(A,_)=>{const O=A[_.key];switch(_.type){case"badge":return r.jsx(ee,{variant:"outline",className:"text-xs whitespace-normal",children:String(O||"")});case"date":return r.jsx("span",{className:"text-sm",children:O?Sp(new Date(String(O)),"MMM dd, yyyy"):""});case"boolean":return r.jsx(ee,{variant:O?"default":"secondary",className:"text-xs",children:O?"Active":"Inactive"});default:const D=String(O||"");return r.jsx("div",{className:"text-sm leading-tight text-content",title:D.length>50?D:void 0,children:D})}},k=A=>A.sortable?p===A.key?h==="asc"?r.jsx(KR,{className:"h-3 w-3 ml-1"}):r.jsx(GR,{className:"h-3 w-3 ml-1"}):r.jsx(UU,{className:"h-3 w-3 ml-1 opacity-50"}):null,R=e.length>0&&o.length===e.length,P=o.length>0&&o.length<e.length;return r.jsxs("div",{className:"enhanced-evidence-table space-y-4",children:[r.jsx("style",{children:FSe}),r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(me,{placeholder:"Search evidence library...",value:s,onChange:A=>a(A.target.value),className:"pl-8 w-[300px]","data-testid":"search-evidence"})]}),o.length>0&&r.jsxs(V,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete ${o.length} selected items?`)&&i(o)},"data-testid":"bulk-delete-button",children:[r.jsx(il,{className:"h-4 w-4 mr-1"}),"Delete Selected (",o.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:g,"data-testid":"auto-resize-columns",children:[r.jsx(On,{className:"h-4 w-4 mr-1"}),"Auto-Fit Columns"]}),r.jsx(V,{variant:"outline",size:"sm",onClick:v,"data-testid":"reset-columns",children:"Reset Widths"})]})]}),r.jsx("div",{ref:d,className:"rounded-md border bg-background",style:{maxHeight:"70vh",overflowX:"auto",overflowY:"auto",width:"100%"},children:r.jsxs(Pi,{className:"relative",style:{minWidth:"4000px"},children:[r.jsx(Ti,{className:"sticky top-0 bg-muted/50 z-10",children:r.jsxs(en,{children:[r.jsx(tt,{className:"w-12 p-2",children:r.jsx(ar,{checked:R||P,onCheckedChange:S,"aria-label":"Select all","data-testid":"select-all-checkbox"})}),y.map(A=>r.jsx(tt,{className:`p-2 align-top border-r ${A.sortable?"cursor-pointer hover:bg-muted/50":""}`,style:{width:u[A.key]||"auto",maxWidth:A.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},onClick:()=>A.sortable&&N(A.key),children:r.jsxs("div",{className:"flex flex-col items-start gap-1",children:[r.jsx("div",{className:"font-medium text-xs leading-tight break-words",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",hyphens:"auto"},children:A.label}),k(A)]})},A.key)),r.jsx(tt,{className:"w-24 p-2 text-center",children:"Actions"})]})}),r.jsx(Oi,{children:c?r.jsx(en,{children:r.jsx(Ze,{colSpan:y.length+2,className:"h-32 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(On,{className:"h-4 w-4 animate-spin mr-2"}),"Loading evidence library..."]})})}):w.length===0?r.jsx(en,{children:r.jsx(Ze,{colSpan:y.length+2,className:"h-32 text-center text-muted-foreground",children:s?`No evidence found matching "${s}"`:"No evidence library entries found"})}):w.map((A,_)=>r.jsxs(en,{className:`${o.includes(A.id)?"bg-muted/50":""} hover:bg-muted/30`,"data-testid":`evidence-row-${A.id}`,children:[r.jsx(Ze,{className:"p-2",children:r.jsx(ar,{checked:o.includes(A.id),onCheckedChange:O=>E(A.id,!!O),"aria-label":`Select ${A.equipmentCode}`,"data-testid":`select-item-${A.id}`})}),y.map(O=>r.jsx(Ze,{className:"p-2 align-top border-r",style:{width:u[O.key]||"auto",maxWidth:O.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},children:C(A,O)},O.key)),r.jsx(Ze,{className:"p-2 align-top",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>t(A),"data-testid":`edit-evidence-${A.id}`,className:"h-8 w-8 p-0",children:r.jsx(zv,{className:"h-3 w-3"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(A),"data-testid":`delete-evidence-${A.id}`,className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:r.jsx(il,{className:"h-3 w-3"})})]})})]},A.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Showing ",w.length," of ",e.length," entries",o.length>0&&` (${o.length} selected)`]}),r.jsxs("div",{children:[y.length," columns displayed"]})]})]})}function dT(){const{toast:e}=Mt(),[t,n]=b.useState(""),[i,s]=b.useState(null),[a,o]=b.useState(!1),[l,c]=b.useState(!1),d=b.useRef(null),[u,f]=b.useState([]),[p,x]=b.useState([]),[h,m]=b.useState([]),[y,j]=b.useState([]),[g,v]=b.useState(!1),N=async J=>{c(!0);try{i?(await st(`/api/evidence-library/${i.id}`,{method:"PUT",body:JSON.stringify(J)}),e({title:"Success",description:"Evidence item updated successfully"})):(await st("/api/evidence-library",{method:"POST",body:JSON.stringify(J)}),e({title:"Success",description:"Evidence item created successfully"})),wt.invalidateQueries({queryKey:["/api/evidence-library"]}),o(!1),s(null)}catch(se){console.error("Form submission error:",se),e({title:"Error",description:i?"Failed to update evidence item":"Failed to create evidence item",variant:"destructive"})}finally{c(!1)}},[w,S]=b.useState(null),[E,C]=b.useState("asc");b.useState(null);const[k,R]=b.useState(null),{data:P=[],isLoading:A,refetch:_}=Ce({queryKey:["/api/evidence-library",t],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const{api:J}=await Ye(async()=>{const{api:ue}=await Promise.resolve().then(()=>ot);return{api:ue}},void 0),se=await J("/evidence-library",{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!se.ok)throw new Error("Failed to fetch evidence library");return se.json()},retry:!1,refetchOnWindowFocus:!1});Ce({queryKey:["/api/equipment-types"],staleTime:5*60*1e3,queryFn:async()=>{const{api:J}=await Ye(async()=>{const{api:ue}=await Promise.resolve().then(()=>ot);return{api:ue}},void 0),se=await J("/equipment-types");return se.ok?se.json():[]}}),Ce({queryKey:["/api/equipment-subtypes"],staleTime:5*60*1e3,queryFn:async()=>{const{api:J}=await Ye(async()=>{const{api:ue}=await Promise.resolve().then(()=>ot);return{api:ue}},void 0),se=await J("/equipment-subtypes");return se.ok?se.json():[]}});const{data:O=[]}=Ce({queryKey:["/api/equipment-groups"],queryFn:async()=>{const{api:J}=await Ye(async()=>{const{api:ue}=await Promise.resolve().then(()=>ot);return{api:ue}},void 0),se=await J("/equipment-groups");return se.ok?se.json():[]},staleTime:5*60*1e3});console.log("Equipment Groups:",O,"Loading:",A);const{data:D=[]}=Ce({queryKey:["/api/risk-rankings"],queryFn:async()=>{const{api:J}=await Ye(async()=>{const{api:ue}=await Promise.resolve().then(()=>ot);return{api:ue}},void 0),se=await J("/risk-rankings");return se.ok?se.json():[]},staleTime:5*60*1e3});console.log("Risk Rankings:",D,"Loading:",A),Ke({mutationFn:async J=>st(`/api/evidence-library/${J}`,{method:"DELETE"}),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:"Evidence item deleted successfully"})},onError:J=>{e({title:"Error",description:"Failed to delete evidence item",variant:"destructive"})}});const M=Ke({mutationFn:async J=>{const se=new FormData;se.append("file",J);const{api:ue}=await Ye(async()=>{const{api:ce}=await Promise.resolve().then(()=>ot);return{api:ce}},void 0),ke=await ue("/evidence-library/import",{method:"POST",body:se});if(!ke.ok){const ce=await ke.json();throw new Error(ce.message||"Import failed")}return ke.json()},onSuccess:J=>{wt.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:`Imported ${J.imported} items successfully`}),d.current&&(d.current.value="")},onError:J=>{e({title:"Import Error",description:J.message||"Failed to import CSV file",variant:"destructive"})}}),G=P.filter(J=>{const se={equipmentGroup:J.equipmentGroup==="DELETED"?"Unknown":J.equipmentGroup||"",equipmentType:J.equipmentType==="DELETED"?"Unknown":J.equipmentType||"",componentFailureMode:J.componentFailureMode||"",equipmentCode:J.equipmentCode||"",failureCode:J.failureCode||""},ue=t===""||se.equipmentGroup.toLowerCase().includes(t.toLowerCase())||se.equipmentType.toLowerCase().includes(t.toLowerCase())||se.componentFailureMode.toLowerCase().includes(t.toLowerCase())||se.equipmentCode.toLowerCase().includes(t.toLowerCase())||se.failureCode.toLowerCase().includes(t.toLowerCase()),ke=u.length===0||u.includes(se.equipmentGroup),ce=p.length===0||p.includes(se.equipmentType),ve=h.length===0||h.includes(J.subtype||"");return ue&&ke&&ce&&ve});w&&G.sort((J,se)=>{const ue=(J[w]||"").toString(),ke=(se[w]||"").toString(),ce=ue.localeCompare(ke);return E==="asc"?ce:-ce});const z=J=>{var ue;const se=(ue=J.target.files)==null?void 0:ue[0];se&&M.mutate(se)},I=Ke({mutationFn:async J=>{const se=J.map(ue=>st(`/api/evidence-library/${ue}`,{method:"DELETE"}));return Promise.all(se)},onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/evidence-library"]}),j([]),v(!1),e({title:"Success",description:`Deleted ${y.length} evidence items successfully`})},onError:J=>{e({title:"Error",description:"Failed to delete selected evidence items",variant:"destructive"})}}),U=()=>{y.length!==0&&confirm(`Are you sure you want to delete ${y.length} selected evidence items?`)&&I.mutate(y)},Z=async()=>{try{const{api:J}=await Ye(async()=>{const{api:ve}=await Promise.resolve().then(()=>ot);return{api:ve}},void 0),se=await J("/evidence-library/export/csv");if(!se.ok)throw new Error("Export failed");const ue=await se.blob(),ke=window.URL.createObjectURL(ue),ce=document.createElement("a");ce.href=ke,ce.download=`evidence-library-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(ke),e({title:"Success",description:"Evidence Library exported successfully"})}catch{e({title:"Error",description:"Failed to export Evidence Library",variant:"destructive"})}},$=Array.from(new Set(P.map(J=>J.equipmentGroup).filter(J=>J!=null&&J!=="DELETED"))),ie=Array.from(new Set(P.map(J=>J.equipmentType).filter(J=>J!=null&&J!=="DELETED"))),ne=Array.from(new Set(P.map(J=>J.subtype).filter(J=>J!=null)));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(Xs,{to:"/admin",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evidence Library Management"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[r.jsx(tM,{className:"h-8 w-8 mr-3 text-primary"}),"Evidence Library Management"]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and configure evidence requirements for root cause analysis"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(ee,{variant:P!=null&&P.length?"default":"outline",children:[(P==null?void 0:P.length)||0," Items"]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(X,{className:"flex items-center gap-2",children:["Evidence Library",A?r.jsx(ee,{variant:"secondary",children:"Loading..."}):r.jsxs(ee,{variant:"outline",children:[G.length," of ",P.length," items"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{ref:d,type:"file",accept:".csv,.xlsx,.xls",onChange:z,className:"hidden",id:"csv-import"}),r.jsx("label",{htmlFor:"csv-import",children:r.jsx(V,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs("span",{children:[r.jsx(ao,{className:"h-4 w-4 mr-2"}),"Import CSV"]})})}),r.jsxs(V,{variant:"outline",size:"sm",onClick:Z,children:[r.jsx(sr,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),y.length>0&&r.jsxs(V,{variant:"destructive",size:"sm",onClick:U,disabled:I.isPending,children:[r.jsx(il,{className:"h-4 w-4 mr-2"}),"Delete Selected (",y.length,")"]}),r.jsxs(Oc,{open:a,onOpenChange:o,children:[r.jsx(Bw,{asChild:!0,children:r.jsxs(V,{onClick:()=>s(null),children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Add Evidence"]})}),r.jsxs(ol,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[r.jsxs(ll,{children:[r.jsx(cl,{children:i?"Edit Evidence Item":"Add New Evidence Item"}),r.jsx(k3,{children:i?"Update all evidence library fields below. All fields except timestamps are available for editing.":"Create a comprehensive evidence library entry. Required fields are marked with *."})]}),r.jsx(N1e,{initialData:i,onSubmit:N,onCancel:()=>o(!1),isLoading:l,isEdit:!!i})]})]})]})]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Wi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(me,{placeholder:"Search equipment, failure modes, codes...",value:t,onChange:J=>n(J.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs($e,{value:"FILTER_EQUIPMENT_GROUPS",onValueChange:J=>{J&&J!=="FILTER_EQUIPMENT_GROUPS"&&f([...u,J])},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Filter by Equipment Group"})}),r.jsx(Le,{children:$.map(J=>r.jsx(te,{value:J,children:J},J))})]}),r.jsxs($e,{value:"FILTER_EQUIPMENT_TYPES",onValueChange:J=>{J&&J!=="FILTER_EQUIPMENT_TYPES"&&x([...p,J])},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Filter by Equipment Type"})}),r.jsx(Le,{children:ie.map(J=>r.jsx(te,{value:J,children:J},J))})]}),r.jsxs($e,{value:"FILTER_SUBTYPES",onValueChange:J=>{J&&J!=="FILTER_SUBTYPES"&&m([...h,J])},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Filter by Subtype"})}),r.jsx(Le,{children:ne.map(J=>r.jsx(te,{value:J,children:J},J))})]})]}),(u.length>0||p.length>0||h.length>0)&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(J=>r.jsxs(ee,{variant:"secondary",className:"flex items-center gap-1",children:[J,r.jsx("button",{onClick:()=>f(u.filter(se=>se!==J)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:""})]},J)),p.map(J=>r.jsxs(ee,{variant:"secondary",className:"flex items-center gap-1",children:[J,r.jsx("button",{onClick:()=>x(p.filter(se=>se!==J)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:""})]},J)),h.map(J=>r.jsxs(ee,{variant:"secondary",className:"flex items-center gap-1",children:[J,r.jsx("button",{onClick:()=>m(h.filter(se=>se!==J)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:""})]},J)),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{f([]),x([]),m([])},children:"Clear All"})]})]}),r.jsx(qSe,{data:G,onEdit:J=>{s(J),o(!0)},onDelete:J=>R(J),onBulkDelete:U,searchTerm:t,onSearchChange:n,selectedItems:y,onSelectionChange:j,isLoading:A})]})]})]})}function zSe({isOpen:e,onClose:t,item:n,onSuccess:i}){const{toast:s}=Mt(),[a,o]=b.useState({equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""}),{data:l=[]}=Ce({queryKey:["equipment-groups"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Ye(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.equipmentGroups());return m.ok?m.json():[]}}),{data:c=[]}=Ce({queryKey:["equipment-types"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Ye(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.equipmentTypes());return m.ok?m.json():[]}}),{data:d=[]}=Ce({queryKey:["risk-rankings"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Ye(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.riskRankings());return m.ok?m.json():[]}}),{data:u=[]}=Ce({queryKey:["equipment-subtypes"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Ye(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.equipmentSubtypes());return m.ok?m.json():[]}});b.useEffect(()=>{var h,m,y,j;o(n?{equipmentGroupId:((h=n.equipmentGroupId)==null?void 0:h.toString())||"",equipmentTypeId:((m=n.equipmentTypeId)==null?void 0:m.toString())||"",equipmentSubtypeId:((y=n.equipmentSubtypeId)==null?void 0:y.toString())||"",componentFailureMode:n.componentFailureMode||"",equipmentCode:n.equipmentCode||"",failureCode:n.failureCode||"",riskRankingId:((j=n.riskRankingId)==null?void 0:j.toString())||"",requiredTrendDataEvidence:n.requiredTrendDataEvidence||"",aiOrInvestigatorQuestions:n.aiOrInvestigatorQuestions||"",attachmentsEvidenceRequired:n.attachmentsEvidenceRequired||"",rootCauseLogic:n.rootCauseLogic||"",primaryRootCause:n.primaryRootCause||"",contributingFactor:n.contributingFactor||"",latentCause:n.latentCause||"",detectionGap:n.detectionGap||"",faultSignaturePattern:n.faultSignaturePattern||"",applicableToOtherEquipment:n.applicableToOtherEquipment||"",evidenceGapFlag:n.evidenceGapFlag||"",confidenceLevel:n.confidenceLevel||"",diagnosticValue:n.diagnosticValue||"",industryRelevance:n.industryRelevance||"",evidencePriority:n.evidencePriority||"",timeToCollect:n.timeToCollect||"",collectionCost:n.collectionCost||"",analysisComplexity:n.analysisComplexity||"",seasonalFactor:n.seasonalFactor||"",relatedFailureModes:n.relatedFailureModes||"",prerequisiteEvidence:n.prerequisiteEvidence||"",followupActions:n.followupActions||"",industryBenchmark:n.industryBenchmark||""}:{equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""})},[n]);const f=Ke({mutationFn:async h=>{const m=n?`/api/evidence-library/by-failure-code/${encodeURIComponent(n.failureCode)}`:"/api/evidence-library";return st(m,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:h.equipmentGroupId,typeId:h.equipmentTypeId,subtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId,equipmentCode:h.equipmentCode,componentFailureMode:h.componentFailureMode,failureCode:h.failureCode&&h.failureCode.trim()!==""?h.failureCode.trim():null,equipmentGroupId:parseInt(h.equipmentGroupId),equipmentTypeId:parseInt(h.equipmentTypeId),equipmentSubtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId?parseInt(h.equipmentSubtypeId):null,riskRankingId:h.riskRankingId?parseInt(h.riskRankingId):null,requiredTrendDataEvidence:h.requiredTrendDataEvidence,aiOrInvestigatorQuestions:h.aiOrInvestigatorQuestions,attachmentsEvidenceRequired:h.attachmentsEvidenceRequired,rootCauseLogic:h.rootCauseLogic,primaryRootCause:h.primaryRootCause,contributingFactor:h.contributingFactor,latentCause:h.latentCause,detectionGap:h.detectionGap,confidenceLevel:h.confidenceLevel,faultSignaturePattern:h.faultSignaturePattern,applicableToOtherEquipment:h.applicableToOtherEquipment,evidenceGapFlag:h.evidenceGapFlag,diagnosticValue:h.diagnosticValue,industryRelevance:h.industryRelevance,evidencePriority:h.evidencePriority,timeToCollect:h.timeToCollect,collectionCost:h.collectionCost,analysisComplexity:h.analysisComplexity,seasonalFactor:h.seasonalFactor,relatedFailureModes:h.relatedFailureModes,prerequisiteEvidence:h.prerequisiteEvidence,followupActions:h.followupActions,industryBenchmark:h.industryBenchmark})})},onSuccess:()=>{s({title:"Success",description:n?"Evidence item updated successfully":"Evidence item added successfully"}),wt.invalidateQueries({queryKey:["/api/evidence-library"]}),i==null||i()},onError:h=>{s({title:"Error",description:h.message||"Failed to save evidence item",variant:"destructive"})}}),p=h=>{if(h.preventDefault(),!a.equipmentGroupId||!a.equipmentTypeId||!a.componentFailureMode||!a.equipmentCode){s({title:"Validation Error",description:"Please fill in all required fields (Group, Type, Component/Failure Mode, Equipment Code)",variant:"destructive"});return}f.mutate(a)},x=(h,m)=>{o(y=>({...y,[h]:m}))};return r.jsx(Oc,{open:e,onOpenChange:t,children:r.jsxs(ol,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(ll,{children:r.jsxs(cl,{children:[n?"Edit":"Add"," Evidence Library Item"]})}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Group *"}),r.jsxs($e,{value:a.equipmentGroupId,onValueChange:h=>x("equipmentGroupId",h),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment group"})}),r.jsx(Le,{children:l.map(h=>r.jsx(te,{value:h.id.toString(),children:h.name},h.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Type *"}),r.jsxs($e,{value:a.equipmentTypeId,onValueChange:h=>x("equipmentTypeId",h),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment type"})}),r.jsx(Le,{children:c.map(h=>r.jsx(te,{value:h.id.toString(),children:h.name},h.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Subtype (Optional)"}),r.jsxs($e,{value:a.equipmentSubtypeId||"__NONE__",onValueChange:h=>x("equipmentSubtypeId",h),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment subtype"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"__NONE__",children:"None"}),u.map(h=>r.jsx(te,{value:h.id.toString(),children:h.name},h.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Component/Failure Mode *"}),r.jsx(me,{value:a.componentFailureMode,onChange:h=>x("componentFailureMode",h.target.value),placeholder:"Enter component/failure mode"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Code *"}),r.jsx(me,{value:a.equipmentCode,onChange:h=>x("equipmentCode",h.target.value),placeholder:"Enter equipment code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Failure Code (Optional)"}),r.jsx(me,{value:a.failureCode,onChange:h=>x("failureCode",h.target.value),placeholder:"Enter failure code (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Risk Ranking *"}),r.jsxs($e,{value:a.riskRankingId,onValueChange:h=>x("riskRankingId",h),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select risk ranking"})}),r.jsx(Le,{children:d.map(h=>r.jsx(te,{value:h.id.toString(),children:h.name},h.id))})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Required Trend Data Evidence *"}),r.jsx(Qe,{value:a.requiredTrendDataEvidence,onChange:h=>x("requiredTrendDataEvidence",h.target.value),placeholder:"Enter required trend data evidence",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"AI/Investigator Questions *"}),r.jsx(Qe,{value:a.aiOrInvestigatorQuestions,onChange:h=>x("aiOrInvestigatorQuestions",h.target.value),placeholder:"Enter AI/investigator questions",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Attachments Evidence Required *"}),r.jsx(Qe,{value:a.attachmentsEvidenceRequired,onChange:h=>x("attachmentsEvidenceRequired",h.target.value),placeholder:"Enter attachments evidence required",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Root Cause Logic *"}),r.jsx(Qe,{value:a.rootCauseLogic,onChange:h=>x("rootCauseLogic",h.target.value),placeholder:"Enter root cause logic",rows:2})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Primary Root Cause"}),r.jsx(me,{value:a.primaryRootCause,onChange:h=>x("primaryRootCause",h.target.value),placeholder:"Enter primary root cause"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Contributing Factor"}),r.jsx(me,{value:a.contributingFactor,onChange:h=>x("contributingFactor",h.target.value),placeholder:"Enter contributing factor"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confidence Level"}),r.jsx(me,{value:a.confidenceLevel,onChange:h=>x("confidenceLevel",h.target.value),placeholder:"Enter confidence level"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Diagnostic Value"}),r.jsx(me,{value:a.diagnosticValue,onChange:h=>x("diagnosticValue",h.target.value),placeholder:"Enter diagnostic value"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsxs(V,{type:"submit",disabled:f.isPending,children:[f.isPending?"Saving...":n?"Update":"Add"," Item"]})]})]})]})})}function M0(){const{toast:e}=Mt(),t=b.useRef(null),[n,i]=b.useState([]),[s,a]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState([]),[u,f]=b.useState([]),[p,x]=b.useState([]),[h,m]=b.useState({}),[y,j]=b.useState(!1),[g,v]=b.useState(null),{data:N=[],isLoading:w,refetch:S}=Ce({queryKey:["evidence-library"],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const{API_ENDPOINTS:$}=await Ye(async()=>{const{API_ENDPOINTS:ne}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:ne}},void 0),ie=await fetch($.evidenceLibrary(),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!ie.ok)throw new Error("Failed to fetch evidence library");return ie.json()},retry:!1,refetchOnWindowFocus:!1}),{data:E=[]}=Ce({queryKey:["equipment-groups"],queryFn:async()=>{const{API_ENDPOINTS:$}=await Ye(async()=>{const{API_ENDPOINTS:ne}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:ne}},void 0),ie=await fetch($.equipmentGroups());return ie.ok?ie.json():[]}}),{data:C=[]}=Ce({queryKey:["equipment-types"],queryFn:async()=>{const{API_ENDPOINTS:$}=await Ye(async()=>{const{API_ENDPOINTS:ne}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:ne}},void 0),ie=await fetch($.equipmentTypes());return ie.ok?ie.json():[]}}),{data:k=[]}=Ce({queryKey:["equipment-subtypes"],queryFn:async()=>{const{API_ENDPOINTS:$}=await Ye(async()=>{const{API_ENDPOINTS:ne}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:ne}},void 0),ie=await fetch($.equipmentSubtypes());return ie.ok?ie.json():[]}}),R=Ke({mutationFn:async $=>{const ie=new FormData;ie.append("file",$);const{API_ENDPOINTS:ne}=await Ye(async()=>{const{API_ENDPOINTS:se}=await Promise.resolve().then(()=>cs);return{API_ENDPOINTS:se}},void 0),J=await fetch(ne.evidenceLibraryImport(),{method:"POST",body:ie});if(!J.ok){const se=await J.json();throw new Error(se.error||"Import failed")}return J.json()},onSuccess:$=>{wt.invalidateQueries({queryKey:["evidence-library"]}),e({title:"Import Successful",description:`Imported ${$.imported} items, ${$.errors} errors`}),S()},onError:$=>{e({title:"Import Failed",description:$.message,variant:"destructive"})}}),P=N.filter($=>{const ie={equipmentGroup:$.equipmentGroup||"",equipmentType:$.equipmentType||"",componentFailureMode:$.componentFailureMode||"",equipmentCode:$.equipmentCode||"",failureCode:$.failureCode||""},ne=o===""||ie.equipmentGroup.toLowerCase().includes(o.toLowerCase())||ie.equipmentType.toLowerCase().includes(o.toLowerCase())||ie.componentFailureMode.toLowerCase().includes(o.toLowerCase())||ie.equipmentCode.toLowerCase().includes(o.toLowerCase())||ie.failureCode.toLowerCase().includes(o.toLowerCase()),J=c.length===0||c.includes(ie.equipmentGroup),se=u.length===0||u.includes(ie.equipmentType),ue=p.length===0||p.includes($.subtype||"");return ne&&J&&se&&ue}),A=$=>{if(n.includes($))i(n.filter(ie=>ie!==$)),s&&a(!1);else{const ie=[...n,$];i(ie),ie.length===P.length&&a(!0)}},_=()=>{s?(i([]),a(!1)):(i(P.map($=>$.failureCode)),a(!0))},O=$=>{m(ie=>({...ie,[$]:!ie[$]}))},D=$=>{var ne;const ie=(ne=$.target.files)==null?void 0:ne[0];ie&&R.mutate(ie)},M=async()=>{try{const{api:$}=await Ye(async()=>{const{api:ue}=await Promise.resolve().then(()=>ot);return{api:ue}},void 0),ie=await $("/evidence-library/export/csv");if(!ie.ok)throw new Error("Export failed");const ne=await ie.blob(),J=window.URL.createObjectURL(ne),se=document.createElement("a");se.href=J,se.download=`evidence-library-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(se),se.click(),window.URL.revokeObjectURL(J),document.body.removeChild(se),e({title:"Export Successful",description:"Evidence library exported to CSV"})}catch{e({title:"Export Failed",description:"Failed to export evidence library",variant:"destructive"})}},G=Ke({mutationFn:async $=>st(`/api/evidence-library/by-failure-code/${encodeURIComponent($)}`,{method:"DELETE"}),onSuccess:()=>{wt.invalidateQueries({queryKey:["evidence-library"]}),e({title:"Success",description:"Evidence item permanently deleted"})},onError:$=>{e({title:"Delete Failed",description:$.message||"Failed to delete evidence item",variant:"destructive"})}}),z=Ke({mutationFn:async $=>{await Promise.all($.map(ie=>st(`/api/evidence-library/by-failure-code/${encodeURIComponent(ie)}`,{method:"DELETE"})))},onSuccess:()=>{wt.invalidateQueries({queryKey:["evidence-library"]}),i([]),a(!1),e({title:"Success",description:`${n.length} items permanently deleted`})},onError:$=>{e({title:"Bulk Delete Failed",description:$.message||"Failed to delete selected items",variant:"destructive"})}}),I=()=>{n.length>0&&confirm(`Are you sure you want to permanently delete ${n.length} items? This cannot be undone.`)&&z.mutate(n)},U=()=>{if(P.length>0&&confirm(`Are you sure you want to permanently delete ALL ${P.length} items? This cannot be undone.`)){const $=P.map(ie=>ie.failureCode);z.mutateAsync($).then(()=>{i([]),a(!1)})}},Z=($,ie,ne,J=50)=>{const se=`${ie}-${ne}`,ue=h[se],ke=$||"-";return ke.length<=J?ke:r.jsx(YM,{children:r.jsxs(yH,{children:[r.jsx(bH,{asChild:!0,children:r.jsx("div",{className:"cursor-pointer hover:bg-gray-100 p-1 rounded",onClick:()=>O(se),children:ue?ke:`${ke.substring(0,J)}...`})}),r.jsx(QM,{className:"max-w-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:ke})})]})})};return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(X,{children:"Evidence Library Management"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Add Item"]}),n.length>0&&r.jsxs(V,{onClick:I,disabled:z.isPending,variant:"destructive",className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Delete Selected (",n.length,")"]}),P.length>0&&r.jsxs(V,{onClick:U,disabled:z.isPending,variant:"destructive",className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Delete All (",P.length,")"]})]})]})}),r.jsxs(K,{children:[r.jsxs("div",{className:"text-xs text-green-600 mb-4 bg-green-50 p-3 rounded border border-green-200",children:[" ",r.jsx("strong",{children:"STEP 2 COMPLETE IMPLEMENTATION:"})," 1) Cell expansion/tooltips  2) Sticky headers  3) Dynamic filtering  4) Import/export  5) No hardcoding "]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-1 min-w-64",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:"Search equipment group, type, code, failure code...",value:o,onChange:$=>l($.target.value),className:"pl-10"})]})}),r.jsxs($e,{value:c[0]||"ALL_GROUPS",onValueChange:$=>d($==="ALL_GROUPS"?[]:[$]),children:[r.jsx(Me,{className:"w-48",children:r.jsx(De,{placeholder:"Equipment Group"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"ALL_GROUPS",children:"All Equipment Groups"}),E.map($=>r.jsx(te,{value:$.name,children:$.name},$.id))]})]}),r.jsxs($e,{value:u[0]||"ALL_TYPES",onValueChange:$=>f($==="ALL_TYPES"?[]:[$]),children:[r.jsx(Me,{className:"w-48",children:r.jsx(De,{placeholder:"Equipment Type"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"ALL_TYPES",children:"All Equipment Types"}),C.map($=>r.jsx(te,{value:$.name,children:$.name},$.id))]})]}),r.jsxs($e,{value:p[0]||"ALL_SUBTYPES",onValueChange:$=>x($==="ALL_SUBTYPES"?[]:[$]),children:[r.jsx(Me,{className:"w-48",children:r.jsx(De,{placeholder:"Subtype"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"ALL_SUBTYPES",children:"All Subtypes"}),k.map($=>r.jsx(te,{value:$.name,children:$.name},$.id))]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",N.length," items",n.length>0&&` (${n.length} selected)`]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"file",ref:t,onChange:D,accept:".csv,.xlsx",className:"hidden"}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{var $;return($=t.current)==null?void 0:$.click()},disabled:R.isPending,children:[r.jsx(ao,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:M,children:[r.jsx(sr,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),r.jsx("div",{className:"evidence-table-container border rounded-lg shadow-lg",style:{width:"100%",height:"80vh",overflow:"auto",position:"relative"},children:r.jsxs("table",{style:{minWidth:"20000px",width:"20000px",tableLayout:"fixed",borderCollapse:"collapse"},className:"w-full",children:[r.jsx("thead",{style:{position:"sticky",top:0,zIndex:1e3,backgroundColor:"white"},className:"bg-white shadow-sm border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"80px",minWidth:"80px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:r.jsx("input",{type:"checkbox",checked:s,onChange:_,className:"rounded border-gray-300"})}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Group"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Type"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Subtype"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Component/Failure Mode"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Code"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Failure Code"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Risk Ranking"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Required Trend Data"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"AI Questions"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Attachments Required"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Root Cause Logic"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Primary Root Cause"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Contributing Factor"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Latent Cause"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Detection Gap"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Confidence Level"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Fault Signature Pattern"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Applicable to Other Equipment"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Gap Flag"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Eliminated If These Failures Confirmed"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Why It Gets Eliminated"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Diagnostic Value"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Relevance"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Priority"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Time to Collect"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Collection Cost"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Analysis Complexity"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Seasonal Factor"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Related Failure Modes"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Prerequisite Evidence"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Followup Actions"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Benchmark"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"System ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Group ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Type ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Subtype ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Risk ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Active"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated By"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Created"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Actions"})]})}),r.jsx("tbody",{children:w?r.jsx("tr",{children:r.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading evidence library..."})]})})}):P.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsx(pt,{className:"h-12 w-12 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"No evidence items found"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Add evidence items to get started"})]})]})})}):P.map($=>{var ie,ne,J;return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx("input",{type:"checkbox",checked:n.includes($.failureCode),onChange:()=>A($.failureCode),className:"rounded border-gray-300"})}),r.jsx("td",{className:"px-4 py-3 border-r font-medium",children:Z($.equipmentGroup==="DELETED"?"Unknown":$.equipmentGroup,$.id,"equipmentGroup",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.equipmentType==="DELETED"?"Unknown":$.equipmentType,$.id,"equipmentType",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.subtype,$.id,"subtype",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.componentFailureMode,$.id,"componentFailureMode",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.equipmentCode,$.id,"equipmentCode",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:Z($.failureCode,$.id,"failureCode",20)})}),r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx(ee,{variant:((ie=$.riskRanking)==null?void 0:ie.toLowerCase())==="critical"||((ne=$.riskRanking)==null?void 0:ne.toLowerCase())==="high"?"destructive":((J=$.riskRanking)==null?void 0:J.toLowerCase())==="medium"?"default":"secondary",children:$.riskRanking})}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.requiredTrendDataEvidence,$.id,"requiredTrendDataEvidence",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.aiOrInvestigatorQuestions,$.id,"aiOrInvestigatorQuestions",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.attachmentsEvidenceRequired,$.id,"attachmentsEvidenceRequired",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.rootCauseLogic,$.id,"rootCauseLogic",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.primaryRootCause,$.id,"primaryRootCause",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.contributingFactor,$.id,"contributingFactor",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.latentCause,$.id,"latentCause",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.detectionGap,$.id,"detectionGap",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.confidenceLevel,$.id,"confidenceLevel",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.faultSignaturePattern,$.id,"faultSignaturePattern",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.applicableToOtherEquipment,$.id,"applicableToOtherEquipment",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.evidenceGapFlag,$.id,"evidenceGapFlag",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.eliminatedIfTheseFailuresConfirmed,$.id,"eliminatedIfTheseFailuresConfirmed",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.whyItGetsEliminated,$.id,"whyItGetsEliminated",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.diagnosticValue,$.id,"diagnosticValue",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.industryRelevance,$.id,"industryRelevance",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.evidencePriority,$.id,"evidencePriority",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.timeToCollect,$.id,"timeToCollect",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.collectionCost,$.id,"collectionCost",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.analysisComplexity,$.id,"analysisComplexity",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.seasonalFactor,$.id,"seasonalFactor",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.relatedFailureModes,$.id,"relatedFailureModes",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.prerequisiteEvidence,$.id,"prerequisiteEvidence",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.followupActions,$.id,"followupActions",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:Z($.industryBenchmark,$.id,"industryBenchmark",35)}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.id}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.equipmentGroupId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.equipmentTypeId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.equipmentSubtypeId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.riskRankingId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:r.jsx(ee,{variant:$.isActive?"default":"secondary",children:$.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.updatedAt?Sp(new Date($.updatedAt),"MMM dd, yyyy"):"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.updatedBy||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.createdAt?Sp(new Date($.createdAt),"MMM dd, yyyy"):"-"}),r.jsx("td",{className:"px-4 py-3 bg-gray-50",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>v($),children:r.jsx(sV,{className:"h-3 w-3"})}),r.jsx(V,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-destructive hover:text-destructive",onClick:()=>{confirm("Are you sure you want to permanently delete this item? This cannot be undone.")&&G.mutate($.failureCode)},disabled:G.isPending,children:r.jsx(il,{className:"h-3 w-3"})})]})})]},$.id)})})]})})]})]}),r.jsx(zSe,{isOpen:y||!!g,onClose:()=>{j(!1),v(null)},item:g,onSuccess:()=>{wt.invalidateQueries({queryKey:["evidence-library"]}),j(!1),v(null)}})]})}let Yl=null,Ql=null;async function uT(){try{const e=await fetch("/version.json",{cache:"no-store"});if(!e.ok)return null;const t=await e.json();return String((t==null?void 0:t.version)??"")}catch{return null}}async function BSe(e,t=3e4){const{getIsFormDirty:n,showToast:i,dismissToast:s}=e;Yl=await uT(),console.log("[VERSION-WATCH] Initialized with version:",Yl);const a=async()=>{const l=await uT();l&&Yl&&l!==Yl&&(console.log("[VERSION-WATCH] Version changed:",Yl,"->",l),n()?(Ql&&s(Ql),Ql=i("A new version is available",{actionLabel:"Reload",onAction:()=>{console.log("[VERSION-WATCH] User chose to reload"),window.location.reload()},onDismiss:()=>{Ql=null,Yl=l}})):(console.log("[VERSION-WATCH] Auto-reloading (no dirty forms)"),window.location.reload()))},o=setInterval(a,t);return window.addEventListener("visibilitychange",()=>{document.hidden||a()}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(l=>l.forEach(c=>c.unregister())),()=>{clearInterval(o),Ql&&s(Ql)}}function USe(e,t){const{actionLabel:n,onAction:i,onDismiss:s}=t,a=Math.random().toString(36).substr(2,9);return yR({title:"Update Available",description:e,action:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{i()},className:"bg-primary text-primary-foreground px-3 py-1 rounded text-sm hover:bg-primary/90",children:n}),r.jsx("button",{onClick:()=>{s==null||s()},className:"bg-secondary text-secondary-foreground px-3 py-1 rounded text-sm hover:bg-secondary/90",children:"Dismiss"})]})}),a}function VSe(e){}var WSe={};const HSe=WSe.VITE_API_BASE||"",bt=e=>`${HSe}/api${e.startsWith("/")?e:`/${e}`}`,ly={meta:()=>bt("/meta"),health:()=>bt("/health"),aiProviders:()=>bt("/admin/ai-settings"),aiProviderById:e=>bt(`/admin/ai-settings/${e}`),aiProviderTest:e=>bt(`/admin/ai-settings/${e}/test`),aiProviderActivate:e=>bt(`/admin/ai-settings/${e}/activate`),aiProvidersDebug:()=>bt("/admin/ai-settings/debug"),equipmentGroups:()=>bt("/equipment-groups"),equipmentGroupById:e=>bt(`/equipment-groups/${e}`),equipmentGroupsActive:()=>bt("/equipment-groups/active"),equipmentGroupsImport:()=>bt("/equipment-groups/import"),equipmentGroupsExport:()=>bt("/equipment-groups/export"),riskRankings:()=>bt("/risk-rankings"),riskRankingById:e=>bt(`/risk-rankings/${e}`),riskRankingsActive:()=>bt("/risk-rankings/active"),riskRankingsImport:()=>bt("/risk-rankings/import"),riskRankingsExport:()=>bt("/risk-rankings/export"),equipmentTypes:()=>bt("/equipment-types"),equipmentTypeById:e=>bt(`/equipment-types/${e}`),equipmentTypesByGroup:e=>bt(`/equipment-types/by-group/${e}`),equipmentSubtypes:()=>bt("/equipment-subtypes"),equipmentSubtypeById:e=>bt(`/equipment-subtypes/${e}`),equipmentSubtypesByType:e=>bt(`/equipment-subtypes/by-type/${e}`),taxonomyGroups:()=>bt("/taxonomy/groups"),taxonomyTypes:()=>bt("/taxonomy/types"),taxonomySubtypes:()=>bt("/taxonomy/subtypes"),taxonomyRisks:()=>bt("/taxonomy/risks"),evidenceLibrary:()=>bt("/evidence-library"),evidenceLibraryById:e=>bt(`/evidence-library/${e}`),evidenceLibraryExport:()=>bt("/evidence-library/export/csv"),evidenceLibraryImport:()=>bt("/evidence-library/import"),investigations:()=>bt("/investigations"),investigationById:e=>bt(`/investigations/${e}`),investigationCreate:()=>bt("/investigations/create"),incidents:()=>bt("/incidents"),incidentById:e=>bt(`/incidents/${e}`),adminAiSettings:()=>bt("/admin/ai-settings"),adminAiSettingsTest:()=>bt("/admin/ai-settings/test")};typeof window<"u"&&console.log(" API Configuration loaded - Zero hardcoding compliance active");const cs=Object.freeze(Object.defineProperty({__proto__:null,API_ENDPOINTS:ly,buildApiEndpoint:bt},Symbol.toStringTag,{value:"Module"})),GSe=()=>Ce({queryKey:["equip","groups"],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log("[EQUIPMENT-HOOKS] Fetching equipment groups");const e=await fetch(ly.equipmentGroups()+"?active=1",{cache:"no-store"}),t=await e.json();if(!(t!=null&&t.ok)){const n=`Failed to load Equipment Groups (${e.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Groups fetch failed:",t==null?void 0:t.error),new Error(n)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${t.data.length} equipment groups`),t.data}}),KSe=e=>Ce({enabled:!!e,queryKey:["equip","types",e],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log(`[EQUIPMENT-HOOKS] Fetching equipment types for group ${e}`);const t=await fetch(ly.equipmentTypesByGroup(e)+"?active=1",{cache:"no-store"}),n=await t.json();if(!(n!=null&&n.ok)){const i=`Failed to load Equipment Types (${t.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Types fetch failed:",n==null?void 0:n.error),new Error(i)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${n.data.length} equipment types for group ${e}`),n.data}}),YSe=e=>Ce({enabled:!!e,queryKey:["equip","subtypes",e],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log(`[EQUIPMENT-HOOKS] Fetching equipment subtypes for type ${e}`);const t=await fetch(ly.equipmentSubtypesByType(e)+"?active=1",{cache:"no-store"}),n=await t.json();if(!(n!=null&&n.ok)){const i=`Failed to load Equipment Subtypes (${t.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Subtypes fetch failed:",n==null?void 0:n.error),new Error(i)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${n.data.length} equipment subtypes for type ${e}`),n.data}});async function QSe(e,t){const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),i=await n.json().catch(()=>({}));if(!n.ok)throw i;return i}const J5="/api/v1";async function XSe(e){return(await QSe(`${J5}/incidents`,e)).id}async function Ym(){try{await fetch(`${J5}/incidents/draft`,{method:"DELETE",credentials:"include"})}catch(e){console.warn("[INCIDENTS] Failed to clear server draft:",e)}}const ZSe="incident-form",Qm="incident:",fT="id",Pu={incident:["incident"],incidentDraft:["incident-draft"]},JSe=!1,_o={title:"",description:"",equipment_group_id:null,equipment_type_id:null,equipment_subtype_id:null,equipmentId:"",manufacturer:"",model:"",location:"",reportedBy:"",incidentDateTime:"",priority:"Medium",immediateActions:"",safetyImplications:"",operatingParameters:"",issueFrequency:void 0,issueSeverity:void 0,initialContextualFactors:"",sequenceOfEvents:"",sequenceOfEventsFiles:[],reportableStatus:"not_reportable",regulatoryAuthorityName:"",dateReported:"",reportReferenceId:"",complianceImpactSummary:"",plannedDateOfReporting:"",delayReason:"",intendedRegulatoryAuthority:"",timelineData:{}};function pT(e,t){const n=[];for(let i=0;i<e.length;i++){const s=e.key(i);s&&s.startsWith(t)&&n.push(s)}n.forEach(i=>e.removeItem(i))}function $0(e){try{pT(window.localStorage,e)}catch{}try{pT(window.sessionStorage,e)}catch{}}function eq(e){const{toast:t}=Mt(),n=b.useRef(null),i=b.useRef(""),s=b.useRef(!0),{incidentId:a,stepNumber:o,enabled:l=!0,intervalMs:c=1e4,onSuccess:d,onError:u}=e,f=Ke({mutationFn:async h=>(console.log(`[AUTOSAVE] Saving step ${o} data for incident ${a}`),st(`/api/incidents/${a}/history`,{method:"PUT",body:JSON.stringify({lastStep:o,status:"DRAFT",payload:h})})),onSuccess:h=>{console.log(`[AUTOSAVE] Successfully saved step ${o} data`),d==null||d(),t({description:"Draft saved automatically",duration:2e3,variant:"default"})},onError:h=>{console.error(`[AUTOSAVE] Failed to save step ${o} data:`,h),u==null||u(h),t({title:"Autosave failed",description:"Your changes may not be saved. Please try again.",variant:"destructive",duration:5e3})}}),p=b.useCallback(h=>{if(!l||!a||!h)return;const m={[`step${o}`]:h,customFields:{},tags:[]},y=JSON.stringify(m);if(y===i.current){console.log(`[AUTOSAVE] No changes detected for step ${o}, skipping save`);return}if(s.current){s.current=!1,i.current=y;return}i.current=y,f.mutate(m)},[l,a,o,f]),x=b.useCallback(h=>{if(!l||!a||!h)return Promise.resolve();const m={[`step${o}`]:h,customFields:{},tags:[]};return i.current=JSON.stringify(m),f.mutateAsync(m)},[l,a,o,f]);return b.useEffect(()=>()=>{n.current&&clearInterval(n.current)},[]),b.useEffect(()=>{const h=m=>{if(f.isPending)return m.preventDefault(),m.returnValue="Your changes are still being saved...","Your changes are still being saved..."};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[f.isPending]),{saveIfChanged:p,saveNow:x,isSaving:f.isPending,lastSaveError:f.error,startAutosave:h=>{n.current&&clearInterval(n.current),n.current=setInterval(()=>{const m=h();p(m)},c),console.log(`[AUTOSAVE] Started autosave for step ${o} (every ${c}ms)`)},stopAutosave:()=>{n.current&&(clearInterval(n.current),n.current=null,console.log(`[AUTOSAVE] Stopped autosave for step ${o}`))}}}function eCe(e){if(!e)return;const[t,n]=e.split("T");if(!t||!n)return;const[i,s,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number);return new Date(i,(s??1)-1,a??1,o??0,l??0,0,0).toISOString()}const tCe=Pe.object({title:Pe.string().min(3,"Title must be at least 3 characters"),description:Pe.string().min(10,"Description must be at least 10 characters"),equipment_group_id:Pe.number().int().positive().nullable().optional(),equipment_type_id:Pe.number().int().positive().nullable().optional(),equipment_subtype_id:Pe.number().int().positive().nullable(),equipmentId:Pe.string().min(1,"Equipment ID is required"),manufacturer:Pe.string().max(100,"Manufacturer must be 100 characters or less").optional(),model:Pe.string().max(100,"Model must be 100 characters or less").optional(),location:Pe.string().min(1,"Location is required"),reportedBy:Pe.string().min(1,"Reporter name is required"),incidentDateTime:Pe.string().optional(),priority:Pe.enum(["Low","Medium","High","Critical"]),immediateActions:Pe.string().optional(),safetyImplications:Pe.string().optional(),operatingParameters:Pe.string().optional(),issueFrequency:Pe.enum(["First","Recurring","Unknown"]).optional(),issueSeverity:Pe.enum(["Low","Medium","High","Critical"]).optional(),initialContextualFactors:Pe.string().optional(),sequenceOfEvents:Pe.string().optional(),sequenceOfEventsFiles:Pe.array(Pe.string()).optional(),reportableStatus:Pe.enum(["not_reportable","reported","not_yet_reported"]),regulatoryAuthorityName:Pe.string().optional(),dateReported:Pe.string().optional(),reportReferenceId:Pe.string().optional(),complianceImpactSummary:Pe.string().optional(),plannedDateOfReporting:Pe.string().optional(),delayReason:Pe.string().optional(),intendedRegulatoryAuthority:Pe.string().optional(),timelineData:Pe.record(Pe.string()).optional()}).refine(e=>!(e.reportableStatus==="reported"&&(!e.regulatoryAuthorityName||e.regulatoryAuthorityName.trim()===""||!e.dateReported||e.dateReported.trim()===""||!e.complianceImpactSummary||e.complianceImpactSummary.trim()==="")||e.reportableStatus==="not_yet_reported"&&(!e.plannedDateOfReporting||e.plannedDateOfReporting.trim()===""||!e.delayReason||e.delayReason.trim()===""||!e.intendedRegulatoryAuthority||e.intendedRegulatoryAuthority.trim()==="")),{message:"Required regulatory compliance fields must be completed",path:["reportableStatus"]});function nCe(){const{toast:e}=Mt(),[,t]=fa(),[n,i]=b.useState([]),[s,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(()=>Date.now()),u=b.useRef(null),[f]=fa(),p=f.split("?")[1]||"",x=new URLSearchParams(p),h=x.has(fT),m=x.get("draft")==="1",y=b.useMemo(()=>new URLSearchParams(p).has(fT),[p]),j=oC({resolver:lC(tCe),defaultValues:_o,shouldUnregister:!0,mode:"onChange"}),g=b.useCallback(ne=>{$0(ne)},[]);b.useLayoutEffect(()=>{var ne;!h&&!m&&!JSe&&($0(Qm),Ym(),wt.removeQueries({queryKey:Pu.incident}),wt.removeQueries({queryKey:Pu.incidentDraft}),(ne=u.current)==null||ne.reset(),j.reset(_o,{keepDirty:!1,keepTouched:!1,keepValues:!1}),d(Date.now())),l(!0)},[h,m,p,wt,j.reset]),b.useLayoutEffect(()=>{console.info("first render values",j.getValues())},[]),b.useEffect(()=>{const ne=J=>{var se;!h&&J.persisted&&!m&&($0(Qm),Ym(),(se=u.current)==null||se.reset(),j.reset(_o,{keepDirty:!1,keepTouched:!1,keepValues:!1}),d(Date.now()))};return window.addEventListener("pageshow",ne),()=>window.removeEventListener("pageshow",ne)},[h,m,p,j.reset]),b.useEffect(()=>{const ne=()=>{};return window.addEventListener("unload",ne),()=>window.removeEventListener("unload",ne)},[]),b.useCallback(()=>{y&&t("/incident-reporting",{replace:!0})},[y,t]);const v=j.watch("equipment_group_id"),N=j.watch("equipment_type_id"),w=j.watch("equipment_subtype_id"),{data:S=[],isLoading:E}=GSe(),{data:C=[],isLoading:k}=KSe(v||void 0),{data:R=[],isLoading:P}=YSe(N||void 0),A=j.watch("reportableStatus");b.useEffect(()=>{y&&(j.setValue("equipment_type_id",null,{shouldValidate:!1}),j.setValue("equipment_subtype_id",null,{shouldValidate:!1}))},[v,y,j.setValue]),b.useEffect(()=>{y&&j.setValue("equipment_subtype_id",null,{shouldValidate:!1})},[N,y,j.setValue]),b.useEffect(()=>{v&&N&&w&&_()},[v,N,w]);const _=async()=>{var ne,J;try{const se=S.find(he=>he.id===v),ue=C.find(he=>he.id===N),ke=R.find(he=>he.id===w),{apiPost:ce}=await Ye(async()=>{const{apiPost:he}=await Promise.resolve().then(()=>ot);return{apiPost:he}},void 0),ve=await ce("/incidents/0/generate-timeline-questions",{equipmentGroup:se==null?void 0:se.name,equipmentType:ue==null?void 0:ue.name,equipmentSubtype:ke==null?void 0:ke.name});if(ve.ok){const he=await ve.json();i(((ne=he.timelineQuestions)==null?void 0:ne.questions)||[]),a(!0),console.log(`Generated ${((J=he.timelineQuestions)==null?void 0:J.totalQuestions)||0} timeline questions`)}}catch(se){console.error("Error generating timeline questions:",se)}},O=j.formState.isDirty||Object.keys(j.getValues()).some(ne=>{const J=j.getValues()[ne];return J!==""&&J!==void 0&&J!==null}),[D,M]=b.useState(""),G=eq({incidentId:D,stepNumber:1,enabled:!!D&&O,onSuccess:()=>{console.log("[INCIDENT-REPORTING] Autosave successful")},onError:ne=>{console.error("[INCIDENT-REPORTING] Autosave failed:",ne)}}),z=j.watch();b.useEffect(()=>{if(D&&O)return G.startAutosave(()=>z),()=>G.stopAutosave()},[D,O,z]),b.useEffect(()=>{const ne=()=>{document.visibilityState==="hidden"&&D&&O&&G.saveNow(z)};return document.addEventListener("visibilitychange",ne),()=>document.removeEventListener("visibilitychange",ne)},[D,O,z,G]),b.useEffect(()=>{let ne;return(async()=>{ne=await BSe({getIsFormDirty:()=>O,showToast:USe,dismissToast:VSe})})(),()=>{ne&&ne()}},[O]),b.useEffect(()=>{const ne=J=>{if(O)return J.preventDefault(),J.returnValue="You have unsaved changes. Are you sure you want to leave?",J.returnValue};return window.addEventListener("beforeunload",ne),()=>window.removeEventListener("beforeunload",ne)},[O]);const I=Ke({mutationFn:async ne=>await XSe(ne),onSuccess:ne=>{console.log("Incident created successfully with ID:",ne),wt.invalidateQueries({queryKey:["incidents"]})}}),[U,Z]=b.useState(!1),$=async ne=>{Z(!0);try{ne.incidentDateTime&&(ne.incidentDateTime=eCe(ne.incidentDateTime)),console.log("Submitting incident data:",ne);const J=await I.mutateAsync(ne),ue=`/equipment-selection?incident=${encodeURIComponent(J||"")}`;t(ue),g(Qm),Ym(),wt.removeQueries({queryKey:Pu.incidentDraft}),j.reset(_o),d(Date.now()),wt.invalidateQueries({queryKey:["incidents",J]}),e({title:"Incident Reported",description:"Moving to equipment selection and symptom input..."})}catch(J){console.error("CreateIncident failed:",J),e({title:"Error",description:(J==null?void 0:J.message)??"Incident creation failed.",variant:"destructive"})}finally{Z(!1)}},ie=()=>{var ne;g(Qm),Ym(),wt.removeQueries({queryKey:Pu.incident}),wt.removeQueries({queryKey:Pu.incidentDraft}),(ne=u.current)==null||ne.reset(),j.reset(_o,{keepDirty:!1,keepTouched:!1,keepValues:!1}),d(Date.now()),y&&t("/incident-reporting",{replace:!0}),e({title:"Form Reset",description:"All form data has been cleared"})};return o?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Xs,{to:"/admin",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(qp,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Incident Reporting"}),r.jsx("p",{className:"text-slate-600",children:"Step 1: Report the incident and provide initial details"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ee,{variant:"secondary",className:"text-sm",children:"Step 1 of 8"}),r.jsx(V,{variant:"outline",size:"sm",onClick:ie,"data-testid":"button-reset-form",children:"Reset Form"})]})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Incident Reported"})]}),r.jsx(_r,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Equipment Selection"})]}),r.jsx(_r,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Collection"})]}),r.jsx("span",{className:"text-slate-400",children:"..."})]})}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5 text-orange-500"}),"Incident Details"]})}),r.jsx(K,{children:r.jsx(dC,{...j,children:r.jsxs("form",{ref:u,onSubmit:j.handleSubmit($),className:"space-y-6",autoComplete:"off",noValidate:!0,name:`${ZSe}-${c}`,children:[r.jsx(Kw,{name:"title",control:j.control,defaultValue:_o.title,render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Incident Details"}),r.jsx(ze,{children:r.jsx(me,{...ne,autoComplete:"off",placeholder:"e.g., Pump P-101 seal leak","data-testid":"input-incidentDetails"})}),r.jsx(Be,{})]})}),r.jsx(Kw,{name:"description",control:j.control,defaultValue:_o.description,render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Initial Observations"}),r.jsx(ze,{children:r.jsx(Qe,{...ne,autoComplete:"off",placeholder:"Describe what was observed, when it was observed, and any initial symptoms...",rows:4,"data-testid":"textarea-initialObservations"})}),r.jsx(Be,{})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Zs,{}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Equipment Information"}),r.jsx(He,{control:j.control,name:"equipment_group_id",render:({field:ne})=>{var J;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment Group"}),r.jsxs($e,{onValueChange:se=>ne.onChange(se?parseInt(se):null),value:((J=ne.value)==null?void 0:J.toString())||void 0,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment group..."})})}),r.jsx(Le,{children:E?r.jsx(te,{value:"LOADING_GROUPS",disabled:!0,children:"Loading groups..."}):S.map(se=>r.jsx(te,{value:se.id.toString(),children:se.name},se.id))})]}),r.jsx(Be,{})]})}}),r.jsx(He,{control:j.control,name:"equipment_type_id",render:({field:ne})=>{var J;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment Type"}),r.jsxs($e,{onValueChange:se=>ne.onChange(se?parseInt(se):null),value:((J=ne.value)==null?void 0:J.toString())||void 0,disabled:!v,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:v?"Select equipment type...":"Select group first..."})})}),r.jsx(Le,{children:k?r.jsx(te,{value:"LOADING_TYPES",disabled:!0,children:"Loading types..."}):C.map(se=>r.jsx(te,{value:se.id.toString(),children:se.name},se.id))})]}),r.jsx(Be,{})]})}}),r.jsx(He,{control:j.control,name:"equipment_subtype_id",render:({field:ne})=>{var J;return r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment Subtype"}),r.jsxs($e,{onValueChange:se=>ne.onChange(se?parseInt(se):null),value:((J=ne.value)==null?void 0:J.toString())||void 0,disabled:!N,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:N?"Select equipment subtype...":"Select type first..."})})}),r.jsx(Le,{children:P?r.jsx(te,{value:"LOADING_SUBTYPES",disabled:!0,children:"Loading subtypes..."}):R.map(se=>r.jsx(te,{value:se.id.toString(),children:se.name},se.id))})]}),r.jsx(Be,{})]})}}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(He,{control:j.control,name:"manufacturer",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Manufacturer"}),r.jsx(ze,{children:r.jsx(me,{...ne,autoComplete:"off",placeholder:"e.g., Siemens",maxLength:100,"data-testid":"input-manufacturer"})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"model",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Model"}),r.jsx(ze,{children:r.jsx(me,{...ne,autoComplete:"off",placeholder:"e.g., Simovert-M420",maxLength:100,"data-testid":"input-model"})}),r.jsx(Be,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(He,{control:j.control,name:"equipmentId",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Equipment ID"}),r.jsx(ze,{children:r.jsx(me,{...ne,autoComplete:"off",placeholder:"e.g., P-101, M-205"})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"location",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(rM,{className:"h-4 w-4"}),"Location"]}),r.jsx(ze,{children:r.jsx(me,{...j.register("location"),autoComplete:"new-password",placeholder:"e.g., Unit 1 Process Area"})}),r.jsx(Be,{})]})})]})]}),r.jsx(Zs,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(He,{control:j.control,name:"reportedBy",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(nd,{className:"h-4 w-4"}),"Reported By"]}),r.jsx(ze,{children:r.jsx(me,{...j.register("reportedBy"),autoComplete:"new-password",placeholder:"Your name"})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"incidentDateTime",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Incident Date/Time"]}),r.jsx(ze,{children:r.jsx(me,{...j.register("incidentDateTime"),type:"datetime-local",autoComplete:"new-password",max:new Date().toISOString().slice(0,16)})}),r.jsx(Be,{})]})})]}),r.jsx(He,{control:j.control,name:"immediateActions",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(p1,{className:"h-4 w-4"}),"Immediate Actions Taken"]}),r.jsx(ze,{children:r.jsx(Qe,{...j.register("immediateActions"),autoComplete:"new-password",placeholder:"Actions taken to secure the area, isolate equipment, etc...",rows:3})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"operatingParameters",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Operating Parameters at Incident Time"}),r.jsx(ze,{children:r.jsx(Qe,{...j.register("operatingParameters"),autoComplete:"new-password",placeholder:"e.g., Temperature: 85C, Pressure: 150 PSI, Flow: 200 GPM, RPM: 1750, Vibration: 2.5 mm/s",rows:2})}),r.jsx(Be,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(He,{control:j.control,name:"priority",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Priority Level"}),r.jsxs($e,{onValueChange:ne.onChange,value:ne.value,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:"Select priority..."})})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Low",children:"Low"}),r.jsx(te,{value:"Medium",children:"Medium"}),r.jsx(te,{value:"High",children:"High"}),r.jsx(te,{value:"Critical",children:"Critical"})]})]}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"issueFrequency",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Issue Frequency"}),r.jsxs($e,{onValueChange:ne.onChange,value:ne.value||void 0,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:"Select frequency..."})})}),r.jsxs(Le,{children:[r.jsx(te,{value:"First",children:"First Time"}),r.jsx(te,{value:"Recurring",children:"Recurring Issue"}),r.jsx(te,{value:"Unknown",children:"Unknown"})]})]}),r.jsx(Be,{})]})})]}),r.jsx(He,{control:j.control,name:"issueSeverity",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Issue Severity"}),r.jsxs($e,{onValueChange:ne.onChange,value:ne.value||void 0,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:"Select severity..."})})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Low",children:"Low Impact"}),r.jsx(te,{value:"Medium",children:"Medium Impact"}),r.jsx(te,{value:"High",children:"High Impact"}),r.jsx(te,{value:"Critical",children:"Critical Impact"})]})]}),r.jsx(Be,{})]})}),r.jsx(Zs,{}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Safety & Regulatory Compliance"}),r.jsx(He,{control:j.control,name:"safetyImplications",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Safety Implications"}),r.jsx(ze,{children:r.jsx(Qe,{...j.register("safetyImplications"),autoComplete:"new-password",placeholder:"Describe any safety concerns, potential hazards, or safety measures taken...",rows:3})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"reportableStatus",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Regulatory Reporting Status"}),r.jsxs($e,{onValueChange:ne.onChange,value:ne.value,children:[r.jsx(ze,{children:r.jsx(Me,{children:r.jsx(De,{placeholder:"Select reporting status..."})})}),r.jsxs(Le,{children:[r.jsx(te,{value:"not_reportable",children:"Not Reportable to Authorities"}),r.jsx(te,{value:"reported",children:"Already Reported to Authorities"}),r.jsx(te,{value:"not_yet_reported",children:"Reportable but Not Yet Reported"})]})]}),r.jsx(Be,{})]})}),A==="reported"&&r.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Reported Incident Details"}),r.jsx(He,{control:j.control,name:"regulatoryAuthorityName",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Regulatory Authority Name"}),r.jsx(ze,{children:r.jsx(me,{...j.register("regulatoryAuthorityName"),autoComplete:"new-password",placeholder:"e.g., EPA, OSHA, Local Fire Department..."})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"dateReported",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Date Reported"}),r.jsx(ze,{children:r.jsx(me,{...j.register("dateReported"),type:"date",autoComplete:"new-password"})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"reportReferenceId",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Report Reference ID (Optional)"}),r.jsx(ze,{children:r.jsx(me,{...j.register("reportReferenceId"),autoComplete:"new-password",placeholder:"Reference number provided by authority..."})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"complianceImpactSummary",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Compliance Impact Summary"}),r.jsx(ze,{children:r.jsx(Qe,{...j.register("complianceImpactSummary"),autoComplete:"new-password",placeholder:"Summarize the regulatory compliance implications...",rows:3})}),r.jsx(Be,{})]})})]}),A==="not_yet_reported"&&r.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[r.jsx("h4",{className:"font-medium text-yellow-900",children:"Pending Report Details"}),r.jsx(He,{control:j.control,name:"plannedDateOfReporting",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Planned Date of Reporting"}),r.jsx(ze,{children:r.jsx(me,{...j.register("plannedDateOfReporting"),type:"date",autoComplete:"new-password",min:new Date().toISOString().split("T")[0]})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"delayReason",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Reason for Delay"}),r.jsx(ze,{children:r.jsx(Qe,{...j.register("delayReason"),autoComplete:"new-password",placeholder:"Explain why reporting is delayed...",rows:2})}),r.jsx(Be,{})]})}),r.jsx(He,{control:j.control,name:"intendedRegulatoryAuthority",render:({field:ne})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Intended Regulatory Authority"}),r.jsx(ze,{children:r.jsx(me,{...j.register("intendedRegulatoryAuthority"),autoComplete:"new-password",placeholder:"e.g., EPA, OSHA, Local Authority..."})}),r.jsx(Be,{})]})})]})]}),r.jsx("div",{className:"flex justify-end pt-6",children:r.jsxs(V,{type:"submit",disabled:I.isPending||!j.formState.isValid,className:"min-w-[200px]",children:[I.isPending?"Creating Incident...":"Create Incident & Continue",r.jsx(_r,{className:"h-4 w-4 ml-2"})]})})]},c)})})]})]})}):r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Kn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Preparing form..."})]})})}const rCe=/^INC-\d+$/,iCe=e=>rCe.test(e),sCe=Pe.object({specificPart:Pe.string().min(1,"Specific part/component is required"),symptomDescription:Pe.string().min(10,"Detailed symptom description is required"),operatingConditions:Pe.string().min(10,"Operating conditions are required"),whenObserved:Pe.string().min(1,"When symptoms were observed is required"),frequency:Pe.enum(["Continuous","Intermittent","One-time","Increasing"]),severity:Pe.enum(["Minor","Moderate","Significant","Severe"]),contextualFactors:Pe.string().optional()});function aCe(){var g;const{toast:e}=Mt(),[,t]=fa(),[n,i]=b.useState(null),s=((g=new URLSearchParams(window.location.search).get("incident"))==null?void 0:g.trim())??"";console.log("DEBUG: Full URL:",window.location.href),console.log("DEBUG: Search params:",window.location.search),console.log("DEBUG: Incident ID:",s),b.useEffect(()=>{if(!s){i("Missing incident ID in URL");return}if(!iCe(s)){i("Invalid incident ID format");return}i(null)},[s]);const[a,o]=b.useState(null),l=oC({resolver:lC(sCe),defaultValues:{specificPart:"",symptomDescription:"",operatingConditions:"",whenObserved:"",frequency:"Continuous",severity:"Moderate",contextualFactors:""}}),{data:c,isLoading:d,error:u}=Ce({queryKey:[`/api/incidents/${s}`],queryFn:async()=>{console.log("Fetching incident:",s);const{api:v}=await Ye(async()=>{const{api:S}=await Promise.resolve().then(()=>ot);return{api:S}},void 0),N=await v(`/incidents/${encodeURIComponent(s)}`);if(console.log("Response status:",N.status,N.statusText),!N.ok){const S=await N.text();throw console.error("API Error:",S),new Error(`Failed to fetch incident: ${N.status} ${S}`)}const w=await N.json();return console.log("Incident data:",w),console.log("Is incident valid?",!!w,"Has equipment group?",!!(w!=null&&w.equipmentGroup)),w},enabled:!!s&&!n,retry:1,retryDelay:1e3}),{data:f,isLoading:p}=Ce({queryKey:["/api/evidence-library/search-with-elimination",c==null?void 0:c.equipmentGroup,c==null?void 0:c.equipmentType,c==null?void 0:c.equipmentSubtype,c==null?void 0:c.description],queryFn:async()=>{var S,E;if(!(c!=null&&c.equipmentGroup)||!(c!=null&&c.equipmentType)||!(c!=null&&c.equipmentSubtype)||!(c!=null&&c.description))return console.log("Missing data for elimination analysis - Group:",c==null?void 0:c.equipmentGroup,"Type:",c==null?void 0:c.equipmentType,"Subtype:",c==null?void 0:c.equipmentSubtype,"Description:",!!(c!=null&&c.description)),null;const v=`/api/evidence-library/search-with-elimination?equipmentGroup=${encodeURIComponent(c.equipmentGroup)}&equipmentType=${encodeURIComponent(c.equipmentType)}&equipmentSubtype=${encodeURIComponent(c.equipmentSubtype)}&symptoms=${encodeURIComponent(c.description)}`;console.log("Searching evidence library with elimination logic:",v);const N=await fetch(v);if(!N.ok)return console.error("Elimination search failed:",N.status,N.statusText),null;const w=await N.json();return console.log(`Elimination results: ${((S=w.remainingFailureModes)==null?void 0:S.length)||0} remaining, ${((E=w.eliminatedFailureModes)==null?void 0:E.length)||0} eliminated`),w},enabled:!!(c!=null&&c.equipmentGroup)&&!!(c!=null&&c.equipmentType)&&!!(c!=null&&c.equipmentSubtype)&&!!(c!=null&&c.description)}),x=(f==null?void 0:f.remainingFailureModes)||[],h=(f==null?void 0:f.eliminatedFailureModes)||[],m=f==null?void 0:f.eliminationSummary,y=Ke({mutationFn:async v=>{var w;const N={...v,workflowStatus:"universal_rca_ready",currentStep:2};return console.log(`[UNIVERSAL RCA INTEGRATION] Updating incident ${s} with symptom description length: ${((w=v.symptomDescription)==null?void 0:w.length)||0}`),console.log("[UNIVERSAL RCA INTEGRATION] Will trigger Universal RCA analysis with AI hypothesis generation"),await st(`/api/incidents/${s}/equipment-symptoms`,{method:"PUT",body:JSON.stringify(N),headers:{"Content-Type":"application/json"}})},onSuccess:()=>{e({title:"Equipment & Symptoms Updated",description:"Proceeding to Universal RCA Analysis - AI will analyze your incident description"}),t(`/evidence-checklist?incident=${encodeURIComponent(s)}`)},onError:v=>{e({title:"Error",description:v.message||"Failed to update equipment details",variant:"destructive"})}}),j=v=>{if(!v.symptomDescription||v.symptomDescription.trim().length<20){e({title:"More Details Needed",description:"Please provide a detailed symptom description (at least 20 characters) for Universal RCA AI analysis",variant:"destructive"});return}console.log(`[UNIVERSAL RCA] Submitting incident with ${v.symptomDescription.length} character symptom description - sufficient for Universal RCA Engine`);const N={...v,equipmentLibraryId:a==null?void 0:a.id};y.mutate(N)};return n||!s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsx(H,{className:"max-w-md",children:r.jsxs(K,{className:"text-center p-6",children:[r.jsx(Rr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:n||"Missing Incident ID"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Please return to the incident reporting form and submit a valid incident."}),r.jsx(Xs,{to:"/",children:r.jsxs(V,{variant:"outline",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back to Incident Form"]})})]})})}):u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error loading incident"}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",s]}),r.jsx("div",{className:"text-sm text-red-500 mt-1",children:u.message})]})}):d?(console.log("Loading incident data..."),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading incident data..."}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",s]}),r.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Fetching from server..."})]})})):!c&&!d?(console.log("No incident found after loading complete"),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Incident Not Found"}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",s]})]})})):(console.log("RENDERING MAIN CONTENT - incident:",c==null?void 0:c.title,"ID:",s),console.log("Current location:",window.location.pathname,window.location.search),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Xs,{to:"/admin",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Equipment Selection & Symptom Input"}),r.jsx("p",{className:"text-slate-600",children:"Step 2: Select specific equipment part and describe symptoms"})]})]}),r.jsx(ee,{variant:"secondary",className:"text-sm",children:"Step 2 of 8"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("span",{className:"ml-2 text-sm text-green-600",children:"Incident Reported"})]}),r.jsx(_r,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Equipment Selection"})]}),r.jsx(_r,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Checklist"})]}),r.jsx("span",{className:"text-slate-400",children:"..."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"h-5 w-5 text-blue-500"}),"Equipment Library Selection"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Select from evidence library for ",c==null?void 0:c.equipmentGroup," - ",c==null?void 0:c.equipmentType]})]}),r.jsxs(K,{children:[m&&r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-semibold text-green-800",children:"Intelligent Elimination Applied"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-slate-700",children:m.totalAnalyzed}),r.jsx("div",{className:"text-slate-600",children:"Total Analyzed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-red-600",children:m.eliminated}),r.jsx("div",{className:"text-red-600",children:"Eliminated"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-green-600",children:m.remaining}),r.jsx("div",{className:"text-green-600",children:"Remaining"})]})]}),r.jsx("div",{className:"mt-2 text-center",children:r.jsxs(ee,{variant:"secondary",className:"bg-green-100 text-green-800",children:["+",m.confidenceBoost,"% Confidence Boost"]})})]}),x.length>0?r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsx("div",{className:"mb-3",children:r.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Remaining Failure Modes (Focus Here)"})}),x.map(v=>r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${(a==null?void 0:a.id)===v.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>o(v),children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-slate-900",children:v.equipmentType}),r.jsx(ee,{variant:v.riskRanking==="Critical"?"destructive":"secondary",children:v.riskRanking})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:v.componentFailureMode}),r.jsx("p",{className:"text-xs text-green-600",children:" Active for investigation"})]},v.id)),h.length>0&&r.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:r.jsxs("details",{className:"cursor-pointer",children:[r.jsxs("summary",{className:"font-medium text-red-700 mb-2",children:[" Eliminated Failure Modes (",h.length,") - Click to view"]}),r.jsx("div",{className:"space-y-2 mt-3",children:h.map(v=>r.jsxs("div",{className:"p-3 border border-red-200 rounded-lg bg-red-50 opacity-75",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-red-800",children:v.equipmentType}),r.jsx(ee,{variant:"destructive",className:"opacity-75",children:"Eliminated"})]}),r.jsx("p",{className:"text-sm text-red-700 mb-1",children:v.componentFailureMode}),r.jsxs("p",{className:"text-xs text-red-600 italic",children:["Reason: ",v.eliminationReason]})]},v.id))})]})})]}):r.jsxs("div",{className:"text-center py-8 text-blue-500",children:[r.jsx(Ut,{className:"h-12 w-12 mx-auto mb-3 text-blue-300"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[r.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:" Universal RCA Ready"}),r.jsx("p",{className:"text-sm text-blue-700",children:"No equipment-specific templates needed. Our AI will analyze your incident description directly using Universal RCA Engine."}),r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" Fill in symptom details to activate AI analysis"})]})]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(p1,{className:"h-5 w-5 text-orange-500"}),"Symptom Details"]})}),r.jsx(K,{children:r.jsx(dC,{...l,children:r.jsxs("form",{onSubmit:l.handleSubmit(j),className:"space-y-6",children:[r.jsx(He,{control:l.control,name:"specificPart",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Specific Part/Component"}),r.jsx(ze,{children:r.jsx(me,{...v,placeholder:"e.g., Mechanical seal, Bearing, Impeller"})}),r.jsx(Be,{})]})}),r.jsx(He,{control:l.control,name:"symptomDescription",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Detailed Symptom Description"}),r.jsx(ze,{children:r.jsx(Qe,{...v,placeholder:"Describe exactly what you observed: leaks, noises, vibrations, performance issues...",rows:4})}),r.jsx(Be,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(He,{control:l.control,name:"frequency",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Frequency"}),r.jsx(ze,{children:r.jsxs($e,{onValueChange:v.onChange,value:v.value,children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Continuous",children:"Continuous"}),r.jsx(te,{value:"Intermittent",children:"Intermittent"}),r.jsx(te,{value:"One-time",children:"One-time"}),r.jsx(te,{value:"Increasing",children:"Increasing"})]})]})}),r.jsx(Be,{})]})}),r.jsx(He,{control:l.control,name:"severity",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Severity"}),r.jsx(ze,{children:r.jsxs($e,{onValueChange:v.onChange,value:v.value,children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Minor",children:"Minor"}),r.jsx(te,{value:"Moderate",children:"Moderate"}),r.jsx(te,{value:"Significant",children:"Significant"}),r.jsx(te,{value:"Severe",children:"Severe"})]})]})}),r.jsx(Be,{})]})})]}),r.jsx(He,{control:l.control,name:"operatingConditions",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Operating Conditions"}),r.jsx(ze,{children:r.jsx(Qe,{...v,placeholder:"Temperature, pressure, flow rate, load conditions when issue occurred...",rows:3})}),r.jsx(Be,{})]})}),r.jsx(He,{control:l.control,name:"whenObserved",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"When First Observed"}),r.jsx(ze,{children:r.jsx(me,{...v,placeholder:"During startup, at high load, after maintenance..."})}),r.jsx(Be,{})]})}),r.jsx(He,{control:l.control,name:"contextualFactors",render:({field:v})=>r.jsxs(Fe,{children:[r.jsx(qe,{children:"Additional Context (Optional)"}),r.jsx(ze,{children:r.jsx(Qe,{...v,placeholder:"Recent maintenance, weather conditions, process changes...",rows:2})}),r.jsx(Be,{})]})}),a&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-900",children:"Selected from Library:"})]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[a.equipmentType," - ",a.componentFailureMode]})]}),r.jsx("div",{className:"flex justify-end pt-6",children:r.jsx(V,{type:"submit",disabled:y.isPending,className:"min-w-48",children:y.isPending?"Processing...":r.jsxs(r.Fragment,{children:["Generate Evidence Checklist",r.jsx(_r,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})]})}))}function oCe({incidentId:e,aiHypotheses:t,instructions:n,onHypothesesConfirmed:i}){const{toast:s}=Mt(),[a,o]=b.useState({}),[l,c]=b.useState([""]),[d,u]=b.useState(""),[f,p]=b.useState(!1),x=(v,N)=>{console.log(`[HYPOTHESIS REVIEW] ${N} hypothesis ${v}`),o(w=>({...w,[v]:N}))},h=()=>{c(v=>[...v,""])},m=(v,N)=>{c(w=>w.map((S,E)=>E===v?N:S))},y=v=>{c(N=>N.filter((w,S)=>S!==v))},j=async()=>{const v=Object.values(a).filter(w=>w==="accept").length,N=l.filter(w=>w.trim().length>0);if(v===0&&N.length===0){s({title:"Selection Required",description:"Please accept at least one AI hypothesis or add a custom failure mode",variant:"destructive"});return}p(!0);try{console.log("[HYPOTHESIS REVIEW] Submitting feedback:",{hypothesesFeedback:a,customFailureModes:N,userReasoning:d});const{apiPost:w}=await Ye(async()=>{const{apiPost:C}=await Promise.resolve().then(()=>ot);return{apiPost:C}},void 0),S=await w(`/incidents/${e}/hypothesis-feedback`,{hypothesesFeedback:a,customFailureModes:N,userReasoning:d});if(!S.ok)throw new Error(`HTTP ${S.status}: ${S.statusText}`);const E=await S.json();s({title:"Hypotheses Confirmed",description:E.message||`${E.confirmedHypotheses} hypotheses confirmed for evidence collection`}),i(E.evidenceItems||[])}catch(w){console.error("[HYPOTHESIS REVIEW] Feedback submission failed:",w),s({title:"Submission Failed",description:w instanceof Error?w.message:"Failed to process hypothesis feedback",variant:"destructive"})}finally{p(!1)}},g=v=>v>=70?"bg-green-100 text-green-800":v>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return r.jsxs("div",{className:"space-y-6",children:[r.jsx(H,{children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5 text-blue-500"}),"Human-AI Collaborative Analysis"]}),r.jsx(ye,{children:n})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"AI-Generated Failure Hypotheses"}),t.map(v=>{const N=a[v.id];return r.jsxs(H,{className:`border-2 ${N==="accept"?"border-green-200 bg-green-50":N==="reject"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[r.jsx(Q,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(X,{className:"text-base",children:v.hypothesis}),r.jsx(ye,{className:"mt-2",children:v.reasoning})]}),r.jsxs(ee,{className:g(v.aiConfidence),children:[v.aiConfidence,"% AI Confidence"]})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[v.suggestedEvidence.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Evidence:"}),r.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:v.suggestedEvidence.map((w,S)=>r.jsx("li",{children:w},S))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{onClick:()=>x(v.id,"accept"),variant:N==="accept"?"default":"outline",size:"sm",className:N==="accept"?"bg-green-600 hover:bg-green-700":"",children:[r.jsx(kt,{className:"h-4 w-4 mr-1"}),"Accept "]}),r.jsxs(V,{onClick:()=>x(v.id,"reject"),variant:N==="reject"?"default":"outline",size:"sm",className:N==="reject"?"bg-red-600 hover:bg-red-700":"",children:[r.jsx(so,{className:"h-4 w-4 mr-1"}),"Reject "]})]})]})})]},v.id)})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-5 w-5"}),"Add Custom Failure Modes"]}),r.jsx(ye,{children:"Add your own failure hypotheses based on engineering experience"})]}),r.jsxs(K,{className:"space-y-4",children:[l.map((v,N)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{value:v,onChange:w=>m(N,w.target.value),placeholder:"Enter custom failure mode...",className:"flex-1"}),l.length>1&&r.jsx(V,{onClick:()=>y(N),variant:"outline",size:"sm",children:"Remove"})]},N)),r.jsxs(V,{onClick:h,variant:"outline",size:"sm",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Add Another"]})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Engineering Rationale"}),r.jsx(ye,{children:"Provide your reasoning for the selected hypotheses (optional)"})]}),r.jsx(K,{children:r.jsx(Qe,{value:d,onChange:v=>u(v.target.value),placeholder:"Explain your engineering reasoning for the selected failure modes...",rows:4})})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(V,{onClick:j,disabled:f,size:"lg",className:"px-8",children:f?"Processing...":"Confirm Hypotheses & Generate Evidence Requirements"})})]})}function lCe({incidentId:e,aiHypotheses:t,onConfirmationComplete:n}){const[i,s]=b.useState(Object.fromEntries(t.map(v=>[v.id,"pending"]))),[a,o]=b.useState([]),[l,c]=b.useState(""),[d,u]=b.useState(!1),{toast:f}=Mt(),p=(v,N)=>{s(w=>({...w,[v]:N}))},x=()=>{l.trim()&&(o(v=>[...v,l.trim()]),c(""),f({title:"Custom Hypothesis Added",description:"Your additional failure mode hypothesis has been recorded."}))},h=v=>{o(N=>N.filter((w,S)=>S!==v))},m=()=>{const v=t.filter(S=>i[S.id]==="agreed"),N=v.length>0,w=a.length>0;if(!N&&!w){f({title:"No Hypotheses Selected",description:"Please agree with at least one AI hypothesis or add a custom hypothesis to proceed.",variant:"destructive"});return}u(!0),console.log(`[HUMAN CONFIRMATION FLOW] Investigator confirmed ${v.length} AI hypotheses`),console.log(`[HUMAN CONFIRMATION FLOW] Investigator added ${a.length} custom hypotheses`),console.log("[HUMAN CONFIRMATION FLOW] Proceeding to Step 5: Evidence Collection Interface"),n(v,a)},y=Object.values(i).filter(v=>v==="pending").length,j=Object.values(i).filter(v=>v==="agreed").length,g=Object.values(i).filter(v=>v==="disagreed").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Step 4: Human Confirmation Flow"})]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Review AI-generated POTENTIAL causes before evidence collection. Agree, disagree, or add your own hypotheses."}),r.jsxs("div",{className:"flex gap-4 mt-3",children:[r.jsxs(ee,{variant:"outline",className:"text-green-700 border-green-300",children:[" Agreed: ",j]}),r.jsxs(ee,{variant:"outline",className:"text-red-700 border-red-300",children:[" Disagreed: ",g]}),r.jsxs(ee,{variant:"outline",className:"text-gray-700 border-gray-300",children:[" Pending: ",y]}),a.length>0&&r.jsxs(ee,{variant:"outline",className:"text-purple-700 border-purple-300",children:[" Custom: ",a.length]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-md font-medium flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4"}),"AI-Generated POTENTIAL Causes (",t.length,")"]}),t.map((v,N)=>r.jsxs(H,{className:`border-2 ${i[v.id]==="agreed"?"border-green-200 bg-green-50 dark:bg-green-950":i[v.id]==="disagreed"?"border-red-200 bg-red-50 dark:bg-red-950":"border-gray-200"}`,children:[r.jsx(Q,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"text-lg flex items-center gap-2",children:[r.jsx(ee,{variant:"outline",className:"text-xs",children:"AI Generated"}),v.failureMode]}),r.jsxs(ye,{className:"mt-1",children:["Confidence: ",v.confidence,"% | ",v.faultSignature]})]}),r.jsxs(ee,{variant:"secondary",children:[v.confidence,"%"]})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:v.description.split(" | AI Reasoning: ")[0]})}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded border",children:[r.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-200 mb-1",children:"AI Reasoning:"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:v.aiReasoning})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Evidence:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:v.requiredEvidence.map((w,S)=>r.jsx(ee,{variant:"outline",className:"text-xs",children:w},S))})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{size:"sm",variant:i[v.id]==="agreed"?"default":"outline",onClick:()=>p(v.id,"agreed"),className:"flex items-center gap-1",children:[r.jsx(kt,{className:"h-4 w-4"}),"Agree"]}),r.jsxs(V,{size:"sm",variant:i[v.id]==="disagreed"?"destructive":"outline",onClick:()=>p(v.id,"disagreed"),className:"flex items-center gap-1",children:[r.jsx(so,{className:"h-4 w-4"}),"Disagree"]})]})]})})]},v.id))]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"text-md flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Add Custom Hypothesis"]}),r.jsx(ye,{children:"Add your own failure mode hypothesis based on your engineering expertise"})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(Qe,{placeholder:"Describe your additional failure mode hypothesis...",value:l,onChange:v=>c(v.target.value),rows:3}),r.jsxs(V,{onClick:x,disabled:!l.trim(),className:"flex items-center gap-1",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Add Hypothesis"]})]}),a.length>0&&r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:"Your Custom Hypotheses:"}),a.map((v,N)=>r.jsxs("div",{className:"flex items-center justify-between bg-purple-50 dark:bg-purple-950 p-2 rounded border",children:[r.jsx("span",{className:"text-sm",children:v}),r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>h(N),children:r.jsx(so,{className:"h-4 w-4"})})]},N))]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(V,{onClick:m,disabled:d,size:"lg",className:"flex items-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):r.jsxs(r.Fragment,{children:["Proceed to Evidence Collection",r.jsx(pt,{className:"h-4 w-4"})]})})})]})}function cCe(){var Mn;const[,e]=fa(),[t,n]=b.useState(null),[i,s]=b.useState([]),[a,o]=b.useState([]),[l,c]=b.useState(null),[d,u]=b.useState(!1),[f,p]=b.useState(0),[x,h]=b.useState(!1),[m,y]=b.useState(null),[j,g]=b.useState(!1);b.useState([]);const[v,N]=b.useState({}),[w,S]=b.useState([]),[E,C]=b.useState(""),[k,R]=b.useState(!1),[P,A]=b.useState("initial"),[_,O]=b.useState([]),[D,M]=b.useState([]),[G,z]=b.useState([]),{toast:I}=Mt();b.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("incident");W&&n(parseInt(W))},[]);const{data:U,isLoading:Z}=Ce({queryKey:["/api/incidents",t],enabled:!!t}),$=Ke({mutationFn:async T=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Generating AI hypotheses for human confirmation"),console.log(`[AI HYPOTHESIS GENERATOR] Incident: "${T.symptomDescription||T.title}"`);const{apiPost:W}=await Ye(async()=>{const{apiPost:re}=await Promise.resolve().then(()=>ot);return{apiPost:re}},void 0),F=await W(`/incidents/${T.id}/generate-ai-hypotheses`);if(!F.ok)throw new Error(`Failed to generate AI hypotheses: ${F.status}`);return await F.json()},onSuccess:T=>{var W,F;console.log(`[AI HYPOTHESIS GENERATOR] Generated ${((W=T.aiHypotheses)==null?void 0:W.length)||0} hypotheses for human confirmation`),O(T.aiHypotheses||[]),A("human-confirmation"),I({title:"AI Analysis Complete",description:`Generated ${((F=T.aiHypotheses)==null?void 0:F.length)||0} potential causes for your review`})},onError:T=>{console.error("[AI HYPOTHESIS GENERATOR] Error:",T),I({title:"AI Analysis Failed",description:"Failed to generate AI hypotheses. Please try again.",variant:"destructive"})}}),ie=Ke({mutationFn:async({confirmedHypotheses:T,customHypotheses:W})=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 5: Generating evidence checklist from confirmed hypotheses");const{apiPost:F}=await Ye(async()=>{const{apiPost:ae}=await Promise.resolve().then(()=>ot);return{apiPost:ae}},void 0),re=await F(`/incidents/${t}/generate-evidence-checklist`,{confirmedHypotheses:T,customHypotheses:W});if(!re.ok)throw new Error(`Failed to generate evidence checklist: ${re.status}`);return await re.json()},onSuccess:T=>{var W,F;console.log(`[EVIDENCE COLLECTION] Generated ${((W=T.evidenceItems)==null?void 0:W.length)||0} evidence items from confirmed hypotheses`),s(T.evidenceItems||[]),A("evidence-collection"),I({title:"Evidence Collection Ready",description:`Generated ${((F=T.evidenceItems)==null?void 0:F.length)||0} evidence requirements based on your confirmed hypotheses`})},onError:T=>{console.error("[EVIDENCE COLLECTION] Error:",T),I({title:"Evidence Generation Failed",description:"Failed to generate evidence checklist. Please try again.",variant:"destructive"})}}),ne=(T,W)=>{console.log("[HUMAN CONFIRMATION FLOW] Human confirmation completed"),console.log(`[HUMAN CONFIRMATION FLOW] Confirmed: ${T.length}, Custom: ${W.length}`),M(T),z(W),A("ai-generating"),ie.mutate({confirmedHypotheses:T,customHypotheses:W})},J=Ke({mutationFn:async T=>{const{apiPost:W}=await Ye(async()=>{const{apiPost:re}=await Promise.resolve().then(()=>ot);return{apiPost:re}},void 0),F=await W(`/incidents/${T.id}/generate-evidence-checklist-legacy`);if(!F.ok)throw new Error(`Failed to generate legacy checklist: ${F.status}`);return await F.json()},onSuccess:T=>{var W;if(console.log("Incident-only evidence checklist generated:",T),T&&T.evidenceItems)if(s(T.evidenceItems),console.log(`[INCIDENT-ONLY EVIDENCE] Generated ${T.evidenceItems.length} symptom-based evidence items`),T.fallbackAnalysis&&T.fallbackAnalysis.inferredFailureModes)console.log("[FALLBACK LOGIC] Evidence Library confidence LOW - showing AI-inferred failure modes"),y({extractedSymptoms:T.fallbackAnalysis.inferredFailureModes.map(F=>({keyword:F.failureMode,confidence:F.confidence,context:F.reasoning})),aiHypotheses:T.fallbackAnalysis.inferredFailureModes.map(F=>({id:F.id||(()=>{const re=new Date().getTime(),ae=re%1e4;return`fallback-${re}-${ae}`})(),hypothesis:F.failureMode,reasoning:F.reasoning,aiConfidence:F.confidence,confidenceSource:F.confidenceSource||"AI-Inferred"})),fallbackMode:!0,generationMethod:T.generationMethod}),g(!0);else if(T.backwardCompatible||T.generationMethod==="legacy-compatibility")console.log("[BACKWARD COMPATIBILITY] Legacy evidence generation completed"),s(T.evidenceItems),g(!1),R(!1);else if(T.universalRCAFlow&&((W=T.aiAnalysis)!=null&&W.aiHypotheses))console.log("[Universal RCA] Showing hypothesis review interface"),y(T.aiAnalysis),R(!0);else if(T.aiAnalysis){let F=[];T.aiAnalysis.aiHypotheses&&Array.isArray(T.aiAnalysis.aiHypotheses)&&(F=T.aiAnalysis.aiHypotheses.map((re,ae)=>({...re,id:re.id||`hypothesis-${new Date().getTime()}-${ae}`}))),y({...T.aiAnalysis,aiHypotheses:F}),g(T.requiresHumanVerification||!1),console.log("[INCIDENT-ONLY EVIDENCE] AI analysis ready for human verification"),console.log("Hypotheses with IDs:",F),console.log("Full AI analysis:",T.aiAnalysis)}else s(T.evidenceItems);else console.error("Invalid incident-only evidence format:",T),s([]);u(!1)},onError:T=>{console.error("Failed to generate evidence checklist:",T),u(!1)}}),se=Ke({mutationFn:async T=>st(`/api/incidents/${T.incidentId}/evidence-progress`,{method:"PUT",body:JSON.stringify({currentStep:3,workflowStatus:"evidence_checklist_complete",evidenceChecklist:T.evidenceItems})})});b.useEffect(()=>{U&&typeof U=="object"&&"id"in U&&P==="initial"&&(console.log(`[UNIVERSAL RCA INSTRUCTION] Starting Universal RCA workflow for incident ${U.id}`),!U.symptomDescription||U.symptomDescription.trim().length<20||U.workflowStatus==="equipment_selected"?(console.log(`[BACKWARD COMPATIBILITY] Using legacy workflow for incident ${U.id}`),u(!0),J.mutate(U)):(console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Starting AI hypothesis generation"),A("ai-generating"),$.mutate(U)))},[U,P]),b.useEffect(()=>{if(i&&Array.isArray(i)&&i.length>0){const T=i.filter(F=>{var re;return F.completed||F.isUnavailable&&((re=F.unavailableReason)==null?void 0:re.trim())}).length,W=Math.round(T/i.length*100);p(W)}},[i]);const ue=(T,W)=>{s(F=>F.map(re=>re.id===T?{...re,completed:W}:re))},ke=(T,W)=>{s(F=>F.map(re=>re.id===T?{...re,notes:W}:re))},ce=(T,W)=>{s(F=>F.map(re=>re.id===T?{...re,files:[...re.files||[],...W],completed:!0}:re))},ve=(T,W)=>{s(F=>F.map(re=>re.id===T?{...re,files:(re.files||[]).filter((ae,de)=>de!==W)}:re))},he=(T,W,F)=>{s(re=>re.map(ae=>ae.id===T?{...ae,isUnavailable:W,unavailableReason:F||"",completed:W&&(F!=null&&F.trim())?!0:ae.completed,files:W?[]:ae.files}:ae))},B=()=>{t&&i.length>0&&se.mutate({incidentId:t,evidenceItems:i},{onSuccess:()=>{e(`/incidents/${t}/rca-triage`)}})},fe=(i==null?void 0:i.filter(T=>T.priority==="Critical"))||[],pe=(i==null?void 0:i.filter(T=>T.priority==="High"))||[],Te=(i==null?void 0:i.filter(T=>T.priority==="Medium"))||[],Ne=(i==null?void 0:i.filter(T=>T.priority==="Low"))||[],et=fe.filter(T=>{var W;return T.completed||T.isUnavailable&&((W=T.unavailableReason)==null?void 0:W.trim())||T.files&&T.files.length>0}),at=pe.filter(T=>{var W;return T.completed||T.isUnavailable&&((W=T.unavailableReason)==null?void 0:W.trim())||T.files&&T.files.length>0}),Ct=Math.floor(pe.length*.8)+(pe.length*.8%1>0?1:0),vn=et.length===fe.length&&at.length>=Ct;if(console.log(`[EVIDENCE PROGRESS] Critical: ${et.length}/${fe.length}, High: ${at.length}/${pe.length} (need ${Ct}), Can Proceed: ${vn}`),!vn&&i.length>0){console.log("[EVIDENCE PROGRESS] Blocking items:"),fe.forEach(W=>{var F;!W.completed&&!(W.isUnavailable&&((F=W.unavailableReason)!=null&&F.trim()))&&console.log(`- Critical item "${W.title}" not completed`)});const T=Ct-at.length;T>0&&console.log(`- Need ${T} more high priority items completed`)}return Z||!U?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(V,{variant:"ghost",onClick:()=>e("/admin"),children:" Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 3: AI Evidence Checklist"})]})]}),r.jsxs(ee,{variant:"outline",className:"text-sm",children:["Incident #",U==null?void 0:U.id]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(H,{className:"mb-8",children:r.jsxs(Q,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),U==null?void 0:U.title]}),r.jsxs(ye,{children:["Equipment: ",U==null?void 0:U.equipmentGroup,"  ",U==null?void 0:U.equipmentType," (",U==null?void 0:U.equipmentId,")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[f,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),r.jsx(Vr,{value:f,className:"mt-4"})]})}),P==="ai-generating"&&r.jsxs(H,{className:"mb-8",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 animate-spin"}),"Step 2: AI Hypothesis Generation"]}),r.jsx(ye,{children:"AI is analyzing the incident and generating potential causes using GPT..."})]}),r.jsx(K,{children:r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Generating AI-driven POTENTIAL causes"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"STRICT RULE: NO HARD CODING"})]})})})]}),P==="human-confirmation"&&_.length>0&&r.jsx("div",{className:"mb-8",children:r.jsx(lCe,{incidentId:t,aiHypotheses:_,onConfirmationComplete:ne})}),P==="evidence-collection"&&i.length>0&&r.jsx("div",{className:"mb-8",children:r.jsx(H,{children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5 text-green-600"}),"Step 5: Evidence Collection Interface"]}),r.jsx(ye,{children:"Collect evidence for confirmed hypotheses based on human verification"})]})})}),k&&(m==null?void 0:m.aiHypotheses)&&r.jsx(oCe,{incidentId:t,aiHypotheses:m.aiHypotheses,instructions:m.instructions||"Review AI-generated failure hypotheses and select which ones to investigate further",onHypothesesConfirmed:T=>{console.log("[Universal RCA] Hypotheses confirmed, received evidence:",T),s(T),R(!1),I({title:"Hypotheses Confirmed",description:"Evidence collection requirements generated for confirmed failure modes"})}}),j&&m&&!k&&r.jsxs(H,{className:"mb-6 border-orange-200 bg-orange-50",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 text-orange-600"}),m!=null&&m.fallbackMode?"AI-Inferred Analysis (Low Confidence)":"Human Verification Required"]}),r.jsx(ye,{children:m!=null&&m.fallbackMode?"Evidence Library confidence LOW. AI has inferred potential failure modes using engineering knowledge. INVESTIGATOR VERIFICATION REQUIRED.":"AI has analyzed the incident description and generated hypotheses. Please review and approve before proceeding."}),(m==null?void 0:m.fallbackMode)&&r.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[r.jsx("strong",{children:"FALLBACK LOGIC ACTIVE:"})," No high-confidence Evidence Library matches found. Analysis based on AI engineering inference only."]})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Extracted Symptoms:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(Mn=m.extractedSymptoms)==null?void 0:Mn.map((T,W)=>r.jsxs(ee,{variant:"outline",className:m.fallbackMode?"bg-yellow-50":"bg-blue-50",children:[T.keyword," (",T.confidence,"% ",m.fallbackMode?"AI-inferred":"confidence",")"]},W))})]}),m.aiHypotheses&&Array.isArray(m.aiHypotheses)&&m.aiHypotheses.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:m!=null&&m.fallbackMode?"AI-Inferred Failure Modes (Review Required):":"AI Failure Hypotheses (Review Required):"}),r.jsx("div",{className:"space-y-3",children:m.aiHypotheses.map((T,W)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-white",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h5",{className:"font-medium",children:T.hypothesis}),r.jsxs(ee,{variant:T.aiConfidence>80?"default":"secondary",children:[T.aiConfidence,"% ",T.confidenceSource||"AI Confidence"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.reasoning}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:v[T.id]==="accept"?"default":"outline",className:"text-green-600 hover:bg-green-50",onClick:F=>{F.preventDefault(),console.log("Accept clicked for hypothesis:",T.id,T),N(re=>{const ae={...re,[T.id]:"accept"};return console.log("Updated feedback state:",ae),ae})},children:" Accept"}),r.jsx(V,{size:"sm",variant:v[T.id]==="reject"?"default":"outline",className:"text-red-600 hover:bg-red-50",onClick:F=>{F.preventDefault(),console.log("Reject clicked for hypothesis:",T.id,T),N(re=>{const ae={...re,[T.id]:"reject"};return console.log("Updated feedback state:",ae),ae})},children:" Reject"}),r.jsx(V,{size:"sm",variant:v[T.id]==="modify"?"default":"outline",className:"text-blue-600 hover:bg-blue-50",onClick:F=>{F.preventDefault(),console.log("Modify clicked for hypothesis:",T.id,T),N(re=>{const ae={...re,[T.id]:"modify"};return console.log("Updated feedback state:",ae),ae})},children:" Modify"})]})]},T.id||W))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Add Custom Failure Modes (Optional):"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:E,onChange:T=>C(T.target.value),placeholder:"Enter custom failure mode based on your experience",className:"flex-1 px-3 py-2 border rounded-md text-sm"}),r.jsx(V,{size:"sm",onClick:()=>{E.trim()&&(S(T=>[...T,E.trim()]),C(""))},disabled:!E.trim(),children:"Add"})]}),w.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((T,W)=>r.jsxs(ee,{variant:"secondary",className:"bg-green-50",children:[T,r.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700",onClick:()=>S(F=>F.filter((re,ae)=>ae!==W)),children:""})]},W))})]})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx(V,{onClick:async()=>{var F,re;const T=((F=m==null?void 0:m.aiHypotheses)==null?void 0:F.filter(ae=>v[ae.id]==="accept").map(ae=>ae.hypothesis))||[],W=((re=m==null?void 0:m.aiHypotheses)==null?void 0:re.filter(ae=>v[ae.id]==="reject").map(ae=>ae.hypothesis))||[];if(m!=null&&m.fallbackMode)try{const{apiPost:ae}=await Ye(async()=>{const{apiPost:we}=await Promise.resolve().then(()=>ot);return{apiPost:we}},void 0),de=await ae(`/incidents/${t}/fallback-feedback`,{confirmedCauses:T,disagreedCauses:W,alternativeCauses:[],customFailureModes:w,userReasoning:"User feedback on AI-inferred failure modes"});if(de.ok){const we=await de.json();console.log("[FALLBACK LOGIC] Feedback submitted successfully:",we),g(!1)}}catch(ae){console.error("[FALLBACK LOGIC] Failed to submit feedback:",ae)}else g(!1),console.log("[HUMAN VERIFICATION] User proceeding with incident-only analysis")},className:"w-full",disabled:(m==null?void 0:m.aiHypotheses)&&m.aiHypotheses.length>0&&Object.keys(v).length===0&&w.length===0,children:m!=null&&m.fallbackMode?"Submit Investigator Feedback":"Proceed with Verified Hypotheses"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:m!=null&&m.fallbackMode?"Your feedback helps improve future analysis and may be reviewed for Evidence Library enhancement":"Please provide feedback on at least one hypothesis to continue"})]})]})})]}),d&&r.jsxs(rn,{className:"mb-6",children:[r.jsx(Dt,{className:"h-4 w-4 animate-spin"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"Incident-Only AI Analysis:"})," Extracting symptoms from incident description (no equipment assumptions)..."]})]}),i.length>0&&r.jsxs(rn,{className:"mb-6 border-blue-200 bg-blue-50",children:[r.jsx(nM,{className:"h-4 w-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"AI Incident Analysis:"})," Based on the incident description, our AI has identified ",(i==null?void 0:i.length)||0," evidence items. Focus on completing all Critical items and at least 80% of High priority items.",l&&r.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-green-800",children:[r.jsx("strong",{children:"Elimination Analysis:"})," Professional engineering logic eliminated ",l.totalEliminated," failure modes, providing +",l.confidenceBoost,"% confidence boost to focus investigation on primary causes."]})]})]}),a.length>0&&r.jsxs(H,{className:"mb-6 border-orange-200 bg-orange-50",children:[r.jsxs(Q,{className:"pb-3",children:[r.jsxs(X,{className:"flex items-center justify-between text-orange-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5"}),"Eliminated Failure Modes (",a.length,")"]}),r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>h(!x),className:"text-orange-700 hover:text-orange-900",children:[x?"Hide":"Show"," Details"]})]}),r.jsx(ye,{className:"text-orange-700",children:"These failure modes were automatically eliminated by engineering logic and do not require evidence collection."})]}),x&&r.jsx(K,{className:"pt-0",children:r.jsx("div",{className:"space-y-3",children:a.map(T=>r.jsx("div",{className:"p-3 bg-white rounded border border-orange-200 opacity-75",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-600 line-through",children:T.title}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description}),T.eliminationReason&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[r.jsx("strong",{children:"Eliminated:"})," ",T.eliminationReason]})]}),r.jsx(ee,{variant:"secondary",className:"ml-2 bg-orange-100 text-orange-800",children:"Eliminated"})]})},T.id))})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[fe.length>0&&r.jsxs(H,{className:"border-red-200",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2 text-red-700",children:[r.jsx(pt,{className:"h-5 w-5"}),"Critical Evidence (",fe.filter(T=>{var W;return T.completed||T.isUnavailable&&((W=T.unavailableReason)==null?void 0:W.trim())}).length,"/",fe.length,")"]}),r.jsx(ye,{children:"Required for accurate analysis"})]}),r.jsx(K,{className:"space-y-4",children:fe.map(T=>r.jsx(Xm,{item:T,onToggle:ue,onNotesUpdate:ke,onFileUpload:ce,onFileRemove:ve,onUnavailabilityChange:he},T.id))})]}),pe.length>0&&r.jsxs(H,{className:"border-orange-200",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2 text-orange-700",children:[r.jsx(pt,{className:"h-5 w-5"}),"High Priority Evidence (",pe.filter(T=>{var W;return T.completed||T.isUnavailable&&((W=T.unavailableReason)==null?void 0:W.trim())}).length,"/",pe.length,")"]}),r.jsx(ye,{children:"Complete at least 80% for optimal analysis"})]}),r.jsx(K,{className:"space-y-4",children:pe.map(T=>r.jsx(Xm,{item:T,onToggle:ue,onNotesUpdate:ke,onFileUpload:ce,onFileRemove:ve,onUnavailabilityChange:he},T.id))})]}),Te.length>0&&r.jsxs(H,{className:"border-yellow-200",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2 text-yellow-700",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Medium Priority Evidence (",Te.filter(T=>{var W;return T.completed||T.isUnavailable&&((W=T.unavailableReason)==null?void 0:W.trim())}).length,"/",Te.length,")"]}),r.jsx(ye,{children:"Helpful for comprehensive analysis"})]}),r.jsx(K,{className:"space-y-4",children:Te.map(T=>r.jsx(Xm,{item:T,onToggle:ue,onNotesUpdate:ke,onFileUpload:ce,onFileRemove:ve,onUnavailabilityChange:he},T.id))})]}),Ne.length>0&&r.jsxs(H,{className:"border-green-200",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2 text-green-700",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Additional Evidence (",Ne.filter(T=>{var W;return T.completed||T.isUnavailable&&((W=T.unavailableReason)==null?void 0:W.trim())}).length,"/",Ne.length,")"]}),r.jsx(ye,{children:"Optional but valuable context"})]}),r.jsx(K,{className:"space-y-4",children:Ne.map(T=>r.jsx(Xm,{item:T,onToggle:ue,onNotesUpdate:ke,onFileUpload:ce,onFileRemove:ve,onUnavailabilityChange:he},T.id))})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(V,{variant:"outline",onClick:()=>e(`/equipment-selection?incident=${t}`),children:" Back to Equipment Selection"}),r.jsx(V,{onClick:B,disabled:!vn||se.isPending,className:"flex items-center gap-2",children:se.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Saving Progress..."]}):r.jsxs(r.Fragment,{children:["Proceed to Evidence Collection",r.jsx(Fp,{className:"h-4 w-4"})]})})]}),!vn&&i.length>0&&r.jsxs(rn,{className:"mt-4 border-amber-200 bg-amber-50",children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"Requirements to Proceed:"}),r.jsx("br",{})," Critical Items: ",et.length,"/",fe.length," completed ",fe.length>0&&et.length<fe.length?"(Missing items need to be completed or marked unavailable)":"",r.jsx("br",{})," High Priority Items: ",at.length,"/",pe.length," completed (need ",Ct,") ",at.length>=Ct?"":`(Need ${Ct-at.length} more)`,r.jsx("br",{}),r.jsx("em",{children:"Tip: After uploading files, make sure to check the completion checkbox for each evidence item."})]})]})]})]})}function Xm({item:e,onToggle:t,onNotesUpdate:n,onFileUpload:i,onFileRemove:s,onUnavailabilityChange:a}){const[o,l]=b.useState(e.unavailableReason||""),{getRootProps:c,getInputProps:d,isDragActive:u}=nC({onDrop:f=>{f.length>0&&i(e.id,f)},accept:{"application/pdf":[".pdf"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"],"image/*":[".png",".jpg",".jpeg"],"text/plain":[".txt"]},maxFiles:5,disabled:e.isUnavailable});return r.jsx("div",{className:`p-4 border rounded-lg ${e.isUnavailable?"bg-orange-50 border-orange-200":e.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ar,{checked:e.completed,onCheckedChange:f=>t(e.id,!!f),className:"mt-1",disabled:e.isUnavailable}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"font-medium",children:e.title}),r.jsx(ee,{variant:e.priority==="Critical"?"destructive":e.priority==="High"?"default":e.priority==="Medium"?"secondary":"outline",children:e.priority}),e.aiGenerated&&r.jsxs(ee,{variant:"outline",className:"text-xs",children:[r.jsx(Dt,{className:"h-3 w-3 mr-1"}),"AI Generated"]}),e.isUnavailable&&r.jsx(ee,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800 text-xs",children:"Not Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.examples&&e.examples.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx(oe,{className:"text-xs font-medium text-muted-foreground",children:"Examples:"}),r.jsx("ul",{className:"text-xs text-muted-foreground mt-1 ml-4",children:e.examples.map((f,p)=>r.jsx("li",{className:"list-disc",children:f},p))})]}),r.jsx("div",{className:"mb-3 border rounded-lg p-3 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ar,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:f=>{a(e.id,f,o)}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(oe,{htmlFor:`unavailable-${e.id}`,className:"text-xs font-medium cursor-pointer flex items-center gap-2",children:[r.jsx(Rr,{className:"h-3 w-3 text-orange-600"}),"This evidence is not available or accessible"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&r.jsxs("div",{className:"mt-2",children:[r.jsx(oe,{htmlFor:`reason-${e.id}`,className:"text-xs font-medium",children:"Why is this evidence unavailable? *"}),r.jsx(Qe,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:o,onChange:f=>{l(f.target.value),a(e.id,!0,f.target.value)},className:"mt-1 text-xs",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&r.jsxs("div",{className:"mb-3",children:[r.jsx(oe,{className:"text-xs font-medium",children:"Upload Evidence Files"}),r.jsxs("div",{...c(),className:`mt-1 border-2 border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer ${u?"border-primary bg-primary/5":"border-gray-300 hover:border-primary/50"}`,children:[r.jsx("input",{...d()}),r.jsx(ao,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-600",children:u?"Drop files here":"Drag files or click to browse"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, Excel, CSV, Images, Text files"})]})]}),!e.isUnavailable&&e.files&&e.files.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsxs(oe,{className:"text-xs font-medium",children:["Uploaded Files (",e.files.length,")"]}),r.jsx("div",{className:"mt-1 space-y-1",children:e.files.map((f,p)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-3 w-3"}),f.name," (",(f.size/1024).toFixed(1)," KB)"]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>s(e.id,p),className:"h-6 w-6 p-0 text-gray-500 hover:text-red-500",children:r.jsx(sa,{className:"h-3 w-3"})})]},p))})]}),r.jsxs("div",{children:[r.jsx(oe,{className:"text-xs font-medium",children:"Notes (optional)"}),r.jsx(Qe,{placeholder:"Add notes about this evidence item...",value:e.notes||void 0,onChange:f=>n(e.id,f.target.value),className:"mt-1 text-sm",rows:2})]})]})]})})}function mT(){hi();const e=yo(),{toast:t}=Mt();b.useState(null);const[n,i]=b.useState({}),[s,a]=b.useState({}),l=new URLSearchParams(window.location.search).get("incident"),{data:c,isLoading:d}=Ce({queryKey:["/api/incidents",l],enabled:!!l}),{data:u=[],isLoading:f,refetch:p}=Ce({queryKey:["/api/incidents",l,"evidence-files"],enabled:!!l,refetchOnWindowFocus:!0,refetchInterval:parseInt("3000")}),x=Ke({mutationFn:async g=>(console.log("[REVIEW ACTION] Submitting:",g),await st(`/api/incidents/${l}/review-evidence`,{method:"POST",body:JSON.stringify(g)})),onSuccess:g=>{console.log("[REVIEW ACTION] Success:",g),p(),wt.invalidateQueries({queryKey:["/api/incidents",l,"evidence-files"]}),t({title:"Review Submitted",description:"Evidence file review status updated successfully"});const v=g,{fileId:N,action:w}=(v==null?void 0:v.data)||{};N&&w&&a(S=>({...S,[N]:w}))},onError:g=>{console.error("[REVIEW ACTION] Error:",g),t({title:"Error",description:g.message||"Failed to submit review",variant:"destructive"})}}),h=Array.isArray(u)&&u.length>0&&u.every(g=>{const v=s[g.id]||g.reviewStatus;return v==="ACCEPTED"||v==="REPLACED"}),m=Array.isArray(u)?u.filter(g=>{const v=s[g.id]||g.reviewStatus;return v==="ACCEPTED"||v==="REPLACED"}).length:0,y=(g,v,N)=>{if(console.log("[CHECKBOX REVIEW] Checkbox changed:",{fileId:g,action:v,checked:N}),N){if(x.isPending){console.log("[CHECKBOX REVIEW] Already pending, ignoring click"),t({title:"Please Wait",description:"Review submission in progress...",variant:"default"});return}a(S=>({...S,[g]:v}));const w=n[g]||"";console.log("[CHECKBOX REVIEW] Submitting with comments:",w),x.mutate({fileId:g,action:v,comments:w})}else a(w=>({...w,[g]:"UNREVIEWED"}))},j=()=>{h?e(`/ai-analysis?incident=${l}`):t({title:"Review Required",description:`Please review all evidence files (${m}/${Array.isArray(u)?u.length:0} completed) before proceeding to AI analysis`,variant:"destructive"})};return l?d||f?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading evidence files..."}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Preparing human review panel..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ir,{to:"/admin",children:r.jsx(V,{variant:"outline",size:"sm",children:" Back to Home"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stage 3B & 4B: Human Review Panel"}),r.jsx("p",{className:"text-slate-600",children:"Review and confirm all uploaded evidence files before AI analysis"})]})]}),r.jsxs(ee,{variant:"secondary",className:"text-sm",children:["Incident #",l]})]}),r.jsxs(H,{className:"mb-8",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-5 w-5 text-blue-600"}),"Review Progress"]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[m,r.jsxs("span",{className:"text-slate-500",children:["/",Array.isArray(u)?u.length:0]})]}),r.jsx("div",{className:"text-sm text-slate-600",children:"Files Reviewed"})]}),h?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-600 font-medium",children:"All Files Reviewed"}),r.jsx(V,{onClick:j,className:"ml-4",children:"Proceed to AI Analysis "})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5 text-amber-600"}),r.jsx("span",{className:"text-amber-600 font-medium",children:"Review Required"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.isArray(u)&&u.map(g=>r.jsxs(H,{className:`transition-all ${g.reviewStatus==="ACCEPTED"?"border-green-300 bg-green-50":g.reviewStatus==="REPLACED"?"border-blue-300 bg-blue-50":g.reviewStatus==="NEEDS_MORE_INFO"?"border-amber-300 bg-amber-50":"border-slate-300"}`,children:[r.jsxs(Q,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(X,{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ut,{className:"h-4 w-4"}),g.fileName]}),r.jsx(ee,{variant:g.reviewStatus==="ACCEPTED"?"default":g.reviewStatus==="REPLACED"?"secondary":g.reviewStatus==="NEEDS_MORE_INFO"?"destructive":"outline",className:g.reviewStatus==="ACCEPTED"?"bg-green-600 text-white":g.reviewStatus==="REPLACED"?"bg-blue-600 text-white":g.reviewStatus==="NEEDS_MORE_INFO"?"bg-amber-600 text-white":"bg-gray-200 text-gray-700",children:g.reviewStatus})]}),r.jsxs("div",{className:"text-xs text-slate-500",children:[g.category||g.evidenceCategory||"General Evidence","  ",g.mimeType||g.fileType||"Unknown","  ",new Date(g.uploadedAt).toLocaleString()]})]}),r.jsxs(K,{className:"space-y-4",children:[g.parsedSummary&&r.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm",children:[r.jsxs("div",{className:"font-medium text-blue-700 mb-1 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Python Backend Analysis:"]}),r.jsx("div",{className:"text-slate-600",children:g.parsedSummary})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-purple-700 mb-1 flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"LLM/AI Diagnostic Interpretation:"]}),g.llmInterpretation?r.jsxs("div",{className:"bg-purple-50 p-3 rounded space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Most Likely Root Causes:"}),r.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(g.llmInterpretation.mostLikelyRootCauses||[]).map((v,N)=>r.jsx("li",{children:v},N))})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Recommendations:"}),r.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(g.llmInterpretation.pinnpointedRecommendations||[]).map((v,N)=>r.jsx("li",{children:v},N))})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("span",{children:["LLM Confidence: ",r.jsxs(ee,{variant:"outline",className:"text-xs",children:[g.llmInterpretation.confidence||0,"%"]})]}),r.jsxs("span",{children:["Missing Evidence: ",(g.llmInterpretation.missingEvidence||[]).length," items"]})]}),r.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 p-2 rounded",children:g.llmInterpretation.diagnosticSummary||"LLM diagnostic analysis completed"})]}):r.jsxs("div",{className:"bg-red-50 p-3 rounded text-sm",children:[r.jsx("div",{className:"text-red-700 font-medium flex items-center gap-2",children:" Protocol Violation: Missing LLM Analysis"}),r.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Universal Protocol Standard requires BOTH Python parsing AND LLM diagnostic interpretation. This file cannot be reviewed until LLM analysis is completed."})]})]}),g.adequacyScore!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Adequacy Score:"}),r.jsxs(ee,{variant:g.adequacyScore>=80?"default":g.adequacyScore>=60?"secondary":"destructive",children:[g.adequacyScore,"%"]})]}),g.analysisFeatures&&r.jsxs("div",{className:"text-xs text-slate-500",children:["Features: ",Object.keys(g.analysisFeatures).join(", ")]}),r.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[r.jsx(Qe,{placeholder:"Add review comments (optional)...",value:n[g.id]||void 0,onChange:v=>i(N=>({...N,[g.id]:v.target.value})),rows:2,className:"text-sm"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:`accept-${g.id}`,checked:s[g.id]==="ACCEPTED"||g.reviewStatus==="ACCEPTED",onCheckedChange:v=>y(g.id,"ACCEPTED",!!v),disabled:x.isPending,className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),r.jsx(oe,{htmlFor:`accept-${g.id}`,className:"text-sm font-medium text-green-700 cursor-pointer",children:" Accept Evidence File - Ready for AI Analysis"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:`need-info-${g.id}`,checked:s[g.id]==="NEEDS_MORE_INFO"||g.reviewStatus==="NEEDS_MORE_INFO",onCheckedChange:v=>y(g.id,"NEEDS_MORE_INFO",!!v),disabled:x.isPending,className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),r.jsx(oe,{htmlFor:`need-info-${g.id}`,className:"text-sm font-medium text-amber-700 cursor-pointer",children:"? Needs More Information - Additional Data Required"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:`replace-${g.id}`,checked:s[g.id]==="REPLACED"||g.reviewStatus==="REPLACED",onCheckedChange:v=>y(g.id,"REPLACED",!!v),disabled:x.isPending,className:"data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),r.jsx(oe,{htmlFor:`replace-${g.id}`,className:"text-sm font-medium text-red-700 cursor-pointer",children:" Replace File - Upload Different Evidence"})]})]}),(s[g.id]||g.reviewStatus!=="UNREVIEWED")&&r.jsxs("div",{className:`p-3 rounded text-sm font-medium ${(s[g.id]||g.reviewStatus)==="ACCEPTED"?"bg-green-100 text-green-800":(s[g.id]||g.reviewStatus)==="REPLACED"?"bg-red-100 text-red-800":(s[g.id]||g.reviewStatus)==="NEEDS_MORE_INFO"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",s[g.id]||g.reviewStatus,x.isPending&&" (Updating...)"]})]}),g.userComments&&r.jsxs("div",{className:"bg-slate-100 p-2 rounded text-xs",children:[r.jsx("div",{className:"font-medium text-slate-600",children:"Review Comments:"}),r.jsx("div",{className:"text-slate-700",children:g.userComments})]})]})]},g.id))}),(!Array.isArray(u)||u.length===0)&&r.jsx(H,{children:r.jsxs(K,{className:"text-center py-12",children:[r.jsx(ao,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsx("div",{className:"text-lg font-medium text-slate-600 mb-2",children:"No Evidence Files Found"}),r.jsx("div",{className:"text-sm text-slate-500 mb-4",children:"Please upload evidence files in the previous steps before proceeding to human review."}),r.jsx(V,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${l}`),children:" Back to Evidence Collection"})]})}),r.jsxs(H,{className:"mt-8",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(nV,{className:"h-5 w-5 text-blue-600"}),"Review Instructions"]})}),r.jsxs(K,{className:"text-sm text-slate-600 space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ACCEPT:"})," File analysis is correct and adequate for RCA"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"NEEDS MORE INFO:"})," File is parsed but requires additional context or clarification"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"REPLACE:"})," File should be replaced with a better version or different file type"]}),r.jsx("div",{className:"text-amber-600 font-medium mt-4",children:" All files must be reviewed before AI analysis can proceed (Universal RCA Requirement)"})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the evidence collection workflow."})]})})}function hT(){var v,N,w,S,E,C,k,R,P,A;const[,e]=fa(),[,t]=zS("/incidents/:id/analysis"),n=new URLSearchParams(window.location.search),i=(t==null?void 0:t.id)||n.get("incident")||null,[s,a]=b.useState("initializing"),[o,l]=b.useState(0),[c,d]=b.useState(null),[u,f]=b.useState(!1),{data:p,isLoading:x}=Ce({queryKey:[`/api/incidents/${i}`],enabled:!!i}),h=Ke({mutationFn:async _=>{const{apiPost:O}=await Ye(async()=>{const{apiPost:M}=await Promise.resolve().then(()=>ot);return{apiPost:M}},void 0),D=await O(`/incidents/${encodeURIComponent(_)}/rca-synthesis`);if(!D.ok)throw new Error(`RCA synthesis failed: ${D.status}`);return await D.json()},onSuccess:_=>{var O,D,M,G,z;if(console.log("RCA Synthesis completed:",_),_.data&&_.data.recommendations){const I=_.data,U={overallConfidence:I.overallConfidence||0,analysisDate:new Date(I.analysisDate)||new Date,rootCauses:((O=I.recommendations)==null?void 0:O.map((Z,$)=>({id:Z.faultId||`fault-${$}`,description:Z.specificFault||"Unknown fault",confidence:Z.confidence||0,category:"Deterministic AI",evidence:Z.evidenceSupport||[],likelihood:Z.confidence>=80?"Very High":Z.confidence>=60?"High":"Medium",impact:"Critical",priority:$+1})))||[],recommendations:((D=I.recommendations)==null?void 0:D.flatMap((Z,$)=>{var ie;return((ie=Z.recommendedActions)==null?void 0:ie.map((ne,J)=>({id:`${Z.faultId}-action-${J}`,title:`${Z.specificFault} - Action ${J+1}`,description:ne,priority:Z.confidence>=80?"Immediate":"Short-term",category:"Deterministic",estimatedCost:"TBD",timeframe:Z.confidence>=80?"Immediate":"1-2 weeks",responsible:"Engineering Team",preventsProbability:Z.confidence})))||[]}))||[],crossMatchResults:{libraryMatches:((M=I.recommendations)==null?void 0:M.length)||0,patternSimilarity:I.overallConfidence||0,historicalData:[`Analysis Method: ${I.analysisMethod}`,`Determinism Check: ${I.determinismCheck}`]},evidenceGaps:((G=I.recommendations)==null?void 0:G.filter(Z=>{var $;return(($=Z.requiredEvidence)==null?void 0:$.length)>0}).flatMap(Z=>Z.requiredEvidence))||[],additionalInvestigation:((z=I.recommendations)==null?void 0:z.map(Z=>Z.analysisRationale).filter(Boolean))||[]};d(U)}a("completed"),l(100),f(!1)},onError:_=>{console.error("Universal RCA Analysis failed:",_),a("error"),f(!1),_.message.includes("No reviewed evidence files")&&a("no_reviewed_evidence")}}),{data:m,isLoading:y}=Ce({queryKey:[`/api/incidents/${i}/analysis`],enabled:!!i});b.useEffect(()=>{p&&m&&!y&&(m&&Object.keys(m).length>0?(console.log("Loading existing analysis results:",m),d(m),a("completed"),l(100),f(!1)):!c&&!u&&i&&(console.log("Starting Universal RCA analysis for incident:",i),f(!0),j(),h.mutate(i)))},[p,m,y]);const j=()=>{const _=[{name:"Steps 1-3: AI Hypothesis Generation",duration:parseInt("2000")},{name:"Step 4: Evidence Status Validation",duration:parseInt("2000")},{name:"Step 5: Data Analysis with Confidence Assessment",duration:parseInt("3000")},{name:"Step 6: Low-Confidence Fallback (if needed)",duration:parseInt("2000")},{name:"Steps 7-9: Enhanced RCA with PSM Integration",duration:parseInt("3000")}];let O=0;_.forEach((D,M)=>{setTimeout(()=>{a(D.name),l((M+1)*20)},O),O+=D.duration})},g=()=>{i&&e(`/analysis-details/${encodeURIComponent(i)}`)};return x||y||!p?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(V,{variant:"ghost",onClick:()=>e("/"),children:" Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Steps 5-6: AI Analysis & Draft RCA"})]})]}),r.jsxs(ee,{variant:"outline",className:"text-sm",children:["Incident #",(p==null?void 0:p.id)||i]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&r.jsxs(H,{className:"mb-8",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 animate-spin"}),"AI Analysis in Progress"]}),r.jsx(ye,{children:"Advanced root cause analysis using evidence library cross-matching and pattern recognition"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:s}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),r.jsx(Vr,{value:o,className:"h-2"})]})})]}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(H,{children:r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"h-5 w-5"}),"Analysis Complete"]}),r.jsxs(ye,{children:[p==null?void 0:p.title," - ",p==null?void 0:p.equipmentGroup,"  ",p==null?void 0:p.equipmentType]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c.overallConfidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"})]})]})})}),r.jsxs(Yn,{defaultValue:"root-causes",className:"w-full",children:[r.jsxs(qn,{className:"grid w-full grid-cols-4",children:[r.jsx(Oe,{value:"root-causes",children:"Root Causes"}),r.jsx(Oe,{value:"recommendations",children:"Recommendations"}),r.jsx(Oe,{value:"cross-match",children:"Library Match"}),r.jsx(Oe,{value:"gaps",children:"Evidence Gaps"})]}),r.jsx(Ee,{value:"root-causes",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Identified Root Causes"}),r.jsx(ye,{children:"Ranked by confidence and impact assessment"})]}),r.jsx(K,{className:"space-y-4",children:c.rootCauses&&c.rootCauses.length>0?c.rootCauses.map((_,O)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ee,{variant:"outline",className:"font-mono",children:["#",O+1]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:_.description}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.category})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[_.confidence,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Likelihood"}),r.jsx(ee,{variant:_.likelihood==="Very High"?"destructive":_.likelihood==="High"?"default":_.likelihood==="Medium"?"secondary":"outline",className:"ml-2",children:_.likelihood})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Impact"}),r.jsx(ee,{variant:_.impact==="Critical"?"destructive":_.impact==="High"?"default":_.impact==="Medium"?"secondary":"outline",className:"ml-2",children:_.impact})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Supporting Evidence"}),r.jsx("ul",{className:"mt-1 text-sm text-muted-foreground",children:_.evidence&&_.evidence.length>0?_.evidence.map((D,M)=>r.jsxs("li",{className:"list-disc list-inside",children:[" ",D]},M)):r.jsx("li",{className:"text-amber-600",children:" No direct evidence available - analysis based on symptoms and patterns"})})]}),_.aiRemarks&&r.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-amber-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-amber-800",children:"AI Analysis Note"}),r.jsx("p",{className:"text-sm text-amber-700 mt-1",children:_.aiRemarks})]})]})})]})]},_.id)):r.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[r.jsx(Hi,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"Analysis Results Available"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["RCA synthesis completed with ",c.overallConfidence,"% confidence. Check other tabs for recommendations and detailed analysis."]})]})})]})}),r.jsx(Ee,{value:"recommendations",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Corrective Recommendations"}),r.jsx(ye,{children:"Prioritized action items to prevent recurrence"})]}),r.jsx(K,{className:"space-y-4",children:c.recommendations&&c.recommendations.length>0?c.recommendations.map((_,O)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ee,{variant:_.priority==="Immediate"?"destructive":_.priority==="Short-term"?"default":"secondary",children:_.priority}),r.jsx("h4",{className:"font-semibold",children:_.title})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsx("div",{className:"font-medium",children:_.estimatedCost}),r.jsx("div",{className:"text-muted-foreground",children:_.timeframe})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",_.category]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Responsible:"})," ",_.responsible]})]}),r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs font-medium",children:"Prevention Effectiveness:"}),r.jsx(Vr,{value:_.preventsProbability,className:"flex-1 h-2"}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[_.preventsProbability,"%"]})]})})]},_.id)):r.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[r.jsx(Dt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"No Specific Recommendations Generated"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Due to limited evidence, AI could not generate specific corrective actions. Consider uploading additional technical data for more detailed recommendations."})]})})]})}),r.jsx(Ee,{value:"cross-match",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(zp,{className:"h-5 w-5"}),"Evidence Library Cross-Match Results"]}),r.jsx(ye,{children:"Comparison with historical equipment failures and patterns"})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:((v=c.crossMatchResults)==null?void 0:v.libraryMatches)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Similar Cases Found"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:[((N=c.crossMatchResults)==null?void 0:N.patternSimilarity)||0,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pattern Similarity"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:((S=(w=c.crossMatchResults)==null?void 0:w.historicalData)==null?void 0:S.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Historical References"})]})]}),(((C=(E=c.crossMatchResults)==null?void 0:E.historicalData)==null?void 0:C.length)||0)>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Historical Data References"}),r.jsx("ul",{className:"space-y-2",children:(((k=c.crossMatchResults)==null?void 0:k.historicalData)||[]).map((_,O)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(kt,{className:"h-4 w-4 text-green-600"}),_]},O))})]})]})]})}),r.jsx(Ee,{value:"gaps",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5"}),"Evidence Gaps & Additional Investigation"]}),r.jsx(ye,{children:"Areas requiring further investigation for complete analysis"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI Evidence Analysis Summary"}),r.jsx("p",{className:"text-sm text-blue-700",children:c.overallConfidence>=80?"Analysis completed with adequate evidence. High confidence in root cause identification.":c.overallConfidence>=50?"Analysis completed with moderate evidence. Some assumptions required for root cause analysis.":"Analysis based primarily on hypothesis due to limited evidence. Results should be validated with additional data."}),r.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Evidence Adequacy: ",c.overallConfidence,"% | Files Analyzed: ",((R=c.crossMatchResults)==null?void 0:R.libraryMatches)||0," | Confidence Level: ",c.overallConfidence>=80?"High":c.overallConfidence>=50?"Medium":"Low"]})]})]})}),(((P=c.evidenceGaps)==null?void 0:P.length)||0)>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-orange-700",children:"Evidence Gaps Identified"}),r.jsx("ul",{className:"space-y-2",children:(c.evidenceGaps||[]).map((_,O)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(pt,{className:"h-4 w-4 text-orange-500 mt-0.5"}),_]},O))})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Evidence Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[r.jsx(kt,{className:"h-4 w-4"}),"No critical evidence gaps identified based on available data"]})]}),(((A=c.additionalInvestigation)==null?void 0:A.length)||0)>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Additional Investigation Recommended"}),r.jsx("ul",{className:"space-y-2",children:(c.additionalInvestigation||[]).map((_,O)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx($i,{className:"h-4 w-4 text-blue-500 mt-0.5"}),_]},O))})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Investigation Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[r.jsx(kt,{className:"h-4 w-4"}),"Current analysis appears complete based on available evidence"]})]})]})]})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(V,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${i}`),children:" Back to Evidence Collection"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>e(`/summary-report/${i}`),children:" Generate Summary Report"}),r.jsxs(V,{onClick:g,className:"flex items-center gap-2",children:["Proceed to Engineer Review",r.jsx(Fp,{className:"h-4 w-4"})]})]})]})]})]})]})}function dCe(){var c,d,u,f,p,x;const[,e]=zS("/incidents/:id/fallback-analysis"),t=e==null?void 0:e.id,[n,i]=b.useState(null),[s,a]=b.useState(!1),{data:o}=Ce({queryKey:[`/api/incidents/${t}`],enabled:!!t}),l=Ke({mutationFn:async()=>{a(!0);const h={},m=(o==null?void 0:o.evidenceResponses)||[],{apiPost:y}=await Ye(async()=>{const{apiPost:g}=await Promise.resolve().then(()=>ot);return{apiPost:g}},void 0),j=await y(`/incidents/${t}/fallback-analysis`,{evidenceAvailability:h,uploadedFiles:m});if(!j.ok)throw new Error(`Fallback analysis failed: ${j.status}`);return j.json()},onSuccess:h=>{console.log("Fallback analysis completed:",h),i(h),a(!1)},onError:h=>{console.error("Fallback analysis failed:",h),a(!1)}});return b.useEffect(()=>{o&&!n&&!s&&l.mutate()},[o]),o?r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(Xs,{to:`/incidents/${t}/evidence-collection`,children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(Dt,{className:"h-6 w-6 text-purple-600"}),"AI Fallback Analysis"]}),r.jsx("p",{className:"text-muted-foreground",children:"Universal RCA Fallback and Hybrid Inference Logic"})]})]}),r.jsxs(rn,{className:"border-purple-200 bg-purple-50",children:[r.jsx(Dt,{className:"h-4 w-4"}),r.jsxs(sn,{children:[r.jsx("strong",{children:"AI Fallback Mode:"})," When Evidence Library matching fails (<80% confidence), this system uses GPT to generate plausible failure hypotheses and engineering assumptions. Analysis proceeds with documented limitations and confidence flags."]})]})]}),s&&r.jsx(H,{className:"mb-6",children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Running AI Fallback Analysis..."}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Extracting symptoms  Checking Evidence Library  Generating AI hypotheses  Assessing evidence  Creating analysis"})]})]})})}),n&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5 text-green-600"}),"Fallback Analysis Complete"]})}),r.jsxs(K,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((c=n.fallbackAnalysis)==null?void 0:c.confidence)||"N/A","%"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((d=n.hypotheses)==null?void 0:d.length)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Hypotheses"})]}),r.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:((f=(u=n.fallbackAnalysis)==null?void 0:u.confidenceFlags)==null?void 0:f.length)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Flags"})]})]}),((p=n.fallbackAnalysis)==null?void 0:p.primaryRootCause)&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Primary Root Cause (AI Inferred)"}),r.jsx("p",{className:"text-green-700 font-medium",children:n.fallbackAnalysis.primaryRootCause}),n.fallbackAnalysis.aiReasoning&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:n.fallbackAnalysis.aiReasoning})]}),((x=n.fallbackAnalysis)==null?void 0:x.confidenceFlags)&&n.fallbackAnalysis.confidenceFlags.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[r.jsx(pt,{className:"h-4 w-4 text-amber-600"}),"Analysis Limitations"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.fallbackAnalysis.confidenceFlags.map((h,m)=>r.jsx(ee,{variant:"outline",className:"text-amber-700 border-amber-300 bg-amber-50",children:h.replace(/_/g," ")},m))})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Xs,{to:`/incidents/${t}/evidence-collection`,children:r.jsxs(V,{variant:"outline",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),r.jsx(Xs,{to:`/incidents/${t}/analysis`,children:r.jsx(V,{children:"View Standard Analysis "})})]})]})]}):r.jsx("div",{className:"max-w-4xl mx-auto p-6",children:r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading incident..."})})})}function uCe(){var j,g,v;hi();const e=yo(),[t,n]=b.useState(null),[i,s]=b.useState(!1),[a,o]=b.useState({reviewerId:"ENG001",reviewerName:"Senior RCA Engineer",reviewDate:new Date,approved:!1,comments:"",modifications:{rootCauses:[],recommendations:[]},additionalFindings:"",followUpActions:[],signoffRequired:!0});b.useEffect(()=>{const w=new URLSearchParams(window.location.search).get("incident");w&&n(parseInt(w))},[]);const{data:l,isLoading:c}=Ce({queryKey:["/api/incidents",t],enabled:!!t}),{data:d}=Ce({queryKey:["/api/incidents",t,"analysis"],enabled:!!t}),{data:u,refetch:f}=Ce({queryKey:["/api/incidents",t,"completeness-check"],enabled:!!t}),p=Ke({mutationFn:async N=>st(`/api/incidents/${t}/engineer-review`,{method:"POST",body:JSON.stringify({...N,currentStep:8,workflowStatus:N.approved?"approved":"under_review"})}),onSuccess:N=>{a.approved&&e(`/final-rca?incident=${t}`)},onError:N=>{var w;(w=N==null?void 0:N.message)!=null&&w.includes("minimum evidence")&&console.error("Investigation completeness validation failed:",N)}}),x=Ke({mutationFn:async()=>st(`/api/incidents/${t}/generate-final-report`,{method:"POST",body:JSON.stringify({engineerReview:a})}),onSuccess:N=>{window.open(N.reportUrl,"_blank","noopener")}}),h=N=>{o(w=>({...w,approved:N}))},m=()=>{p.mutate(a)},y=()=>{x.mutate()};return c||!l?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(nd,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading engineer review..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(V,{variant:"ghost",onClick:()=>e("/admin"),children:" Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nd,{className:"h-5 w-5 text-primary"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 8: Engineer Review & Finalization"})]})]}),r.jsxs(ee,{variant:"outline",className:"text-sm",children:["Incident #",l.id]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(H,{className:"mb-8",children:r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Final RCA Review"]}),r.jsxs(ye,{children:[l.title," - ",l.equipmentGroup,"  ",l.equipmentType]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(V,{variant:"outline",onClick:()=>s(!i),className:"flex items-center gap-2",children:[r.jsx(li,{className:"h-4 w-4"}),i?"View Mode":"Edit Mode"]}),a.approved&&r.jsxs(ee,{variant:"default",className:"bg-green-600",children:[r.jsx(kt,{className:"h-3 w-3 mr-1"}),"Approved"]})]})]})})}),r.jsxs(Yn,{defaultValue:"review",className:"w-full",children:[r.jsxs(qn,{className:"grid w-full grid-cols-4",children:[r.jsx(Oe,{value:"review",children:"Review Summary"}),r.jsx(Oe,{value:"findings",children:"AI Findings"}),r.jsx(Oe,{value:"modifications",children:"Modifications"}),r.jsx(Oe,{value:"approval",children:"Final Approval"})]}),r.jsx(Ee,{value:"review",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Review Summary"}),r.jsx(ye,{children:"Engineer assessment of AI analysis and findings"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"Reviewer Name"}),r.jsx(me,{value:a.reviewerName,onChange:N=>o(w=>({...w,reviewerName:N.target.value})),disabled:!i})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Reviewer ID"}),r.jsx(me,{value:a.reviewerId,onChange:N=>o(w=>({...w,reviewerId:N.target.value})),disabled:!i})]})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Review Comments"}),r.jsx(Qe,{placeholder:"Provide detailed comments on the AI analysis, evidence quality, and findings...",value:a.comments,onChange:N=>o(w=>({...w,comments:N.target.value})),disabled:!i,rows:4})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Additional Engineering Findings"}),r.jsx(Qe,{placeholder:"Any additional findings or observations not captured by the AI analysis...",value:a.additionalFindings,onChange:N=>o(w=>({...w,additionalFindings:N.target.value})),disabled:!i,rows:3})]})]})]})}),r.jsx(Ee,{value:"findings",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"AI Analysis Review"}),r.jsx(ye,{children:"Review and validate AI-generated findings"})]}),r.jsx(K,{children:d?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Root Causes Identified"}),(j=d.rootCauses)==null?void 0:j.map((N,w)=>r.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:N.description}),r.jsxs(ee,{variant:"outline",children:[N.confidence,"% confidence"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.category})]},w))]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Recommendations Generated"}),(g=d.recommendations)==null?void 0:g.map((N,w)=>r.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:N.title}),r.jsx(ee,{variant:N.priority==="Immediate"?"destructive":"default",children:N.priority})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.description})]},w))]})]}):r.jsxs(rn,{children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsx(sn,{children:"AI analysis results are not available. Please complete the AI analysis step first."})]})})]})}),r.jsx(Ee,{value:"modifications",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Engineering Modifications"}),r.jsx(ye,{children:"Modify or add to AI findings based on engineering judgment"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs(rn,{children:[r.jsx(li,{className:"h-4 w-4"}),r.jsx(sn,{children:"Use this section to document any modifications to the AI analysis based on engineering expertise."})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Modified Root Causes"}),r.jsx(Qe,{placeholder:"Document any changes to root cause analysis...",disabled:!i,rows:3})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Modified Recommendations"}),r.jsx(Qe,{placeholder:"Document any changes to recommendations...",disabled:!i,rows:3})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Additional Preventive Measures"}),r.jsx(Qe,{placeholder:"Additional preventive measures recommended by engineering...",disabled:!i,rows:3})]})]})]})}),r.jsxs(Ee,{value:"approval",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5"}),"Investigation Completeness Assessment"]}),r.jsx(ye,{children:"Review completeness before finalizing investigation"})]}),r.jsx(K,{children:u?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${u.canBeClosed?"bg-green-500":"bg-amber-500"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:u.canBeClosed?"Ready for Closure":"Closure Available with Theoretical Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:u.closureReason})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[u.overallCompleteness,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),u.issues.length>0&&r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-amber-700 mb-2",children:"Outstanding Issues"}),r.jsx("ul",{className:"space-y-1",children:u.issues.map((N,w)=>r.jsxs("li",{className:"text-sm text-amber-600 flex items-start gap-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full mt-2 flex-shrink-0"}),N]},w))})]}),u.theoreticalAnalysisRecommended&&r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"Theoretical Analysis Available"}),u.theoreticalAnalysis&&r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Approach:"}),r.jsx("p",{className:"text-blue-700 mt-1",children:u.theoreticalAnalysis.approach})]}),((v=u.theoreticalAnalysis.theoreticalConclusions)==null?void 0:v.length)>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Engineering Conclusions:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:u.theoreticalAnalysis.theoreticalConclusions.slice(0,2).map((N,w)=>r.jsx("li",{className:"text-blue-700 pl-2",children:N},w))})]})]})]}),u.inconclusiveFindings&&u.unansweredCriticalQuestions.length>0&&r.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsx("h4",{className:"font-medium text-orange-700 mb-3",children:"Inconclusive Findings Documentation"}),r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsx("p",{className:"text-orange-700",children:u.inconclusiveFindings.summary}),u.inconclusiveFindings.confidenceImpact&&r.jsx("p",{className:"text-orange-600 font-medium",children:u.inconclusiveFindings.confidenceImpact})]})]}),u.potentialFailureModes.length>0&&r.jsxs("details",{className:"border rounded-lg p-4",children:[r.jsxs("summary",{className:"font-medium cursor-pointer text-gray-700",children:["Alternative Failure Modes Considered (",u.potentialFailureModes.length,")"]}),r.jsx("div",{className:"mt-3 space-y-2",children:u.potentialFailureModes.slice(0,3).map((N,w)=>r.jsxs("div",{className:"text-sm p-2 bg-gray-50 rounded",children:[r.jsx("div",{className:"font-medium",children:N.mode}),N.causes&&r.jsxs("div",{className:"text-gray-600 mt-1",children:["Potential causes: ",N.causes.slice(0,2).join(", ")]})]},w))})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(pt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Loading completeness assessment..."})]})})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Final Approval"}),r.jsx(ye,{children:"Complete the review and approve the RCA for publication"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:"approve",checked:a.approved,onCheckedChange:h}),r.jsx(oe,{htmlFor:"approve",className:"font-medium",children:"I approve this RCA analysis for publication"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:"signoff",checked:a.signoffRequired,onCheckedChange:N=>o(w=>({...w,signoffRequired:!!N}))}),r.jsx(oe,{htmlFor:"signoff",children:"Additional management signoff required"})]}),!a.approved&&r.jsxs(rn,{className:"border-amber-200 bg-amber-50",children:[r.jsx(pt,{className:"h-4 w-4"}),r.jsx(sn,{children:"Please review all findings and provide approval to proceed with RCA publication."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(V,{onClick:m,disabled:p.isPending,className:"flex items-center gap-2",children:[r.jsx(rl,{className:"h-4 w-4"}),p.isPending?"Saving...":"Submit Review"]}),a.approved&&r.jsxs(V,{onClick:y,disabled:x.isPending,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(sr,{className:"h-4 w-4"}),x.isPending?"Generating...":"Generate Final Report"]})]})]})]})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(V,{variant:"outline",onClick:()=>e(`/ai-analysis?incident=${t}`),children:" Back to AI Analysis"}),a.approved&&r.jsxs(V,{onClick:()=>e("/"),className:"flex items-center gap-2",children:["Complete Investigation",r.jsx(kt,{className:"h-4 w-4"})]})]})]})]})}function fCe(){const[e,t]=b.useState({equipmentType:"",failureMode:"",existingEvidence:[]}),{data:n,isLoading:i}=Ce({queryKey:["/api/nlp/analyze-questions"]}),{data:s,isLoading:a}=Ce({queryKey:["/api/nlp/analyze-root-cause-logic"]}),o=async()=>{if(!(!e.equipmentType||!e.failureMode))try{const{apiPost:l}=await Ye(async()=>{const{apiPost:d}=await Promise.resolve().then(()=>ot);return{apiPost:d}},void 0),c=await l("/nlp/generate-questions",e);if(c.ok){const d=await c.json();console.log("Generated suggestions:",d)}}catch(l){console.error("Error generating questions:",l)}};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(ir,{to:"/admin",children:r.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(Vi,{className:"h-4 w-4"}),"Back to Home"]})}),r.jsx(ir,{to:"/admin",children:r.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[r.jsx(qp,{className:"h-4 w-4"}),"Home"]})})]}),r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[r.jsx(Dt,{className:"h-8 w-8 text-blue-600"}),"NLP Analysis Dashboard"]}),r.jsx("p",{className:"text-gray-600",children:"Natural Language Processing analysis of Evidence Library patterns for intelligent question generation"})]}),r.jsxs(Yn,{defaultValue:"question-patterns",className:"space-y-6",children:[r.jsxs(qn,{className:"grid w-full grid-cols-3",children:[r.jsx(Oe,{value:"question-patterns",children:"Question Patterns"}),r.jsx(Oe,{value:"logic-analysis",children:"Root Cause Logic"}),r.jsx(Oe,{value:"question-generator",children:"Question Generator"})]}),r.jsxs(Ee,{value:"question-patterns",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(iM,{className:"h-5 w-5"}),"Question Type Classification"]})}),r.jsx(K,{children:i?r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}):n!=null&&n.questionTypes?r.jsx("div",{className:"space-y-4",children:n.questionTypes.slice(0,8).map((l,c)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold capitalize",children:l.type.replace("-"," ")}),r.jsxs(ee,{variant:"secondary",children:[l.frequency," questions"]})]}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:l.examples.slice(0,3).map((d,u)=>r.jsxs("div",{className:"bg-gray-50 p-2 rounded italic",children:['"',d,'"']},u))})]},c))}):r.jsx(rn,{children:r.jsx(sn,{children:"No question patterns found. Make sure Evidence Library has AI/Investigator Questions data."})})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx($i,{className:"h-5 w-5"}),"Technical Terms Frequency"]})}),r.jsx(K,{children:n!=null&&n.keyTerms?r.jsx("div",{className:"flex flex-wrap gap-2",children:n.keyTerms.slice(0,20).map((l,c)=>r.jsxs(ee,{variant:"outline",className:"text-xs",children:[l.term," (",l.frequency,")"]},c))}):r.jsx("p",{className:"text-gray-500",children:"No technical terms identified"})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Equipment-Specific Question Patterns"})}),r.jsx(K,{children:n!=null&&n.equipmentSpecificPatterns?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.equipmentSpecificPatterns.slice(0,6).map((l,c)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:l.equipment}),r.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:l.commonQuestions.slice(0,3).map((d,u)=>r.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[" ",d]},u))})]},c))}):r.jsx("p",{className:"text-gray-500",children:"No equipment-specific patterns identified"})})]})]}),r.jsxs(Ee,{value:"logic-analysis",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"h-5 w-5"}),"Logic Structure Patterns"]})}),r.jsx(K,{children:a?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):s!=null&&s.logicStructures?r.jsx("div",{className:"space-y-4",children:s.logicStructures.map((l,c)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold capitalize",children:l.structure.replace("-"," ")}),r.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),r.jsxs(ee,{className:"bg-green-100 text-green-800",children:[l.frequency," cases"]})]},c))}):r.jsx(rn,{children:r.jsx(sn,{children:"No logic structure patterns found. Check Root Cause Logic data in Evidence Library."})})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Common Reasoning Patterns"})}),r.jsx(K,{children:s!=null&&s.commonPatterns?r.jsx("div",{className:"space-y-3",children:s.commonPatterns.slice(0,6).map((l,c)=>r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("p",{className:"font-medium",children:l.pattern}),r.jsxs(ee,{variant:"secondary",children:[l.frequency,"x"]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:l.examples.slice(0,2).map((d,u)=>r.jsxs("div",{className:"mt-1 italic",children:['"',d,'"']},u))})]},c))}):r.jsx("p",{className:"text-gray-500",children:"No common patterns identified"})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Causal Language Analysis"})}),r.jsx(K,{children:s!=null&&s.causalWords?r.jsx("div",{className:"flex flex-wrap gap-2",children:s.causalWords.map((l,c)=>r.jsxs(ee,{variant:"outline",className:"bg-orange-50",children:[l.word," (",l.frequency,")"]},c))}):r.jsx("p",{className:"text-gray-500",children:"No causal words identified"})})]})]}),r.jsx(Ee,{value:"question-generator",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(nM,{className:"h-5 w-5"}),"Intelligent Question Generator"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"equipment-type",children:"Equipment Type"}),r.jsx(me,{id:"equipment-type",placeholder:"e.g., equipment type from database",value:e.equipmentType,onChange:l=>t(c=>({...c,equipmentType:l.target.value}))})]}),r.jsxs("div",{children:[r.jsx(oe,{htmlFor:"failure-mode",children:"Failure Mode"}),r.jsx(me,{id:"failure-mode",placeholder:"e.g., Seal Leak, Bearing Failure",value:e.failureMode,onChange:l=>t(c=>({...c,failureMode:l.target.value}))})]})]}),r.jsx(V,{onClick:o,disabled:!e.equipmentType||!e.failureMode,className:"w-full",children:"Generate Contextual Questions"}),r.jsx(rn,{children:r.jsx(sn,{children:"Enter equipment type and failure mode to generate contextual follow-up questions based on Evidence Library patterns. The NLP engine will analyze similar cases and suggest relevant questions to gather missing evidence."})})]})]})})]})]})}function pCe(){const{incidentId:e}=qS(),{data:t,isLoading:n}=Ce({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Generating comprehensive summary report..."})]})})});if(!(t!=null&&t.report))return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(H,{className:"border-red-200",children:r.jsx(K,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[r.jsx(pt,{className:"h-5 w-5"}),r.jsx("span",{children:"Failed to generate summary report. Please try again."})]})})})});const i=t.report;return r.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Incident Summary Report"}),r.jsxs("p",{className:"text-gray-600",children:["Investigation ID: ",i.metadata.investigationId]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",asChild:!0,children:r.jsx(Xs,{to:"/",children:" Back to Home"})}),r.jsxs(V,{className:"flex items-center gap-2",children:[r.jsx(sr,{className:"h-4 w-4"}),"Export PDF"]})]})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"1"}),"Incident Overview"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Incident Title"}),r.jsx("p",{className:"text-gray-900",children:i.incidentOverview.incidentTitle})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Date of Incident"}),r.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[r.jsx(YR,{className:"h-4 w-4"}),i.incidentOverview.dateOfIncident]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Reported By"}),r.jsx("p",{className:"text-gray-900",children:i.incidentOverview.reportedBy})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Equipment Tag"}),r.jsx("p",{className:"text-gray-900 font-mono",children:i.incidentOverview.equipmentTag})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Location"}),r.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[r.jsx(rM,{className:"h-4 w-4"}),i.incidentOverview.location]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"System/Process"}),r.jsx(ee,{variant:"outline",className:"text-sm",children:i.incidentOverview.systemProcess})]})]})]})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"2"}),"Incident Description"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"What Failed?"}),r.jsx("p",{className:"text-gray-900 mb-3",children:i.incidentDescription.whatFailed}),r.jsx("label",{className:"font-semibold text-gray-700",children:"When did it happen?"}),r.jsx("p",{className:"text-gray-900",children:i.incidentDescription.whenHappened})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"How was it discovered?"}),r.jsx("p",{className:"text-gray-900 mb-3",children:i.incidentDescription.howDiscovered}),r.jsx("label",{className:"font-semibold text-gray-700",children:"Initial Consequence"}),r.jsx("p",{className:"text-gray-900",children:i.incidentDescription.initialConsequence})]})]})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm font-medium",children:"3"}),"Impact Summary"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Safety"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.safety})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Environment"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.environment})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Production"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.production})]}),r.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2 lg:col-span-1",children:[r.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Cost Estimate"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.costEstimate})]}),r.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2",children:[r.jsx("h4",{className:"font-semibold text-orange-600 mb-2",children:"Regulatory/Compliance"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.regulatory})]})]})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm font-medium",children:"4"}),"Timeline of Events"]})}),r.jsx(K,{children:r.jsx("div",{className:"space-y-3",children:i.timeline.map((s,a)=>r.jsxs("div",{className:"flex gap-4 p-3 border-l-4 border-blue-200 bg-gray-50 rounded-r-lg",children:[r.jsx("div",{className:"font-mono text-sm font-semibold text-blue-600 min-w-[60px]",children:s.time}),r.jsx("div",{className:"text-gray-900",children:s.event})]},a))})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm font-medium",children:"5"}),"Evidence Collected"]})}),r.jsx(K,{children:i.evidenceCollected.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Source / File"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Observations"})]})}),r.jsx("tbody",{children:i.evidenceCollected.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(ee,{variant:"outline",className:"text-xs",children:s.type})}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 font-mono text-sm",children:s.source}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.observations})]},a))})]})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ut,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No evidence files collected yet"})]})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-medium",children:"6"}),"Root Cause Summary"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Primary Root Cause"}),r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-900",children:i.rootCauseSummary.primaryRootCause})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Contributing Factors"}),r.jsx("div",{className:"space-y-2",children:i.rootCauseSummary.contributingFactors.length>0?i.rootCauseSummary.contributingFactors.map((s,a)=>r.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded text-sm",children:r.jsx("p",{className:"text-orange-900",children:s})},a)):r.jsx("p",{className:"text-gray-500 text-sm",children:"No contributing factors identified"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Latent/Systemic Cause"}),r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-yellow-900",children:i.rootCauseSummary.latentCause})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Detection Gaps"}),r.jsx("div",{className:"space-y-2",children:i.rootCauseSummary.detectionGaps.length>0?i.rootCauseSummary.detectionGaps.map((s,a)=>r.jsx("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:r.jsx("p",{className:"text-blue-900",children:s})},a)):r.jsx("p",{className:"text-gray-500 text-sm",children:"No detection gaps identified"})})]})]})]})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded text-sm font-medium",children:"7"}),"Root Cause Analysis Methodology"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Method Used"}),r.jsx(ee,{className:"mb-3",children:i.rcaMethodology.method}),r.jsx("p",{className:"text-sm text-gray-600",children:i.rcaMethodology.description})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Confidence Level"}),r.jsxs(ee,{variant:i.rcaMethodology.confidenceLevel>80?"default":"secondary",children:[i.rcaMethodology.confidenceLevel,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Evidence Library Used"}),r.jsx(kt,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold block mb-1",children:"ISO Compliance"}),r.jsx("span",{className:"text-xs text-gray-600",children:i.rcaMethodology.isoCompliance})]})]})]})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-sm font-medium",children:"8"}),"Corrective and Preventive Actions (CAPA)"]})}),r.jsx(K,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Action"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Owner"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Due Date"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Status"})]})}),r.jsx("tbody",{children:i.correctiveActions.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.action}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(ee,{variant:s.type==="Corrective"?"destructive":"default",className:"text-xs",children:s.type})}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.owner}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm font-mono",children:s.dueDate}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(ee,{variant:"outline",className:"text-xs",children:s.status})})]},a))})]})})})]}),r.jsxs(H,{className:"mb-6",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-teal-100 text-teal-800 px-2 py-1 rounded text-sm font-medium",children:"9"}),"Lessons Learned"]})}),r.jsx(K,{children:r.jsx("ul",{className:"space-y-3",children:i.lessonsLearned.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-3 p-3 border-l-4 border-teal-200 bg-teal-50 rounded-r-lg",children:[r.jsx(kt,{className:"h-5 w-5 text-teal-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-900",children:s})]},a))})})]}),r.jsx(H,{className:"border-gray-200",children:r.jsx(K,{className:"pt-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Report Generated: ",new Date(i.metadata.reportGeneratedDate).toLocaleString()]}),r.jsx(Zs,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Generated by: ",i.metadata.reportGeneratedBy]}),r.jsx(Zs,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Evidence Files: ",i.metadata.totalEvidenceFiles]}),r.jsx(Zs,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Overall Confidence: ",i.metadata.overallConfidence,"%"]})]})})})]})}function mCe(){var u;const{incidentId:e}=qS(),{data:t,isLoading:n}=Ce({queryKey:[`/api/incidents/${e}`],enabled:!!e}),{data:i,isLoading:s}=Ce({queryKey:[`/api/incidents/${e}/analysis`],enabled:!!e}),{data:a,isLoading:o}=Ce({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n||s)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading analysis details..."})]})})});if(!t||!i)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(H,{className:"border-yellow-200",children:r.jsx(K,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[r.jsx(pt,{className:"h-5 w-5"}),r.jsx("span",{children:"Incident or analysis not found."})]})})})});if(!i||Object.keys(i).length===0)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(H,{className:"border-yellow-200",children:r.jsx(K,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[r.jsx(pt,{className:"h-5 w-5"}),r.jsx("span",{children:"Analysis data not available. Please complete the analysis first."})]})})})});const l=((i==null?void 0:i.overallConfidence)||0)>=80?"text-green-600":((i==null?void 0:i.overallConfidence)||0)>=60?"text-yellow-600":"text-red-600",c=f=>new Date(f).toLocaleString(),d=f=>{switch(f){case"finalized":case"completed":return r.jsx(ee,{className:"bg-green-100 text-green-800",children:"Completed"});case"analysis_complete":return r.jsx(ee,{className:"bg-blue-100 text-blue-800",children:"Analysis Complete"});case"under_review":return r.jsx(ee,{className:"bg-yellow-100 text-yellow-800",children:"Under Review"});default:return r.jsx(ee,{className:"bg-gray-100 text-gray-800",children:"In Progress"})}};return r.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"sm",asChild:!0,children:r.jsxs(Xs,{to:"/",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analysis Details"}),r.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.equipmentId)||"N/A","  ",(t==null?void 0:t.equipmentGroup)||"N/A","  ",(t==null?void 0:t.equipmentType)||"N/A",t!=null&&t.equipmentSubtype?`  ${t.equipmentSubtype}`:""]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right mr-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),r.jsxs("span",{className:`text-2xl font-bold ${l}`,children:[(i==null?void 0:i.overallConfidence)||0,"%"]})]}),d((t==null?void 0:t.workflowStatus)||"in_progress")]}),r.jsxs(V,{className:"flex items-center gap-2",children:[r.jsx(sr,{className:"h-4 w-4"}),"Export"]})]})]}),r.jsxs(Yn,{defaultValue:"overview",className:"w-full",children:[r.jsxs(qn,{className:"grid w-full grid-cols-8",children:[r.jsx(Oe,{value:"overview",children:"Overview"}),r.jsx(Oe,{value:"diagrams",children:"Diagrams"}),r.jsx(Oe,{value:"rca-tree",children:"RCA Tree"}),r.jsx(Oe,{value:"evidence",children:"Evidence"}),r.jsx(Oe,{value:"reasoning",children:"AI Reasoning"}),r.jsx(Oe,{value:"engineer-review",children:"Engineer Review"}),r.jsx(Oe,{value:"export",children:"Export"}),r.jsx(Oe,{value:"history",children:"History"})]}),r.jsxs(Ee,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Issue Description"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.title)||"No title"}),r.jsx("p",{className:"text-gray-600 mt-2",children:(t==null?void 0:t.description)||"No description"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Reported:"}),r.jsx("p",{className:"font-medium",children:t!=null&&t.incidentDateTime?c(t.incidentDateTime):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Priority:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.priority)||"Medium"})]})]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5"}),"Equipment Details"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsxs("p",{className:"font-medium",children:[t.equipmentGroup,"  ",t.equipmentType,t.equipmentSubtype?`  ${t.equipmentSubtype}`:""]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"ID:"}),r.jsx("p",{className:"font-medium",children:t.equipmentId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Manufacturer:"}),r.jsx("p",{className:"font-medium",children:t.manufacturerSnapshot||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Model:"}),r.jsx("p",{className:"font-medium",children:t.modelSnapshot||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Location:"}),r.jsx("p",{className:"font-medium",children:t.location})]})]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"h-5 w-5"}),"Root Cause Analysis"]})}),r.jsx(K,{children:i.rootCauses&&i.rootCauses.length>0?r.jsx("div",{className:"space-y-4",children:i.rootCauses.map((f,p)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:f.description}),r.jsxs(ee,{variant:"outline",className:"ml-2",children:[f.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",f.category," ",r.jsx("span",{className:"font-medium ml-2",children:"Impact:"})," ",f.impact," ",r.jsx("span",{className:"font-medium ml-2",children:"Likelihood:"})," ",f.likelihood]}),f.evidence&&f.evidence.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Evidence:"}),r.jsx("ul",{className:"text-sm text-gray-600 ml-4 mt-1",children:f.evidence.map((x,h)=>r.jsx("li",{className:"list-disc",children:x},h))})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No root causes identified yet."})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(zp,{className:"h-5 w-5"}),"Recommendations"]})}),r.jsx(K,{children:i.recommendations&&i.recommendations.length>0?r.jsx("div",{className:"space-y-4",children:i.recommendations.map((f,p)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),r.jsx(ee,{variant:f.priority==="Immediate"?"destructive":f.priority==="Short-term"?"default":"secondary",children:f.priority})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:f.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Cost:"}),r.jsx("p",{className:"font-medium",children:f.estimatedCost})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Timeframe:"}),r.jsx("p",{className:"font-medium",children:f.timeframe})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Responsible:"}),r.jsx("p",{className:"font-medium",children:f.responsible})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Prevention:"}),r.jsxs("p",{className:"font-medium",children:[f.preventsProbability,"%"]})]})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No recommendations available."})})]})]}),r.jsx(Ee,{value:"evidence",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Evidence Collection Summary"})}),r.jsx(K,{children:t.evidenceChecklist&&t.evidenceChecklist.length>0?r.jsx("div",{className:"space-y-4",children:t.evidenceChecklist.map((f,p)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[r.jsx("div",{className:"mt-0.5",children:f.completed?r.jsx(kt,{className:"h-5 w-5 text-green-600"}):r.jsx(pt,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:f.title}),r.jsx("p",{className:"text-sm text-gray-600",children:f.description}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs(ee,{variant:"outline",className:"text-xs",children:[f.priority," Priority"]}),r.jsx(ee,{variant:"outline",className:"text-xs",children:f.category})]}),f.files&&f.files.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Files: "}),r.jsxs("span",{className:"text-xs",children:[f.files.length," uploaded"]})]})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No evidence checklist available."})})]})}),r.jsxs(Ee,{value:"reasoning",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Sc,{className:"h-5 w-5"}),"Analysis Metrics"]})}),r.jsx(K,{children:i.crossMatchResults&&r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.crossMatchResults.libraryMatches||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Library Matches"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[i.crossMatchResults.patternSimilarity||0,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pattern Similarity"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[i.overallConfidence,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Overall Confidence"})]})]})})]}),i.evidenceGaps&&i.evidenceGaps.length>0&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5 text-yellow-500"}),"Evidence Gaps"]})}),r.jsx(K,{children:r.jsx("ul",{className:"space-y-2",children:i.evidenceGaps.map((f,p)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),r.jsx("span",{className:"text-gray-700",children:f})]},p))})})]}),((u=i.crossMatchResults)==null?void 0:u.historicalData)&&i.crossMatchResults.historicalData.length>0&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Gs,{className:"h-5 w-5"}),"Historical References"]})}),r.jsx(K,{children:r.jsx("ul",{className:"space-y-2",children:i.crossMatchResults.historicalData.map((f,p)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-gray-700",children:f})]},p))})})]})]}),r.jsx(Ee,{value:"rca-tree",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(td,{className:"h-5 w-5"}),"RCA Tree Visualization"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Interactive root cause analysis tree with cause-and-effect relationships"})]}),r.jsx(K,{children:i?r.jsx(s3,{analysis:i,incident:t}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(td,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No analysis data available for RCA Tree visualization"})]})})]})}),r.jsx(Ee,{value:"diagrams",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Sc,{className:"h-5 w-5"}),"Interactive RCA Diagrams"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Multiple diagram views: Fault Tree, Fishbone, Timeline, and Bowtie analysis"})]}),r.jsx(K,{children:i?r.jsx(A3,{analysisData:i,investigationType:"equipment_failure",onNodeUpdate:(f,p)=>console.log("Node updated:",f,p),onNodeAdd:(f,p)=>console.log("Node added:",f,p),onNodeDelete:f=>console.log("Node deleted:",f)}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No analysis data available for diagram visualization"})]})})]})}),r.jsx(Ee,{value:"engineer-review",className:"space-y-6",children:r.jsx(hCe,{incident:t,analysis:i})}),r.jsx(Ee,{value:"export",className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Export Options"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports in various formats"})]}),r.jsx(K,{children:!o&&a?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(V,{className:"h-12 flex items-center gap-3",variant:"outline",children:[r.jsx(Ut,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Summary Report"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive 9-section report"})]})]}),r.jsxs(V,{className:"h-12 flex items-center gap-3",variant:"outline",children:[r.jsx(sr,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Export PDF"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Professional format"})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Preparing export options..."})]})})]})}),r.jsx(Ee,{value:"history",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Gs,{className:"h-5 w-5"}),"Investigation Timeline"]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(kt,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Analysis Completed"}),r.jsx("div",{className:"text-sm text-gray-600",children:c(i.analysisDate)})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(kt,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Investigation Started"}),r.jsx("div",{className:"text-sm text-gray-600",children:c(t.createdAt)})]})]})]})})]})})]})]})}function hCe({incident:e,analysis:t}){var d,u,f,p,x,h,m;const{toast:n}=Mt(),[i,s]=b.useState(!1),[a,o]=b.useState({reviewerId:"",reviewerName:"",reviewDate:new Date().toISOString(),approved:!1,comments:"",additionalFindings:"",signoffRequired:!1}),l=Ke({mutationFn:async y=>st(`/api/incidents/${e.id}/engineer-review`,{method:"POST",body:JSON.stringify({...y,workflowStatus:y.approved?"finalized":"under_review"})}),onSuccess:()=>{n({title:"Review Submitted",description:a.approved?"Investigation approved and finalized.":"Review comments saved."}),s(!1)},onError:y=>{n({title:"Error",description:"Failed to submit review: "+y.message,variant:"destructive"})}}),c=()=>{if(!a.reviewerName||!a.reviewerId){n({title:"Required Fields",description:"Please provide reviewer name and ID.",variant:"destructive"});return}l.mutate(a)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(H,{children:r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-5 w-5"}),"Engineer Review & Approval"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Investigation Status: ",(e==null?void 0:e.workflowStatus)==="finalized"?"Approved":"Pending Review"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ee,{variant:(e==null?void 0:e.workflowStatus)==="finalized"?"default":"secondary",children:(e==null?void 0:e.workflowStatus)==="finalized"?"Finalized":"Needs Review"}),r.jsxs(V,{variant:"outline",onClick:()=>s(!i),className:"flex items-center gap-2",children:[r.jsx(li,{className:"h-4 w-4"}),i?"View Mode":"Review Mode"]})]})]})})}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Investigation Review"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide professional engineering review and approval for this RCA investigation"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"Reviewer Name"}),r.jsx(me,{value:a.reviewerName,onChange:y=>o(j=>({...j,reviewerName:y.target.value})),disabled:!i,placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Reviewer ID / License"}),r.jsx(me,{value:a.reviewerId,onChange:y=>o(j=>({...j,reviewerId:y.target.value})),disabled:!i,placeholder:"Engineer ID or License #"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-3",children:"AI Analysis Summary"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Confidence:"}),r.jsxs("p",{className:"font-medium",children:[(t==null?void 0:t.overallConfidence)||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Failure Mode:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.failureMode)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Severity:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.severity)||"N/A"})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-gray-600",children:"Root Causes:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:((d=t==null?void 0:t.rootCauses)==null?void 0:d.slice(0,3).map((y,j)=>r.jsxs("li",{className:"text-sm",children:[(y==null?void 0:y.description)||"N/A"," (",(y==null?void 0:y.confidence)||0,"%)"]},j)))||r.jsx("li",{className:"text-sm",children:"No root causes available"})})]})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Review Comments & Professional Assessment"}),r.jsx(Qe,{placeholder:"Provide detailed engineering review of the AI analysis, evidence quality, methodology, and conclusions...",value:a.comments,onChange:y=>o(j=>({...j,comments:y.target.value})),disabled:!i,rows:4,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(oe,{children:"Additional Engineering Findings"}),r.jsx(Qe,{placeholder:"Any additional findings, observations, or recommendations not captured by the AI analysis...",value:a.additionalFindings,onChange:y=>o(j=>({...j,additionalFindings:y.target.value})),disabled:!i,rows:3,className:"mt-2"})]}),i&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Final Approval"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:"approved",checked:a.approved,onCheckedChange:y=>o(j=>({...j,approved:!!y}))}),r.jsx(oe,{htmlFor:"approved",className:"font-medium",children:"I approve this RCA investigation and findings"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{id:"signoff",checked:a.signoffRequired,onCheckedChange:y=>o(j=>({...j,signoffRequired:!!y}))}),r.jsx(oe,{htmlFor:"signoff",children:"Additional management signoff required"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(V,{onClick:c,disabled:l.isPending,className:"flex items-center gap-2",children:[r.jsx(rl,{className:"h-4 w-4"}),l.isPending?"Submitting...":"Submit Review"]}),r.jsx(V,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]}),(e==null?void 0:e.engineerReview)&&!i&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Current Review Status"}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(nd,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium",children:["Reviewed by: ",((u=e==null?void 0:e.engineerReview)==null?void 0:u.reviewerName)||"N/A"]})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:((f=e==null?void 0:e.engineerReview)==null?void 0:f.comments)||"No comments"}),((p=e==null?void 0:e.engineerReview)==null?void 0:p.additionalFindings)&&r.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("strong",{children:"Additional findings:"})," ",e.engineerReview.additionalFindings]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsx(ee,{variant:(x=e==null?void 0:e.engineerReview)!=null&&x.approved?"default":"secondary",children:(h=e==null?void 0:e.engineerReview)!=null&&h.approved?"Approved":"Under Review"}),r.jsxs("span",{className:"text-gray-600",children:["Reviewed: ",(m=e==null?void 0:e.engineerReview)!=null&&m.reviewDate?new Date(e.engineerReview.reviewDate).toLocaleString():"N/A"]})]})]})]})]})]})]})}function xCe(){return r.jsx("div",{className:"min-h-screen p-6",children:r.jsxs(H,{className:"max-w-4xl mx-auto",children:[r.jsx(Q,{children:r.jsx(X,{children:"Debug Routes Page"})}),r.jsxs(K,{children:[r.jsx("p",{children:"This page loads to test if routing is working."}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(ir,{to:"/",className:"block text-blue-600 hover:underline",children:"Go to Home"}),r.jsx(ir,{to:"/incident-reporting",className:"block text-blue-600 hover:underline",rel:"noopener noreferrer",children:"Go to Incident Reporting"}),r.jsx(ir,{to:"/equipment-selection",className:"block text-blue-600 hover:underline",children:"Go to Equipment Selection"})]})]})]})})}function vCe(){const[e,t]=b.useState(""),[n,i]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(!1),[u,f]=b.useState(null),{toast:p}=Mt(),x=wr(),{data:h=[],isLoading:m}=Ce({queryKey:["/api/admin/fault-reference-library"],retry:!1}),{data:y=[]}=Ce({queryKey:["/api/admin/fault-reference-library/search",{q:e,evidenceType:n}],enabled:e.length>0||n.length>0,retry:!1}),j=e||n?y:h,g=Ke({mutationFn:async k=>await st("/api/admin/fault-reference-library","POST"),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),a(!1),p({title:"Success",description:"Fault reference entry created successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to create entry",variant:"destructive"})}}),v=Ke({mutationFn:async({id:k,data:R})=>await st(`/api/admin/fault-reference-library/${k}`,"PUT"),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),l(null),p({title:"Success",description:"Fault reference entry updated successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to update entry",variant:"destructive"})}}),N=Ke({mutationFn:async k=>await st(`/api/admin/fault-reference-library/${k}`,"DELETE"),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),p({title:"Success",description:"Fault reference entry deleted successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to delete entry",variant:"destructive"})}}),w=Ke({mutationFn:async k=>{const R=new FormData;R.append("file",k);const{api:P}=await Ye(async()=>{const{api:_}=await Promise.resolve().then(()=>ot);return{api:_}},void 0),A=await P("/admin/fault-reference-library/import",{method:"POST",body:R});if(!A.ok){const _=await A.json();throw new Error(_.message||"Import failed")}return A.json()},onSuccess:k=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),d(!1),f(null),p({title:"Import Complete",description:`Successfully imported ${k.imported} entries. ${k.errors>0?`${k.errors} errors encountered.`:""}`})},onError:k=>{p({title:"Import Failed",description:k.message||"Failed to import entries",variant:"destructive"})}}),S=async k=>{try{const{api:R}=await Ye(async()=>{const{api:D}=await Promise.resolve().then(()=>ot);return{api:D}},void 0),P=await R(`/admin/fault-reference-library/export/${k}`);if(!P.ok)throw new Error("Export failed");const A=await P.blob(),_=window.URL.createObjectURL(A),O=document.createElement("a");O.style.display="none",O.href=_,O.download=`fault-reference-library.${k==="csv"?"csv":"xlsx"}`,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(_),p({title:"Success",description:`Library exported as ${k.toUpperCase()}`})}catch{p({title:"Export Failed",description:"Failed to export library",variant:"destructive"})}},E=()=>{u&&w.mutate(u)},C=({entry:k,onSubmit:R,onCancel:P})=>{const[A,_]=b.useState({evidenceType:(k==null?void 0:k.evidenceType)||"",pattern:(k==null?void 0:k.pattern)||"",matchingCriteria:(k==null?void 0:k.matchingCriteria)||"",probableFault:(k==null?void 0:k.probableFault)||"",confidence:(k==null?void 0:k.confidence)||0,recommendations:(k==null?void 0:k.recommendations)||"",referenceStandard:(k==null?void 0:k.referenceStandard)||"",notes:(k==null?void 0:k.notes)||""}),O=D=>{D.preventDefault(),R(A)};return r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"evidenceType",children:"Evidence Type *"}),r.jsxs($e,{value:A.evidenceType,onValueChange:D=>_({...A,evidenceType:D}),children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select evidence type"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"vibration",children:"Vibration"}),r.jsx(te,{value:"temperature",children:"Temperature"}),r.jsx(te,{value:"pressure",children:"Pressure"}),r.jsx(te,{value:"acoustic",children:"Acoustic"}),r.jsx(te,{value:"visual",children:"Visual"}),r.jsx(te,{value:"electrical",children:"Database-Driven"}),r.jsx(te,{value:"chemical",children:"Chemical"}),r.jsx(te,{value:"process",children:"Process"}),r.jsx(te,{value:"operational",children:"Operational"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"confidence",children:"Confidence (%) *"}),r.jsx(me,{type:"number",min:"0",max:"100",value:A.confidence,onChange:D=>_({...A,confidence:parseInt(D.target.value)||0}),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"pattern",children:"Pattern *"}),r.jsx(me,{value:A.pattern,onChange:D=>_({...A,pattern:D.target.value}),placeholder:"e.g., High frequency vibration at 2x RPM",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"probableFault",children:"Probable Fault *"}),r.jsx(me,{value:A.probableFault,onChange:D=>_({...A,probableFault:D.target.value}),placeholder:"e.g., Bearing misalignment",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"matchingCriteria",children:"Matching Criteria *"}),r.jsx(Qe,{value:A.matchingCriteria,onChange:D=>_({...A,matchingCriteria:D.target.value}),placeholder:"Describe the conditions that must be met for this pattern to match...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"recommendations",children:"Recommendations"}),r.jsx(Qe,{value:A.recommendations,onChange:D=>_({...A,recommendations:D.target.value}),placeholder:"Recommended actions and next steps..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"referenceStandard",children:"Reference Standard"}),r.jsx(me,{value:A.referenceStandard,onChange:D=>_({...A,referenceStandard:D.target.value}),placeholder:"e.g., ISO 14224, API 610"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"notes",children:"Notes"}),r.jsx(me,{value:A.notes,onChange:D=>_({...A,notes:D.target.value}),placeholder:"Additional notes..."})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),r.jsxs(V,{type:"submit",disabled:g.isPending||v.isPending,children:[k?"Update":"Create"," Entry"]})]})]})};return r.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(bs,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Fault Reference Library"}),r.jsx("p",{className:"text-muted-foreground",children:"Admin-only Feature-to-Fault mapping knowledge base"})]})]}),r.jsxs(ee,{variant:"secondary",className:"flex items-center space-x-1",children:[r.jsx(rr,{className:"h-4 w-4"}),r.jsxs("span",{children:[h.length," entries"]})]})]}),r.jsx(H,{children:r.jsx(K,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 flex gap-3",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(me,{placeholder:"Search patterns, faults, criteria...",value:e,onChange:k=>t(k.target.value),className:"pl-10"})]}),r.jsxs($e,{value:n,onValueChange:i,children:[r.jsx(Me,{className:"w-40",children:r.jsx(De,{placeholder:"Evidence Type"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"ALL_EVIDENCE_TYPES",children:"All Types"}),r.jsx(te,{value:"vibration",children:"Vibration"}),r.jsx(te,{value:"temperature",children:"Temperature"}),r.jsx(te,{value:"pressure",children:"Pressure"}),r.jsx(te,{value:"acoustic",children:"Acoustic"}),r.jsx(te,{value:"visual",children:"Visual"}),r.jsx(te,{value:"electrical",children:"Database-Driven"}),r.jsx(te,{value:"chemical",children:"Chemical"}),r.jsx(te,{value:"process",children:"Process"}),r.jsx(te,{value:"operational",children:"Operational"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Oc,{open:s,onOpenChange:a,children:[r.jsx(Bw,{asChild:!0,children:r.jsxs(V,{className:"flex items-center space-x-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),r.jsx("span",{children:"Add Entry"})]})}),r.jsxs(ol,{className:"max-w-2xl",children:[r.jsx(ll,{children:r.jsx(cl,{children:"Create New Fault Reference Entry"})}),r.jsx(C,{onSubmit:k=>g.mutate(k),onCancel:()=>a(!1)})]})]}),r.jsxs(Oc,{open:c,onOpenChange:d,children:[r.jsx(Bw,{asChild:!0,children:r.jsxs(V,{variant:"outline",className:"flex items-center space-x-2",children:[r.jsx(ao,{className:"h-4 w-4"}),r.jsx("span",{children:"Import"})]})}),r.jsxs(ol,{children:[r.jsx(ll,{children:r.jsx(cl,{children:"Import Fault Reference Library"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:k=>{var R;return f(((R=k.target.files)==null?void 0:R[0])||null)},className:"hidden",id:"import-file"}),r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(ao,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload CSV or Excel file"})]}),u&&r.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",u.name]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{d(!1),f(null)},children:"Cancel"}),r.jsx(V,{onClick:E,disabled:!u||w.isPending,children:"Import"})]})]})]})]}),r.jsxs(V,{variant:"outline",onClick:()=>S("csv"),className:"flex items-center space-x-2",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx("span",{children:"CSV"})]}),r.jsxs(V,{variant:"outline",onClick:()=>S("excel"),className:"flex items-center space-x-2",children:[r.jsx(JR,{className:"h-4 w-4"}),r.jsx("span",{children:"Excel"})]})]})]})})}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Knowledge Base Entries"}),r.jsx(ye,{children:"Dynamic fault pattern mapping for evidence analysis"})]}),r.jsx(K,{children:m?r.jsx("div",{className:"text-center py-8",children:"Loading fault reference library..."}):j.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e||n?"No entries match your search criteria":"No fault reference entries found. Create your first entry to get started."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Pi,{children:[r.jsx(Ti,{children:r.jsxs(en,{children:[r.jsx(tt,{children:"Evidence Type"}),r.jsx(tt,{children:"Pattern"}),r.jsx(tt,{children:"Probable Fault"}),r.jsx(tt,{children:"Confidence"}),r.jsx(tt,{children:"Reference"}),r.jsx(tt,{children:"Actions"})]})}),r.jsx(Oi,{children:j.map(k=>r.jsxs(en,{children:[r.jsx(Ze,{children:r.jsx(ee,{variant:"outline",children:k.evidenceType})}),r.jsx(Ze,{className:"max-w-xs truncate",title:k.pattern,children:k.pattern}),r.jsx(Ze,{className:"max-w-xs truncate",title:k.probableFault,children:k.probableFault}),r.jsx(Ze,{children:r.jsxs(ee,{variant:k.confidence>=80?"default":k.confidence>=60?"secondary":"outline",children:[k.confidence,"%"]})}),r.jsx(Ze,{children:k.referenceStandard||"N/A"}),r.jsx(Ze,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>l(k),children:r.jsx(zv,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this entry?")&&N.mutate(k.id)},children:r.jsx(il,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),o&&r.jsx(Oc,{open:!!o,onOpenChange:()=>l(null),children:r.jsxs(ol,{className:"max-w-2xl",children:[r.jsx(ll,{children:r.jsx(cl,{children:"Edit Fault Reference Entry"})}),r.jsx(C,{entry:o,onSubmit:k=>v.mutate({id:o.id,data:k}),onCancel:()=>l(null)})]})})]})}function gCe(){var h;Mt(),wr();const[e,t]=b.useState(null),[n,i]=b.useState(null),{data:s,isLoading:a}=Ce({queryKey:["/api/taxonomy/groups"],queryFn:async()=>{const{api:m}=await Ye(async()=>{const{api:j}=await Promise.resolve().then(()=>ot);return{api:j}},void 0);return(await m("/taxonomy/groups")).json()}}),{data:o,isLoading:l}=Ce({queryKey:["/api/taxonomy/types",e],queryFn:async()=>{if(!e)return[];const{api:m}=await Ye(async()=>{const{api:j}=await Promise.resolve().then(()=>ot);return{api:j}},void 0);return(await m(`/taxonomy/types?groupId=${e}`)).json()},enabled:!!e}),{data:c,isLoading:d}=Ce({queryKey:["/api/taxonomy/subtypes",n],queryFn:async()=>{if(!n)return[];const{api:m}=await Ye(async()=>{const{api:j}=await Promise.resolve().then(()=>ot);return{api:j}},void 0);return(await m(`/taxonomy/subtypes?typeId=${n}`)).json()},enabled:!!n}),{data:u,isLoading:f}=Ce({queryKey:["/api/taxonomy/risks"],queryFn:async()=>{const{api:m}=await Ye(async()=>{const{api:j}=await Promise.resolve().then(()=>ot);return{api:j}},void 0);return(await m("/taxonomy/risks")).json()}}),{data:p,isLoading:x}=Ce({queryKey:["/api/test-direct"],queryFn:async()=>{const{api:m}=await Ye(async()=>{const{api:j}=await Promise.resolve().then(()=>ot);return{api:j}},void 0);return(await m("/test-direct")).json()}});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ir,{to:"/",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsx(ir,{to:"/admin",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(qp,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((h=Ii.find(m=>m.id==="taxonomy"))==null?void 0:h.label)||"Taxonomy Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage equipment classification and risk ranking lookup tables"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(rr,{className:"h-5 w-5"}),r.jsx(ee,{variant:p!=null&&p.success?"default":"destructive",children:x?"Testing...":p!=null&&p.success?"API Connected":"API Error"})]})]}),r.jsx(H,{className:"border-l-4 border-l-blue-500",children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(kt,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Universal Protocol Standard - Zero Hardcoding Compliance"})]}),r.jsx(ye,{children:"All taxonomy data is loaded dynamically from database lookup tables. No hardcoded business vocabulary allowed."})]})}),r.jsxs(Yn,{defaultValue:"groups",className:"space-y-4",children:[r.jsx(qn,{className:"grid w-full grid-cols-4",children:Xl.map(m=>r.jsxs(Oe,{value:m.id,"data-testid":`tab-${m.id}`,children:[m.label," (",m.id==="groups"?(s==null?void 0:s.length)||0:m.id==="types"?(o==null?void 0:o.length)||0:m.id==="subtypes"?(c==null?void 0:c.length)||0:m.id==="risks"&&(u==null?void 0:u.length)||0,")"]},m.id))}),r.jsx(Ee,{value:"groups",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Equipment Groups"}),r.jsx(ye,{children:"Top-level equipment classifications from your database"})]}),r.jsx(K,{children:a?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(On,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment groups..."})]}):r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s==null?void 0:s.map(m=>r.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Q,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(X,{className:"text-lg",children:m.name}),r.jsx(ee,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>t(m.id),"data-testid":`select-group-${m.id}`,children:"View Types"})]})})]},m.id))})})})]})}),r.jsx(Ee,{value:"types",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Equipment Types"}),r.jsxs(ye,{children:["Equipment types within selected group",e&&r.jsxs(ee,{variant:"outline",className:"ml-2",children:["Group ID: ",e]})]})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(oe,{htmlFor:"group-select",children:"Select Equipment Group:"}),r.jsxs($e,{value:(e==null?void 0:e.toString())||"",onValueChange:m=>t(parseInt(m)),children:[r.jsx(Me,{className:"w-[200px]","data-testid":"select-group-dropdown",children:r.jsx(De,{placeholder:"Choose group..."})}),r.jsx(Le,{children:s==null?void 0:s.map(m=>r.jsx(te,{value:m.id.toString(),children:m.name},m.id))})]})]}),e&&r.jsx(r.Fragment,{children:l?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(On,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment types..."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==null?void 0:o.map(m=>r.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Q,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(X,{className:"text-lg",children:m.name}),r.jsx(ee,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>i(m.id),"data-testid":`select-type-${m.id}`,children:"View Subtypes"})]})})]},m.id))})})]})})]})}),r.jsx(Ee,{value:"subtypes",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Equipment Subtypes"}),r.jsxs(ye,{children:["Equipment subtypes within selected type",n&&r.jsxs(ee,{variant:"outline",className:"ml-2",children:["Type ID: ",n]})]})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(oe,{htmlFor:"group-select",children:"Equipment Group:"}),r.jsxs($e,{value:(e==null?void 0:e.toString())||void 0,onValueChange:m=>t(parseInt(m)),children:[r.jsx(Me,{className:"w-[200px]",children:r.jsx(De,{placeholder:"Choose group..."})}),r.jsx(Le,{children:s==null?void 0:s.map(m=>r.jsx(te,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(oe,{htmlFor:"type-select",children:"Equipment Type:"}),r.jsxs($e,{value:(n==null?void 0:n.toString())||void 0,onValueChange:m=>i(parseInt(m)),disabled:!e,children:[r.jsx(Me,{className:"w-[200px]","data-testid":"select-type-dropdown",children:r.jsx(De,{placeholder:"Choose type..."})}),r.jsx(Le,{children:o==null?void 0:o.map(m=>r.jsx(te,{value:m.id.toString(),children:m.name},m.id))})]})]})]}),n&&r.jsx(r.Fragment,{children:d?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(On,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment subtypes..."})]}):(c==null?void 0:c.length)===0?r.jsx(H,{className:"border-dashed",children:r.jsx(K,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Subtypes Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No equipment subtypes exist for the selected type."}),r.jsxs(V,{"data-testid":"add-subtype-button",children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Add First Subtype"]})]})})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c==null?void 0:c.map(m=>r.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Q,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(X,{className:"text-lg",children:m.name}),r.jsx(ee,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsxs("div",{className:"text-sm",children:["Type: ",m.equipmentTypeName]}),r.jsxs("div",{className:"text-sm",children:["Group: ",m.equipmentGroupName]})]})})]},m.id))})})]})})]})}),r.jsx(Ee,{value:"risks",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Risk Rankings"}),r.jsx(ye,{children:"Risk classification levels for incident assessment"})]}),r.jsx(K,{children:f?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(On,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading risk rankings..."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u==null?void 0:u.map(m=>r.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Q,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(X,{className:"text-lg",children:m.label}),r.jsx(ee,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]})})]},m.id))})})]})})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Taxonomy Overview"}),r.jsx(ye,{children:"Current database statistics and API connectivity status"})]}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Groups"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Types"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(c==null?void 0:c.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Subtypes"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(u==null?void 0:u.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Risk Rankings"})]})]})})]})]})}function D0({children:e}){const{data:t,error:n,isLoading:i}=Ce({queryKey:["/api/admin/ai-settings"],queryFn:()=>st("/api/admin/ai-settings").then(l=>l.json()),staleTime:0,refetchOnFocus:!1}),s=hi();return s.pathname.startsWith("/admin")||s.pathname==="/"?e:i?null:n?(console.log("[RequireConfigured] API error - allowing access"),e):!(Array.isArray(t)?t:[]).some(l=>l.isActive)&&s.pathname!=="/admin-settings"&&(s.pathname.includes("analysis")||s.pathname.includes("ai-powered"))?r.jsx(Oo,{to:"/admin-settings",replace:!0,state:{reason:"no-active-provider"}}):e}function xT(){var v,N,w,S,E;const{toast:e}=Mt();wr();const[t,n]=b.useState({incidentId:`DEMO_${Date.now()}`,symptoms:[],incidentDescription:""}),[i,s]=b.useState(""),[a,o]=b.useState(null),{data:l,isLoading:c}=Ce({queryKey:["/api/taxonomy/groups"],queryFn:async()=>{const{api:C}=await Ye(async()=>{const{api:R}=await Promise.resolve().then(()=>ot);return{api:R}},void 0);return(await C("/taxonomy/groups")).json()}}),{data:d,isLoading:u}=Ce({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:async()=>{if(!t.equipmentGroupId)return[];const{api:C}=await Ye(async()=>{const{api:R}=await Promise.resolve().then(()=>ot);return{api:R}},void 0);return(await C(`/taxonomy/types?groupId=${t.equipmentGroupId}`)).json()},enabled:!!t.equipmentGroupId});Ce({queryKey:["/api/taxonomy/subtypes",t.equipmentTypeId],queryFn:async()=>{if(!t.equipmentTypeId)return[];const{api:C}=await Ye(async()=>{const{api:R}=await Promise.resolve().then(()=>ot);return{api:R}},void 0);return(await C(`/taxonomy/subtypes?typeId=${t.equipmentTypeId}`)).json()},enabled:!!t.equipmentTypeId});const{data:f,isLoading:p}=Ce({queryKey:["/api/taxonomy/risks"],queryFn:async()=>{const{api:C}=await Ye(async()=>{const{api:R}=await Promise.resolve().then(()=>ot);return{api:R}},void 0);return(await C("/taxonomy/risks")).json()}}),x=Ke({mutationFn:async C=>st("/api/evidence-analysis",{method:"POST",body:JSON.stringify(C),headers:{"Content-Type":"application/json"}}),onSuccess:C=>{C.success?(o(C.analysis),e({title:"Analysis Complete",description:`Found ${C.analysis.primaryFailureModes.length} primary failure modes with ${C.analysis.confidence}% confidence`})):e({title:"Analysis Failed",description:C.message||"Unknown error occurred",variant:"destructive"})},onError:C=>{e({title:"Analysis Error",description:C.message||"Failed to perform analysis",variant:"destructive"})}}),h=()=>{i.trim()&&!t.symptoms.includes(i.trim())&&(n(C=>({...C,symptoms:[...C.symptoms,i.trim()]})),s(""))},m=C=>{n(k=>({...k,symptoms:k.symptoms.filter(R=>R!==C)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}x.mutate(t)},j=C=>{switch(C){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},g=C=>C>=80?"text-green-600":C>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((v=Ii.find(C=>C.id==="analysis"))==null?void 0:v.label)||"Analysis Engine"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 6: Taxonomy-driven evidence analysis with dynamic failure mode identification"})]}),r.jsxs(ee,{variant:"outline",className:"text-blue-600",children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),"AI-Powered Analysis"]})]}),r.jsx(H,{className:"border-l-4 border-l-purple-500",children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Hi,{className:"h-5 w-5 text-purple-500"}),r.jsxs("span",{children:["Step 6: ",((N=Ii.find(C=>C.id==="analysis"))==null?void 0:N.label)||"Analysis Engine"," - Zero Hardcoding Intelligence"]})]}),r.jsx(ye,{children:"Dynamic analysis based on equipment taxonomy and evidence library patterns. All failure modes and logic loaded from database - no hardcoded rules."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Analysis Configuration"}),r.jsx(ye,{children:"Configure the analysis parameters and incident details"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(me,{id:"incidentId",value:t.incidentId,onChange:C=>n(k=>({...k,incidentId:C.target.value})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(Qe,{id:"incidentDescription",value:t.incidentDescription,onChange:C=>n(k=>({...k,incidentDescription:C.target.value})),placeholder:"Describe the incident, observed problems, and initial findings...",rows:4})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Equipment Group"}),r.jsxs($e,{value:((w=t.equipmentGroupId)==null?void 0:w.toString())||void 0,onValueChange:C=>{n(k=>({...k,equipmentGroupId:C?parseInt(C):void 0,equipmentTypeId:void 0,equipmentSubtypeId:void 0}))},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment group"})}),r.jsx(Le,{children:l==null?void 0:l.map(C=>r.jsx(te,{value:C.id.toString(),children:C.name},C.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Equipment Type"}),r.jsxs($e,{value:((S=t.equipmentTypeId)==null?void 0:S.toString())||"",onValueChange:C=>{n(k=>({...k,equipmentTypeId:C?parseInt(C):void 0,equipmentSubtypeId:void 0}))},disabled:!t.equipmentGroupId,children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment type"})}),r.jsx(Le,{children:d==null?void 0:d.map(C=>r.jsx(te,{value:C.id.toString(),children:C.name},C.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Risk Ranking"}),r.jsxs($e,{value:((E=t.riskRankingId)==null?void 0:E.toString())||"",onValueChange:C=>{n(k=>({...k,riskRankingId:C?parseInt(C):void 0}))},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select risk ranking"})}),r.jsx(Le,{children:f==null?void 0:f.map(C=>r.jsx(te,{value:C.id.toString(),children:C.label},C.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(me,{value:i,onChange:C=>s(C.target.value),placeholder:"Enter symptom (e.g., 'vibration', 'overheating')",onKeyPress:C=>C.key==="Enter"&&h()}),r.jsx(V,{onClick:h,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((C,k)=>r.jsxs(ee,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(C),children:[C," "]},k))})]}),r.jsx(V,{onClick:y,disabled:x.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-analysis-button",children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Wn,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zp,{className:"h-4 w-4 mr-2"}),"Run Evidence Analysis"]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Analysis Results"}),r.jsx(ye,{children:"Real-time evidence analysis with failure mode identification"})]}),r.jsx(K,{children:x.isPending?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Wn,{className:"h-8 w-8 animate-spin text-blue-500"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Processing Analysis..."}),r.jsx(Vr,{value:75,className:"w-full"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Applying taxonomy filters and evidence correlation..."})]})]}):a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:`text-3xl font-bold ${g(a.confidence)}`,children:[a.confidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Confidence"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-green-600",children:a.primaryFailureModes.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Primary Modes"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-gray-500",children:a.eliminatedFailureModes.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Eliminated"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-orange-600",children:a.evidenceGaps.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),a.taxonomyContext&&r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:"Taxonomy Context:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[a.taxonomyContext.equipmentGroup&&r.jsxs("div",{children:["Group: ",a.taxonomyContext.equipmentGroup]}),a.taxonomyContext.equipmentType&&r.jsxs("div",{children:["Type: ",a.taxonomyContext.equipmentType]}),a.taxonomyContext.riskRanking&&r.jsxs("div",{children:["Risk: ",a.taxonomyContext.riskRanking]})]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:'Configure analysis parameters and click "Run Evidence Analysis" to start'})]})})]})]}),a&&r.jsxs(Yn,{defaultValue:"failure-modes",className:"space-y-4",children:[r.jsxs(qn,{className:"grid w-full grid-cols-4",children:[r.jsxs(Oe,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),r.jsxs(Oe,{value:"eliminated",children:["Eliminated (",a.eliminatedFailureModes.length,")"]}),r.jsxs(Oe,{value:"actions",children:["Actions (",a.recommendedActions.length,")"]}),r.jsxs(Oe,{value:"evidence-gaps",children:["Evidence Gaps (",a.evidenceGaps.length,")"]})]}),r.jsx(Ee,{value:"failure-modes",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Primary Failure Modes"}),r.jsx(ye,{children:"High-confidence failure modes identified by the analysis engine"})]}),r.jsx(K,{children:a.primaryFailureModes.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(pt,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No primary failure modes identified. Consider expanding the analysis criteria."})]}):r.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((C,k)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:C.componentFailureMode}),r.jsxs(ee,{variant:C.confidence>=75?"default":"secondary",children:[C.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",C.failureCode]}),r.jsx("div",{className:"text-sm mb-3",children:C.reasoning}),C.requiredEvidence.length>0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("strong",{children:"Required Evidence:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:C.requiredEvidence.map((R,P)=>r.jsx("li",{children:R},P))})]})]},k))})})]})}),r.jsx(Ee,{value:"eliminated",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Eliminated Failure Modes"}),r.jsx(ye,{children:"Failure modes ruled out by the analysis engine"})]}),r.jsx(K,{children:a.eliminatedFailureModes.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(kt,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No failure modes eliminated. All possibilities remain under consideration."})]}):r.jsx("div",{className:"space-y-3",children:a.eliminatedFailureModes.map((C,k)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-700",children:C.componentFailureMode}),r.jsxs(ee,{variant:"outline",children:[C.confidence,"% confidence"]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:C.reasoning})]},k))})})]})}),r.jsx(Ee,{value:"actions",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Recommended Actions"}),r.jsx(ye,{children:"AI-generated action plan based on analysis results"})]}),r.jsx(K,{children:a.recommendedActions.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ut,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No specific actions recommended at this time."})]}):r.jsx("div",{className:"space-y-4",children:a.recommendedActions.map((C,k)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs(ee,{variant:j(C.priority),children:[C.priority," Priority"]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Kn,{className:"h-4 w-4 mr-1"}),C.timeframe]})]}),r.jsx("div",{className:"font-medium mb-2",children:C.action}),C.cost&&r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(XE,{className:"h-4 w-4 mr-1"}),C.cost]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Resources:"})," ",C.resources.join(", ")]})]},k))})})]})}),r.jsx(Ee,{value:"evidence-gaps",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Evidence Gaps"}),r.jsx(ye,{children:"Missing evidence that could improve analysis confidence"})]}),r.jsx(K,{children:a.evidenceGaps.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),r.jsx("p",{children:"No significant evidence gaps identified. Analysis is well-supported."})]}):r.jsx("div",{className:"space-y-4",children:a.evidenceGaps.map((C,k)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ee,{variant:j(C.priority),children:C.priority}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Kn,{className:"h-4 w-4 mr-1"}),C.collectionTime]})]}),r.jsx("div",{className:"font-medium mb-2",children:C.evidenceType}),r.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:C.description}),C.cost&&r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(XE,{className:"h-4 w-4 mr-1"}),"Estimated cost: ",C.cost]})]},k))})})]})})]})]})}var hC="Switch",[yCe,rEe]=Nr(hC),[bCe,jCe]=yCe(hC),tq=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:i,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[p,x]=b.useState(null),h=jt(t,v=>x(v)),m=b.useRef(!1),y=p?u||!!p.closest("form"):!0,[j=!1,g]=ys({prop:s,defaultProp:a,onChange:d});return r.jsxs(bCe,{scope:n,checked:j,disabled:l,children:[r.jsx(nt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":iq(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:h,onClick:We(e.onClick,v=>{g(N=>!N),y&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})}),y&&r.jsx(wCe,{control:p,bubbles:!m.current,name:i,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});tq.displayName=hC;var nq="SwitchThumb",rq=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...i}=e,s=jCe(nq,n);return r.jsx(nt.span,{"data-state":iq(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});rq.displayName=nq;var wCe=e=>{const{control:t,checked:n,bubbles:i=!0,...s}=e,a=b.useRef(null),o=Yg(n),l=Wv(t);return b.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:i});f.call(c,n),c.dispatchEvent(p)}},[o,n,i]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function iq(e){return e?"checked":"unchecked"}var sq=tq,NCe=rq;const kr=b.forwardRef(({className:e,...t},n)=>r.jsx(sq,{className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(NCe,{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kr.displayName=sq.displayName;function vT(){var N,w,S,E,C,k,R,P;const{toast:e}=Mt();wr();const[t,n]=b.useState({incidentId:`RCA_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0}),[i,s]=b.useState(""),[a,o]=b.useState(null),{data:l,isLoading:c}=Ce({queryKey:["/api/taxonomy/groups"],queryFn:async()=>{const{api:A}=await Ye(async()=>{const{api:O}=await Promise.resolve().then(()=>ot);return{api:O}},void 0);return(await A("/taxonomy/groups")).json()}}),{data:d,isLoading:u}=Ce({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:async()=>{if(!t.equipmentGroupId)return[];const{api:A}=await Ye(async()=>{const{api:O}=await Promise.resolve().then(()=>ot);return{api:O}},void 0);return(await A(`/taxonomy/types?groupId=${t.equipmentGroupId}`)).json()},enabled:!!t.equipmentGroupId}),{data:f,isLoading:p}=Ce({queryKey:["/api/taxonomy/risks"],queryFn:async()=>{const{api:A}=await Ye(async()=>{const{api:O}=await Promise.resolve().then(()=>ot);return{api:O}},void 0);return(await A("/taxonomy/risks")).json()}}),x=Ke({mutationFn:async A=>st("/api/rca-analysis",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:A=>{A.success?(o(A.rca),e({title:"RCA Analysis Complete",description:`Generated ${A.rca.rootCauseHypotheses.length} root cause hypotheses with ${A.rca.qualityMetrics.overallScore}% quality score`})):e({title:"RCA Analysis Failed",description:A.message||"Unknown error occurred",variant:"destructive"})},onError:A=>{e({title:"RCA Analysis Error",description:A.message||"Failed to perform RCA analysis",variant:"destructive"})}}),h=()=>{i.trim()&&!t.symptoms.includes(i.trim())&&(n(A=>({...A,symptoms:[...A.symptoms,i.trim()]})),s(""))},m=A=>{n(_=>({..._,symptoms:_.symptoms.filter(O=>O!==A)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}x.mutate(t)},j=A=>{switch(A){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},g=A=>A>=80?"text-green-600":A>=60?"text-yellow-600":"text-red-600",v=A=>{switch(A){case"pattern_recognition":return r.jsx(Sc,{className:"h-4 w-4"});case"historical_correlation":return r.jsx(io,{className:"h-4 w-4"});case"risk_assessment":return r.jsx(bs,{className:"h-4 w-4"});case"failure_progression":return r.jsx($i,{className:"h-4 w-4"});default:return r.jsx(Dt,{className:"h-4 w-4"})}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((N=Ii.find(A=>A.id==="ai"))==null?void 0:N.label)||"AI-Powered RCA"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 7: Comprehensive root cause analysis with AI insights and preventive recommendations"})]}),r.jsxs(ee,{variant:"outline",className:"text-purple-600",children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),((w=Ii.find(A=>A.id==="ai"))==null?void 0:w.label)||"AI-Powered RCA"," Engine"]})]}),r.jsx(H,{className:"border-l-4 border-l-purple-500",children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Hi,{className:"h-5 w-5 text-purple-500"}),r.jsxs("span",{children:["Step 7: ",((S=Ii.find(A=>A.id==="ai"))==null?void 0:S.label)||"AI-Powered RCA"," - Complete Investigation Suite"]})]}),r.jsx(ye,{children:"Advanced analysis combining evidence analysis, AI insights, root cause hypotheses, and comprehensive preventive action recommendations with quality validation."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"RCA Configuration"}),r.jsx(ye,{children:"Configure comprehensive root cause analysis parameters"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(me,{id:"incidentId",value:t.incidentId,onChange:A=>n(_=>({..._,incidentId:A.target.value})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(Qe,{id:"incidentDescription",value:t.incidentDescription,onChange:A=>n(_=>({..._,incidentDescription:A.target.value})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:4})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Equipment Group"}),r.jsxs($e,{value:((E=t.equipmentGroupId)==null?void 0:E.toString())||"",onValueChange:A=>{n(_=>({..._,equipmentGroupId:A?parseInt(A):void 0,equipmentTypeId:void 0}))},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment group"})}),r.jsx(Le,{children:l==null?void 0:l.map(A=>r.jsx(te,{value:A.id.toString(),children:A.name},A.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Equipment Type"}),r.jsxs($e,{value:((C=t.equipmentTypeId)==null?void 0:C.toString())||"",onValueChange:A=>{n(_=>({..._,equipmentTypeId:A?parseInt(A):void 0}))},disabled:!t.equipmentGroupId,children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select equipment type"})}),r.jsx(Le,{children:d==null?void 0:d.map(A=>r.jsx(te,{value:A.id.toString(),children:A.name},A.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Risk Ranking"}),r.jsxs($e,{value:((k=t.riskRankingId)==null?void 0:k.toString())||"",onValueChange:A=>{n(_=>({..._,riskRankingId:A?parseInt(A):void 0}))},children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Select risk ranking"})}),r.jsx(Le,{children:f==null?void 0:f.map(A=>r.jsx(te,{value:A.id.toString(),children:A.label},A.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Analysis Parameters"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Analysis Depth"}),r.jsxs($e,{value:t.analysisDepth,onValueChange:A=>n(_=>({..._,analysisDepth:A})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"basic",children:"Basic"}),r.jsx(te,{value:"comprehensive",children:"Comprehensive"}),r.jsx(te,{value:"expert",children:"Expert"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Priority Level"}),r.jsxs($e,{value:t.priorityLevel,onValueChange:A=>n(_=>({..._,priorityLevel:A})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"low",children:"Low"}),r.jsx(te,{value:"medium",children:"Medium"}),r.jsx(te,{value:"high",children:"High"}),r.jsx(te,{value:"critical",children:"Critical"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(oe,{children:"Include Recommendations"}),r.jsx(kr,{checked:t.includeRecommendations,onCheckedChange:A=>n(_=>({..._,includeRecommendations:A}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(oe,{children:"Generate Report"}),r.jsx(kr,{checked:t.generateReport,onCheckedChange:A=>n(_=>({..._,generateReport:A}))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(me,{value:i,onChange:A=>s(A.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:A=>A.key==="Enter"&&h()}),r.jsx(V,{onClick:h,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((A,_)=>r.jsxs(ee,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(A),children:[A," "]},_))})]}),r.jsx(V,{onClick:y,disabled:x.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-rca-analysis-button",children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Wn,{className:"h-4 w-4 mr-2 animate-spin"}),"Performing RCA Analysis..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Run ",((R=Ii.find(A=>A.id==="ai"))==null?void 0:R.label)||"AI-Powered RCA"," Analysis"]})})]})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"RCA Results Overview"}),r.jsx(ye,{children:"Comprehensive analysis results with quality metrics"})]}),r.jsx(K,{children:x.isPending?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Dt,{className:"h-8 w-8 animate-pulse text-purple-500"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Processing Comprehensive RCA..."}),r.jsx(Vr,{value:85,className:"w-full"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Generating AI insights and root cause hypotheses..."})]})]}):a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[r.jsx("div",{className:`text-2xl font-bold ${g(a.qualityMetrics.overallScore)}`,children:a.qualityMetrics.overallScore}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Quality"})]}),r.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[r.jsxs("div",{className:`text-2xl font-bold ${g(a.confidence)}`,children:[a.confidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Analysis Confidence"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.rootCauseHypotheses.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Hypotheses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:a.aiInsights.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"AI Insights"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:a.preventiveActions.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Actions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-orange-600",children:a.evidenceGaps.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-semibold",children:"Quality Metrics:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Data Completeness:"}),r.jsxs("span",{className:g(a.qualityMetrics.dataCompleteness),children:[a.qualityMetrics.dataCompleteness,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Evidence Quality:"}),r.jsxs("span",{className:g(a.qualityMetrics.evidenceQuality),children:[a.qualityMetrics.evidenceQuality,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Recommendation Reliability:"}),r.jsxs("span",{className:g(a.qualityMetrics.recommendationReliability),children:[a.qualityMetrics.recommendationReliability,"%"]})]})]})]}),a.validationStatus.validationRequired&&r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-sm font-semibold text-yellow-800",children:"Validation Required"})]}),r.jsxs("div",{className:"text-sm text-yellow-700",children:["Estimated time: ",a.validationStatus.estimatedValidationTime," | Cost: ",a.validationStatus.validationCost]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsxs("p",{children:['Configure RCA parameters and click "Run ',((P=Ii.find(A=>A.id==="ai"))==null?void 0:P.label)||"AI-Powered RCA",' Analysis" to start']})]})})]})]}),a&&r.jsxs(Yn,{defaultValue:"hypotheses",className:"space-y-4",children:[r.jsxs(qn,{className:"grid w-full grid-cols-6",children:[r.jsxs(Oe,{value:"hypotheses",children:["Root Causes (",a.rootCauseHypotheses.length,")"]}),r.jsxs(Oe,{value:"insights",children:["AI Insights (",a.aiInsights.length,")"]}),r.jsxs(Oe,{value:"actions",children:["Preventive Actions (",a.preventiveActions.length,")"]}),r.jsxs(Oe,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),r.jsx(Oe,{value:"report",children:"Executive Report"}),r.jsx(Oe,{value:"validation",children:"Validation"})]}),r.jsx(Ee,{value:"hypotheses",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Root Cause Hypotheses"}),r.jsx(ye,{children:"AI-generated root cause hypotheses ranked by probability"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:a.rootCauseHypotheses.map((A,_)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:j(A.priority),children:A.priority}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.probability,"% probability"]})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Kn,{className:"h-4 w-4 mr-1"}),A.timeToConfirm]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:A.hypothesis}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingFailureModes.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Required Validation:"})," ",A.requiredValidation.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Cost:"})," ",A.cost]})]})]})]},_))})})]})}),r.jsx(Ee,{value:"insights",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"AI Analysis Insights"}),r.jsx(ye,{children:"Advanced AI insights from pattern recognition and historical analysis"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:a.aiInsights.map((A,_)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[v(A.category),r.jsx("span",{className:"font-semibold capitalize",children:A.category.replace("_"," ")})]}),r.jsxs(ee,{variant:"secondary",children:[A.confidence,"% confidence"]})]}),r.jsx("p",{className:"mb-3",children:A.insight}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingEvidence.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Data Source:"})," ",A.dataSource]})]})]},_))})})]})}),r.jsx(Ee,{value:"actions",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Preventive Actions"}),r.jsx(ye,{children:"Comprehensive preventive action plan with implementation details"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:a.preventiveActions.map((A,_)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs(ee,{variant:j(A.priority),children:[A.priority," Priority"]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.effectiveness,"% effectiveness"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:A.action}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Implementation Time:"})," ",A.implementationTime]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cost:"})," ",A.cost]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Target Modes:"})," ",A.targetFailureModes.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dependencies:"})," ",A.dependencies.join(", ")]})]})]})]},_))})})]})}),r.jsx(Ee,{value:"failure-modes",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Failure Mode Analysis"}),r.jsx(ye,{children:"Detailed failure mode analysis results"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((A,_)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:A.componentFailureMode}),r.jsxs(ee,{variant:A.confidence>=75?"default":"secondary",children:[A.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",A.failureCode]}),r.jsx("div",{className:"text-sm mb-3",children:A.reasoning}),A.requiredEvidence&&A.requiredEvidence.length>0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("strong",{children:"Required Evidence:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:A.requiredEvidence.map((O,D)=>r.jsx("li",{children:O},D))})]})]},_))})})]})}),r.jsx(Ee,{value:"report",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Executive Summary Report"}),r.jsx(ye,{children:"Comprehensive analysis summary for management review"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Executive Summary"}),r.jsx("p",{className:"text-sm",children:a.reportSummary.executiveSummary})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Key Findings"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.keyFindings.map((A,_)=>r.jsx("li",{children:A},_))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Immediate Actions"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.immediateActions.map((A,_)=>r.jsx("li",{children:A},_))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Long-Term Recommendations"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.longTermRecommendations.map((A,_)=>r.jsx("li",{children:A},_))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Risk Mitigation"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.riskMitigation.map((A,_)=>r.jsx("li",{children:A},_))})]})]})]})}),r.jsx(Ee,{value:"validation",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Validation Requirements"}),r.jsx(ye,{children:"Analysis validation status and required actions"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:a.validationStatus.validationRequired?r.jsxs(r.Fragment,{children:[r.jsx(Rr,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"font-semibold text-yellow-700",children:"Validation Required"})]}):r.jsxs(r.Fragment,{children:[r.jsx(kt,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"font-semibold text-green-700",children:"Analysis Validated"})]})}),a.validationStatus.validationRequired&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Time:"})," ",a.validationStatus.estimatedValidationTime]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Cost:"})," ",a.validationStatus.validationCost]})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Validation Steps"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.validationStatus.validationSteps.map((A,_)=>r.jsx("li",{children:A},_))})]}),a.validationStatus.criticalGaps.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Critical Gaps"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-600",children:a.validationStatus.criticalGaps.map((A,_)=>r.jsx("li",{children:A},_))})]})]})]})]})})]})]})}function gT(){var S,E;const{toast:e}=Mt();wr();const[t,n]=b.useState({workflowId:`WF_${Date.now()}`,initiatorUserId:"current_user",incidentData:{incidentId:`INC_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0},workflowType:"standard",approvalRequired:!0,stakeholders:[],notifications:{emailNotifications:!0,smsAlerts:!1,dashboardUpdates:!0,stakeholderUpdates:!0,escalationThreshold:24},scheduleConfig:{startImmediately:!0,milestoneReminders:!0,businessHoursOnly:!1},documentationLevel:"comprehensive"}),[i,s]=b.useState(""),[a,o]=b.useState(""),[l,c]=b.useState(null),d=Ke({mutationFn:async C=>st("/api/workflows",{method:"POST",body:JSON.stringify(C),headers:{"Content-Type":"application/json"}}),onSuccess:C=>{C.success?(c(C.workflow),e({title:"Workflow Initiated",description:`Workflow ${C.workflow.workflowId} started successfully`})):e({title:"Workflow Initiation Failed",description:C.message||"Unknown error occurred",variant:"destructive"})},onError:C=>{e({title:"Workflow Error",description:C.message||"Failed to initiate workflow",variant:"destructive"})}}),u=Ke({mutationFn:async({workflowId:C,stageId:k})=>st(`/api/workflows/${C}/execute/${k}`,{method:"POST",headers:{"Content-Type":"application/json"}}),onSuccess:C=>{C.success&&(c(C.workflow),e({title:"Stage Executed",description:"Stage completed successfully"}))},onError:C=>{e({title:"Stage Execution Error",description:C.message||"Failed to execute stage",variant:"destructive"})}}),{data:f,refetch:p}=Ce({queryKey:["/api/workflows",l==null?void 0:l.workflowId],queryFn:async()=>{if(!l)return null;const{api:C}=await Ye(async()=>{const{api:R}=await Promise.resolve().then(()=>ot);return{api:R}},void 0);return(await C(`/workflows/${l.workflowId}`)).json()},enabled:!!l,refetchInterval:5e3});b.useEffect(()=>{f!=null&&f.success&&f.workflow&&c(f.workflow)},[f]);const x=()=>{i.trim()&&!t.incidentData.symptoms.includes(i.trim())&&(n(C=>({...C,incidentData:{...C.incidentData,symptoms:[...C.incidentData.symptoms,i.trim()]}})),s(""))},h=C=>{n(k=>({...k,incidentData:{...k.incidentData,symptoms:k.incidentData.symptoms.filter(R=>R!==C)}}))},m=()=>{a.trim()&&!t.stakeholders.includes(a.trim())&&(n(C=>({...C,stakeholders:[...C.stakeholders,a.trim()]})),o(""))},y=C=>{n(k=>({...k,stakeholders:k.stakeholders.filter(R=>R!==C)}))},j=()=>{if(!t.incidentData.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}d.mutate(t)},g=C=>{l&&u.mutate({workflowId:l.workflowId,stageId:C})},v=C=>{switch(C){case"active":return"text-blue-600";case"completed":return"text-green-600";case"failed":return"text-red-600";case"pending":return"text-yellow-600";case"cancelled":return"text-gray-600";default:return"text-gray-600"}},N=C=>{switch(C){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},w=C=>{switch(C){case"initiation":return r.jsx(Zb,{className:"h-4 w-4"});case"analysis":return r.jsx(io,{className:"h-4 w-4"});case"review":return r.jsx(Cf,{className:"h-4 w-4"});case"approval":return r.jsx(kt,{className:"h-4 w-4"});case"implementation":return r.jsx(Wn,{className:"h-4 w-4"});case"closure":return r.jsx(VU,{className:"h-4 w-4"});default:return r.jsx(td,{className:"h-4 w-4"})}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((S=Ii.find(C=>C.id==="integrations"))==null?void 0:S.label)||"Workflow Integration"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 8: Complete workflow management with automated process orchestration and progress tracking"})]}),r.jsxs(ee,{variant:"outline",className:"text-indigo-600",children:[r.jsx(ek,{className:"h-4 w-4 mr-2"}),"Workflow Engine v2.0"]})]}),r.jsx(H,{className:"border-l-4 border-l-indigo-500",children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Hi,{className:"h-5 w-5 text-indigo-500"}),r.jsxs("span",{children:["Step 8: ",((E=Ii.find(C=>C.id==="integrations"))==null?void 0:E.label)||"Workflow Integration"," - Complete Process Automation Suite"]})]}),r.jsx(ye,{children:"Advanced workflow management integrating RCA analysis with automated process orchestration, stakeholder management, approval workflows, and comprehensive documentation generation."})]})}),l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[w(l.status.phase),r.jsxs("span",{children:["Workflow: ",l.workflowId]})]}),r.jsx(ee,{variant:"outline",className:v(l.status.state),children:l.status.state.toUpperCase()})]}),r.jsxs(ye,{children:["Current Phase: ",l.status.phase," | Processing Time: ",l.status.processingTime," | Completion: ",l.completionPercentage,"%"]})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.completionPercentage,"%"]})]}),r.jsx(Vr,{value:l.completionPercentage,className:"w-full"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.nextActions.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending Actions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:l.generatedDocuments.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Documents"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:l.approvals.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Approvals"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-orange-600",children:l.notifications.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Notifications"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Estimated Completion"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>c(null),children:[r.jsx(sa,{className:"h-4 w-4 mr-1"}),"Close Workflow"]})]})]})})]}),r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{children:["Current Stage: ",l.currentStage.stageName]}),r.jsx(ye,{children:l.currentStage.description})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{variant:l.currentStage.status==="active"?"default":"secondary",children:l.currentStage.status}),l.currentStage.status==="pending"&&r.jsxs(V,{onClick:()=>g(l.currentStage.stageId),disabled:u.isPending,size:"sm",children:[u.isPending?r.jsx(Wn,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(Zb,{className:"h-4 w-4 mr-1"}),"Execute Stage"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold mb-2",children:"Requirements:"}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.requirements.map((C,k)=>r.jsx("li",{children:C},k))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold mb-2",children:"Deliverables:"}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.deliverables.map((C,k)=>r.jsx("li",{children:C},k))})]})]})]})]}),r.jsxs(Yn,{defaultValue:"actions",className:"space-y-4",children:[r.jsxs(qn,{className:"grid w-full grid-cols-6",children:[r.jsxs(Oe,{value:"actions",children:["Actions (",l.nextActions.length,")"]}),r.jsxs(Oe,{value:"approvals",children:["Approvals (",l.approvals.length,")"]}),r.jsxs(Oe,{value:"documents",children:["Documents (",l.generatedDocuments.length,")"]}),r.jsxs(Oe,{value:"notifications",children:["Notifications (",l.notifications.length,")"]}),r.jsx(Oe,{value:"quality",children:"Quality Checks"}),r.jsx(Oe,{value:"timeline",children:"Timeline"})]}),r.jsx(Ee,{value:"actions",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Pending Actions"}),r.jsx(ye,{children:"Actions requiring attention or completion"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[l.nextActions.map((C,k)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ee,{variant:N(C.priority),children:C.priority}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(cV,{className:"h-3 w-3 mr-1"}),"Due: ",new Date(C.dueDate).toLocaleDateString()]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:C.description}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Assigned to:"})," ",C.assignedTo]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",C.actionType]}),C.dependencies.length>0&&r.jsxs("div",{children:[r.jsx("strong",{children:"Dependencies:"})," ",C.dependencies.join(", ")]})]})]})]},k)),l.nextActions.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No pending actions at this time"})]})]})})]})}),r.jsx(Ee,{value:"approvals",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Approval Status"}),r.jsx(ye,{children:"Required approvals and their current status"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[l.approvals.map((C,k)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:C.status==="approved"?"default":"secondary",children:C.status.replace("_"," ")}),r.jsx("span",{className:"text-sm font-medium capitalize",children:C.approvalType.replace("_"," ")})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:C.approver})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Requirements:"})," ",C.requirements.join(", ")]}),C.submittedDate&&r.jsxs("div",{children:[r.jsx("strong",{children:"Submitted:"})," ",new Date(C.submittedDate).toLocaleString()]}),C.comments&&r.jsxs("div",{children:[r.jsx("strong",{children:"Comments:"})," ",C.comments]})]})]},k)),l.approvals.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(bs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No approvals required for this workflow"})]})]})})]})}),r.jsx(Ee,{value:"documents",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Generated Documents"}),r.jsx(ye,{children:"Documents created during the workflow process"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[l.generatedDocuments.map((C,k)=>r.jsx("div",{className:"p-3 border rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:C.title}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Type: ",C.documentType.replace("_"," ")," | Format: ",C.format.toUpperCase()]}),r.jsxs("div",{children:["Size: ",C.size," | Generated: ",new Date(C.generatedAt).toLocaleString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:C.status==="ready"?"default":"secondary",children:C.status}),C.status==="ready"&&r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(sr,{className:"h-3 w-3 mr-1"}),"Download"]})]})]})},k)),l.generatedDocuments.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ut,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No documents generated yet"})]})]})})]})}),r.jsx(Ee,{value:"notifications",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Notification Log"}),r.jsx(ye,{children:"Communication history and status updates"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[l.notifications.map((C,k)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(YE,{className:"h-3 w-3"}),r.jsx("span",{className:"text-sm font-medium",children:C.subject})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:C.status==="sent"?"default":"secondary",children:C.status}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(C.sentAt).toLocaleTimeString()})]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["To: ",C.recipient," | Type: ",C.type]}),r.jsx("div",{className:"mt-1",children:C.message})]})]},k)),l.notifications.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(YE,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No notifications sent yet"})]})]})})]})}),r.jsx(Ee,{value:"quality",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Quality Checks"}),r.jsx(ye,{children:"Automated quality validation and compliance checks"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-3",children:l.qualityChecks.map((C,k)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium capitalize",children:C.checkType.replace("_"," ")}),r.jsx(ee,{variant:C.status==="passed"?"default":C.status==="failed"?"destructive":C.status==="warning"?"secondary":"outline",children:C.status})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("div",{children:C.description}),r.jsxs("div",{children:[r.jsx("strong",{children:"Details:"})," ",C.details]}),C.checkedAt&&r.jsxs("div",{children:[r.jsx("strong",{children:"Checked:"})," ",new Date(C.checkedAt).toLocaleString()]}),C.checkedBy&&r.jsxs("div",{children:[r.jsx("strong",{children:"By:"})," ",C.checkedBy]})]})]},k))})})]})}),r.jsx(Ee,{value:"timeline",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Workflow Timeline"}),r.jsx(ye,{children:"Process execution timeline and milestones"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-muted rounded-lg",children:[r.jsx(kt,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Workflow Initiated"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.status.lastUpdated).toLocaleString()})]})]}),l.currentStage.startTime&&r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg",children:[r.jsx(io,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:["Current Stage Started: ",l.currentStage.stageName]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.currentStage.startTime).toLocaleString()})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx(Kn,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Estimated Completion"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]})]})]})})]})})]})]}):r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Workflow Configuration"}),r.jsx(ye,{children:"Configure comprehensive workflow automation parameters"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Workflow Settings"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"workflowId",children:"Workflow ID"}),r.jsx(me,{id:"workflowId",value:t.workflowId,onChange:C=>n(k=>({...k,workflowId:C.target.value})),placeholder:"Enter workflow ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Workflow Type"}),r.jsxs($e,{value:t.workflowType,onValueChange:C=>n(k=>({...k,workflowType:C})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"standard",children:"Standard (24h)"}),r.jsx(te,{value:"expedited",children:"Expedited (8h)"}),r.jsx(te,{value:"comprehensive",children:"Comprehensive (72h)"}),r.jsx(te,{value:"emergency",children:"Emergency (4h)"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Documentation Level"}),r.jsxs($e,{value:t.documentationLevel,onValueChange:C=>n(k=>({...k,documentationLevel:C})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"basic",children:"Basic"}),r.jsx(te,{value:"detailed",children:"Detailed"}),r.jsx(te,{value:"comprehensive",children:"Comprehensive"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{id:"approvalRequired",checked:t.approvalRequired,onCheckedChange:C=>n(k=>({...k,approvalRequired:C}))}),r.jsx(oe,{htmlFor:"approvalRequired",children:"Approval Required"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Incident Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(me,{id:"incidentId",value:t.incidentData.incidentId,onChange:C=>n(k=>({...k,incidentData:{...k.incidentData,incidentId:C.target.value}})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(Qe,{id:"incidentDescription",value:t.incidentData.incidentDescription,onChange:C=>n(k=>({...k,incidentData:{...k.incidentData,incidentDescription:C.target.value}})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Analysis Depth"}),r.jsxs($e,{value:t.incidentData.analysisDepth,onValueChange:C=>n(k=>({...k,incidentData:{...k.incidentData,analysisDepth:C}})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"basic",children:"Basic"}),r.jsx(te,{value:"comprehensive",children:"Comprehensive"}),r.jsx(te,{value:"expert",children:"Expert"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Priority Level"}),r.jsxs($e,{value:t.incidentData.priorityLevel,onValueChange:C=>n(k=>({...k,incidentData:{...k.incidentData,priorityLevel:C}})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"low",children:"Low"}),r.jsx(te,{value:"medium",children:"Medium"}),r.jsx(te,{value:"high",children:"High"}),r.jsx(te,{value:"critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Time Constraint"}),r.jsxs($e,{value:t.incidentData.timeConstraint,onValueChange:C=>n(k=>({...k,incidentData:{...k.incidentData,timeConstraint:C}})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"immediate",children:"Immediate"}),r.jsx(te,{value:"standard",children:"Standard"}),r.jsx(te,{value:"thorough",children:"Thorough"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(oe,{children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(me,{value:i,onChange:C=>s(C.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:C=>C.key==="Enter"&&x()}),r.jsx(V,{onClick:x,variant:"outline",children:"Add"})]}),t.incidentData.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.incidentData.symptoms.map((C,k)=>r.jsxs(ee,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>h(C),children:[C," "]},k))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Stakeholders & Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(me,{value:a,onChange:C=>o(C.target.value),placeholder:"Add stakeholder (e.g., 'Engineering Manager', 'Safety Officer')",onKeyPress:C=>C.key==="Enter"&&m()}),r.jsx(V,{onClick:m,variant:"outline",children:"Add"})]}),t.stakeholders.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.stakeholders.map((C,k)=>r.jsxs(ee,{variant:"outline",className:"cursor-pointer hover:bg-red-100",onClick:()=>y(C),children:[r.jsx(f1,{className:"h-3 w-3 mr-1"}),C," "]},k))}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(oe,{children:"Email Notifications"}),r.jsx(kr,{checked:t.notifications.emailNotifications,onCheckedChange:C=>n(k=>({...k,notifications:{...k.notifications,emailNotifications:C}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(oe,{children:"Dashboard Updates"}),r.jsx(kr,{checked:t.notifications.dashboardUpdates,onCheckedChange:C=>n(k=>({...k,notifications:{...k.notifications,dashboardUpdates:C}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(oe,{children:"Stakeholder Updates"}),r.jsx(kr,{checked:t.notifications.stakeholderUpdates,onCheckedChange:C=>n(k=>({...k,notifications:{...k.notifications,stakeholderUpdates:C}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(oe,{children:"Milestone Reminders"}),r.jsx(kr,{checked:t.scheduleConfig.milestoneReminders,onCheckedChange:C=>n(k=>({...k,scheduleConfig:{...k.scheduleConfig,milestoneReminders:C}}))})]})]})]})]}),r.jsx(V,{onClick:j,disabled:d.isPending||!t.incidentData.incidentDescription.trim(),className:"w-full",size:"lg","data-testid":"initiate-workflow-button",children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Wn,{className:"h-4 w-4 mr-2 animate-spin"}),"Initiating Workflow..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ek,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})]})]})]})}function SCe(){var C,k,R,P,A,_,O,D,M,G,z;const{toast:e}=Mt();wr();const[t,n]=b.useState({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"}),[i,s]=b.useState(null),[a,o]=b.useState([]),{data:l,isLoading:c,refetch:d}=Ce({queryKey:["/api/data-sources"],queryFn:async()=>{const{api:I}=await Ye(async()=>{const{api:Z}=await Promise.resolve().then(()=>ot);return{api:Z}},void 0);return(await I("/data-sources")).json()}}),{data:u,isLoading:f}=Ce({queryKey:["/api/integrations"],queryFn:async()=>{const{api:I}=await Ye(async()=>{const{api:Z}=await Promise.resolve().then(()=>ot);return{api:Z}},void 0);return(await I("/integrations")).json()}}),p=Ke({mutationFn:async I=>st("/api/data-sources",{method:"POST",body:JSON.stringify(I),headers:{"Content-Type":"application/json"}}),onSuccess:I=>{I!=null&&I.success?(e({title:"Data Source Registered",description:(I==null?void 0:I.message)||"Data source registered successfully"}),d(),n({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"})):e({title:"Registration Failed",description:(I==null?void 0:I.message)||"Unknown error occurred",variant:"destructive"})},onError:I=>{e({title:"Registration Error",description:I.message||"Failed to register data source",variant:"destructive"})}}),x=Ke({mutationFn:async({sourceId:I,options:U})=>st(`/api/data-sources/${I}/sync`,{method:"POST",body:JSON.stringify(U||{}),headers:{"Content-Type":"application/json"}}),onSuccess:I=>{var U;I!=null&&I.success&&(e({title:"Sync Completed",description:((U=I==null?void 0:I.syncResult)==null?void 0:U.summary)||"Sync completed successfully"}),d(),i&&h(i.sourceId))},onError:I=>{e({title:"Sync Failed",description:I.message||"Failed to execute sync",variant:"destructive"})}}),h=async I=>{try{const{api:U}=await Ye(async()=>{const{api:ie}=await Promise.resolve().then(()=>ot);return{api:ie}},void 0),$=await(await U(`/data-sources/${I}/history`)).json();$!=null&&$.success&&o(($==null?void 0:$.syncHistory)||[])}catch(U){console.error("Failed to fetch sync history:",U)}},m=()=>{var I,U,Z;if(!((I=t.sourceName)!=null&&I.trim())){e({title:"Missing Information",description:"Please provide a data source name",variant:"destructive"});return}if(!((Z=(U=t.connectionConfig)==null?void 0:U.endpoint)!=null&&Z.trim())&&t.sourceType!=="file_system"){e({title:"Missing Information",description:"Please provide connection endpoint",variant:"destructive"});return}p.mutate(t)},y=I=>{x.mutate({sourceId:I})},j=()=>{t.dataMapping&&n(I=>({...I,dataMapping:{...I.dataMapping,sourceFields:[...I.dataMapping.sourceFields,{sourceField:"",targetField:"",dataType:"string",isRequired:!1}]}}))},g=I=>{t.dataMapping&&n(U=>({...U,dataMapping:{...U.dataMapping,sourceFields:U.dataMapping.sourceFields.filter((Z,$)=>$!==I)}}))},v=(I,U)=>{t.dataMapping&&n(Z=>({...Z,dataMapping:{...Z.dataMapping,sourceFields:Z.dataMapping.sourceFields.map(($,ie)=>ie===I?{...$,...U}:$)}}))},N=I=>{switch(I){case"active":case"completed":case"success":return"text-green-600";case"syncing":return"text-blue-600";case"error":case"failed":return"text-red-600";case"idle":case"inactive":return"text-gray-600";default:return"text-gray-600"}},w=I=>{switch(I){case"cmms":return r.jsx(Wn,{className:"h-4 w-4"});case"historian":return r.jsx(Sc,{className:"h-4 w-4"});case"scada":return r.jsx(io,{className:"h-4 w-4"});case"api":return r.jsx(tV,{className:"h-4 w-4"});case"database":return r.jsx(rr,{className:"h-4 w-4"});case"file_system":return r.jsx(XU,{className:"h-4 w-4"});case"sensor_network":return r.jsx(dV,{className:"h-4 w-4"});default:return r.jsx(JE,{className:"h-4 w-4"})}},S=(l==null?void 0:l.dataSources)||[],E=(u==null?void 0:u.integrations)||[];return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Data Integration & External Connectivity"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 9: Connect external systems and automate data synchronization for comprehensive RCA analysis"})]}),r.jsxs(ee,{variant:"outline",className:"text-cyan-600",children:[r.jsx(YU,{className:"h-4 w-4 mr-2"}),"Integration Pipeline v1.0"]})]}),r.jsx(H,{className:"border-l-4 border-l-cyan-500",children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Hi,{className:"h-5 w-5 text-cyan-500"}),r.jsx("span",{children:"Step 9: Data Integration - External System Connectivity Suite"})]}),r.jsx(ye,{children:"Advanced data integration pipeline connecting CMMS, process historians, SCADA systems, and external APIs with automated synchronization, transformation, and validation capabilities."})]})}),r.jsxs(Yn,{defaultValue:"sources",className:"space-y-4",children:[r.jsxs(qn,{className:"grid w-full grid-cols-5",children:[r.jsxs(Oe,{value:"sources",children:["Data Sources (",S.length,")"]}),r.jsx(Oe,{value:"new-source",children:"New Source"}),r.jsxs(Oe,{value:"integrations",children:["Available Integrations (",E.length,")"]}),r.jsx(Oe,{value:"sync-history",children:"Sync History"}),r.jsx(Oe,{value:"monitoring",children:"Monitoring"})]}),r.jsx(Ee,{value:"sources",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Registered Data Sources"}),r.jsx(ye,{children:"Manage external data sources and their synchronization status"})]}),r.jsx(K,{children:c?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(On,{className:"h-8 w-8 animate-spin text-cyan-500"})}):S.length>0?r.jsx("div",{className:"space-y-4",children:S.map((I,U)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[w(I.sourceType),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:I.sourceName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Type: ",I.sourceType.toUpperCase()," | Target: ",I.dataMapping.targetSchema]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:I.isActive?"default":"secondary",children:I.isActive?"Active":"Inactive"}),r.jsx(ee,{variant:"outline",className:N(I.syncStatus),children:I.syncStatus})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Endpoint:"})," ",I.connectionConfig.endpoint||"Not configured"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sync Schedule:"})," ",I.syncSchedule.frequency]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Last Sync:"})," ",I.lastSync?new Date(I.lastSync).toLocaleString():"Never"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>y(I.sourceId),disabled:x.isPending,children:[x.isPending?r.jsx(On,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(aV,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{s(I),h(I.sourceId)},children:[r.jsx(Gs,{className:"h-3 w-3 mr-1"}),"View History"]}),r.jsxs(V,{size:"sm",variant:"outline",children:[r.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Configure"]})]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(rr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No data sources configured yet"}),r.jsx("p",{className:"text-sm",children:"Add a new data source to get started"})]})})]})}),r.jsx(Ee,{value:"new-source",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Register New Data Source"}),r.jsx(ye,{children:"Configure a new external data source for integration"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Basic Configuration"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"sourceName",children:"Source Name *"}),r.jsx(me,{id:"sourceName",value:t.sourceName||void 0,onChange:I=>n(U=>({...U,sourceName:I.target.value})),placeholder:"Enter descriptive name (e.g., 'Production CMMS')"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Source Type"}),r.jsxs($e,{value:t.sourceType,onValueChange:I=>n(U=>({...U,sourceType:I})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"cmms",children:"CMMS (Maintenance Management)"}),r.jsx(te,{value:"historian",children:"Process Historian"}),r.jsx(te,{value:"scada",children:"SCADA System"}),r.jsx(te,{value:"api",children:"REST API"}),r.jsx(te,{value:"database",children:"Database"}),r.jsx(te,{value:"file_system",children:"File System"}),r.jsx(te,{value:"sensor_network",children:"Sensor Network"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"endpoint",children:"Connection Endpoint"}),r.jsx(me,{id:"endpoint",value:((C=t.connectionConfig)==null?void 0:C.endpoint)||void 0,onChange:I=>n(U=>({...U,connectionConfig:{...U.connectionConfig,endpoint:I.target.value}})),placeholder:"https://api.system.com or server:port"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"targetSchema",children:"Target Schema"}),r.jsxs($e,{value:((k=t.dataMapping)==null?void 0:k.targetSchema)||"incidents",onValueChange:I=>n(U=>({...U,dataMapping:{...U.dataMapping,targetSchema:I}})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"incidents",children:"Incident Reports"}),r.jsx(te,{value:"sensor_data",children:"Sensor Data"}),r.jsx(te,{value:"maintenance_records",children:"Maintenance Records"}),r.jsx(te,{value:"asset_data",children:"Asset Information"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"timeout",children:"Timeout (ms)"}),r.jsx(me,{id:"timeout",type:"number",value:((R=t.connectionConfig)==null?void 0:R.timeout)||3e4,onChange:I=>n(U=>({...U,connectionConfig:{...U.connectionConfig,timeout:parseInt(I.target.value)}}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"retryAttempts",children:"Retry Attempts"}),r.jsx(me,{id:"retryAttempts",type:"number",value:((P=t.connectionConfig)==null?void 0:P.retryAttempts)||3,onChange:I=>n(U=>({...U,connectionConfig:{...U.connectionConfig,retryAttempts:parseInt(I.target.value)}}))})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(kr,{id:"isActive",checked:t.isActive||!1,onCheckedChange:I=>n(U=>({...U,isActive:I}))}),r.jsx(oe,{htmlFor:"isActive",children:"Active"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Authentication"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"username",children:"Username"}),r.jsx(me,{id:"username",value:((A=t.connectionConfig)==null?void 0:A.username)||void 0,onChange:I=>n(U=>({...U,connectionConfig:{...U.connectionConfig,username:I.target.value}})),placeholder:"Enter username if required"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold",children:"Field Mapping"}),r.jsxs(V,{onClick:j,size:"sm",variant:"outline",children:[r.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),r.jsxs("div",{className:"space-y-3",children:[(_=t.dataMapping)==null?void 0:_.sourceFields.map((I,U)=>r.jsxs("div",{className:"grid grid-cols-6 gap-2 items-end",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(oe,{className:"text-xs",children:"Source Field"}),r.jsx(me,{value:I.sourceField,onChange:Z=>v(U,{sourceField:Z.target.value}),placeholder:"source_field",className:"h-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(oe,{className:"text-xs",children:"Target Field"}),r.jsx(me,{value:I.targetField,onChange:Z=>v(U,{targetField:Z.target.value}),placeholder:"targetField",className:"h-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(oe,{className:"text-xs",children:"Data Type"}),r.jsxs($e,{value:I.dataType,onValueChange:Z=>v(U,{dataType:Z}),children:[r.jsx(Me,{className:"h-8",children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"string",children:"String"}),r.jsx(te,{value:"number",children:"Number"}),r.jsx(te,{value:"date",children:"Date"}),r.jsx(te,{value:"boolean",children:"Boolean"}),r.jsx(te,{value:"json",children:"JSON"})]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(oe,{className:"text-xs",children:"Default Value"}),r.jsx(me,{value:I.defaultValue||void 0,onChange:Z=>v(U,{defaultValue:Z.target.value}),placeholder:"default",className:"h-8"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{checked:I.isRequired,onCheckedChange:Z=>v(U,{isRequired:Z})}),r.jsx(oe,{className:"text-xs",children:"Required"})]}),r.jsx("div",{children:r.jsx(V,{onClick:()=>g(U),size:"sm",variant:"outline",className:"h-8",children:r.jsx(sa,{className:"h-3 w-3"})})})]},U)),(!((O=t.dataMapping)!=null&&O.sourceFields)||t.dataMapping.sourceFields.length===0)&&r.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No field mappings configured yet. Click "Add Field" to start.'})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Sync Schedule"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{children:"Frequency"}),r.jsxs($e,{value:((D=t.syncSchedule)==null?void 0:D.frequency)||"manual",onValueChange:I=>n(U=>({...U,syncSchedule:{...U.syncSchedule,frequency:I}})),children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"realtime",children:"Real-time"}),r.jsx(te,{value:"hourly",children:"Hourly"}),r.jsx(te,{value:"daily",children:"Daily"}),r.jsx(te,{value:"weekly",children:"Weekly"}),r.jsx(te,{value:"manual",children:"Manual"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(oe,{htmlFor:"interval",children:"Interval (minutes)"}),r.jsx(me,{id:"interval",type:"number",value:((M=t.syncSchedule)==null?void 0:M.interval)||void 0,onChange:I=>n(U=>({...U,syncSchedule:{...U.syncSchedule,interval:parseInt(I.target.value)}})),placeholder:"60",disabled:((G=t.syncSchedule)==null?void 0:G.frequency)==="manual"})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(kr,{checked:((z=t.syncSchedule)==null?void 0:z.isEnabled)||!1,onCheckedChange:I=>n(U=>({...U,syncSchedule:{...U.syncSchedule,isEnabled:I}}))}),r.jsx(oe,{children:"Enable Schedule"})]})]})]}),r.jsx(V,{onClick:m,disabled:p.isPending,className:"w-full",size:"lg",children:p.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Wn,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering Data Source..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Jb,{className:"h-4 w-4 mr-2"}),"Register Data Source"]})})]})]})}),r.jsx(Ee,{value:"integrations",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Available System Integrations"}),r.jsx(ye,{children:"Pre-configured integration templates for common external systems"})]}),r.jsx(K,{children:f?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(On,{className:"h-8 w-8 animate-spin text-cyan-500"})}):E.length>0?r.jsx("div",{className:"space-y-4",children:E.map((I,U)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(JE,{className:"h-6 w-6 text-blue-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:I.systemName}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:I.systemType.replace("_"," ")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:I.isConfigured?"default":"secondary",children:I.isConfigured?"Configured":"Not Configured"}),r.jsx(ee,{variant:"outline",className:N(I.status),children:I.status})]})]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium mb-2",children:"Capabilities:"}),r.jsx("div",{className:"space-y-2",children:I.capabilities.map((Z,$)=>r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:Z.name}),r.jsx("div",{className:"text-muted-foreground",children:Z.description}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:"text-xs",children:"Data Types:"}),Z.dataTypes.map((ie,ne)=>r.jsx(ee,{variant:"outline",className:"text-xs",children:ie},ne))]})]},$))})]})}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(V,{size:"sm",variant:"outline",children:[r.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Configure"]}),r.jsxs(V,{size:"sm",variant:"outline",children:[r.jsx(Ut,{className:"h-3 w-3 mr-1"}),"Documentation"]}),r.jsxs(V,{size:"sm",variant:"outline",children:[r.jsx(zp,{className:"h-3 w-3 mr-1"}),"Test Connection"]})]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Jb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No integrations available"})]})})]})}),r.jsx(Ee,{value:"sync-history",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Synchronization History"}),r.jsx(ye,{children:"Review past synchronization results and performance metrics"})]}),r.jsx(K,{children:i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-semibold",children:["History for: ",i.sourceName]}),r.jsxs(V,{onClick:()=>h(i.sourceId),size:"sm",variant:"outline",children:[r.jsx(On,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),a.length>0?r.jsx("div",{className:"space-y-3",children:a.map((I,U)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:I.status==="success"?"default":I.status==="error"?"destructive":"secondary",children:I.status}),r.jsxs("span",{className:"text-sm font-medium",children:["Sync ID: ",I.syncId]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(I.startTime).toLocaleString()})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Processed:"})," ",I.recordsProcessed]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Created:"})," ",I.recordsCreated]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Updated:"})," ",I.recordsUpdated]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Skipped:"})," ",I.recordsSkipped]})]}),r.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:I.summary}),I.errors.length>0&&r.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-700",children:[r.jsx("strong",{children:"Errors:"})," ",I.errors.length," errors occurred during sync"]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No sync history available for this data source"})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a data source from the Sources tab to view its sync history"})]})})]})}),r.jsx(Ee,{value:"monitoring",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Integration Monitoring"}),r.jsx(ye,{children:"Real-time monitoring of data integration pipeline performance"})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.filter(I=>I.isActive).length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Sources"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.filter(I=>I.syncStatus==="completed").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent Syncs"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.filter(I=>I.syncStatus==="syncing").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Syncs"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:S.filter(I=>I.syncStatus==="error").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed Syncs"})]})]}),r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(io,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Real-time monitoring dashboard"}),r.jsx("p",{className:"text-sm",children:"Integration metrics and performance data will appear here"})]})]})]})})]})]})}function yT(){Mt();const{data:e,isLoading:t,refetch:n,error:i}=Ce({queryKey:["/api/deployment/status"],queryFn:async()=>{const{api:p}=await Ye(async()=>{const{api:h}=await Promise.resolve().then(()=>ot);return{api:h}},void 0);return(await p("/deployment/status")).json()},refetchInterval:3e4}),s=(e==null?void 0:e.deploymentStatus)||null,a=p=>{switch(p){case"passed":return r.jsx(kt,{className:"h-4 w-4 text-green-600"});case"warning":return r.jsx(pt,{className:"h-4 w-4 text-yellow-600"});case"failed":return r.jsx(so,{className:"h-4 w-4 text-red-600"});case"pending":return r.jsx(Kn,{className:"h-4 w-4 text-gray-600"});default:return r.jsx(Kn,{className:"h-4 w-4 text-gray-600"})}},o=p=>{switch(p){case"production":return"text-green-600 bg-green-50";case"staging":return"text-blue-600 bg-blue-50";case"testing":return"text-yellow-600 bg-yellow-50";case"development":return"text-gray-600 bg-gray-50";case"maintenance":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},l=p=>{switch(p){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},c=p=>{switch(p){case"compliant":return"text-green-600";case"partial":return"text-yellow-600";case"non-compliant":return"text-red-600";default:return"text-gray-600"}},d=p=>p>=95?{level:"Production Ready",color:"text-green-600",icon:By}:p>=85?{level:"Staging Ready",color:"text-blue-600",icon:lV}:p>=70?{level:"Testing Ready",color:"text-yellow-600",icon:io}:{level:"In Development",color:"text-gray-600",icon:Wn};if(t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(On,{className:"h-8 w-8 animate-spin text-blue-500"}),r.jsx("span",{className:"text-lg",children:"Assessing deployment readiness..."})]})});if(i||!s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs(H,{className:"max-w-md",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2 text-red-600",children:[r.jsx(Rr,{className:"h-5 w-5"}),r.jsx("span",{children:"Assessment Failed"})]}),r.jsx(ye,{children:"Unable to retrieve deployment status. Please check system connectivity."})]}),r.jsx(K,{children:r.jsxs(V,{onClick:()=>n(),className:"w-full",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Retry Assessment"]})})]})});const u=d(s.readinessScore),f=u.icon;return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Deployment Readiness Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 10: Complete system assessment and production deployment optimization"})]}),r.jsxs(V,{onClick:()=>n(),variant:"outline",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Refresh Assessment"]})]}),r.jsx(H,{className:"border-l-4 border-l-green-500",children:r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(Hi,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Step 10: Final Deployment Optimization - System Integration Complete"})]}),r.jsx(ye,{children:"Comprehensive deployment readiness assessment with performance optimization, security validation, and compliance verification across all system components."})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(H,{className:"col-span-1 md:col-span-2",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Overall Readiness"}),r.jsx(f,{className:`h-6 w-6 ${u.color}`})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-3xl font-bold",children:[s.readinessScore,"%"]}),r.jsx(ee,{className:o(s.deploymentStage),children:s.deploymentStage.toUpperCase()})]}),r.jsx(Vr,{value:s.readinessScore,className:"w-full"}),r.jsx("div",{className:`text-lg font-semibold ${u.color}`,children:u.level})]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(kt,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{children:"System Checks"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Passed"}),r.jsx("span",{className:"font-bold text-green-600",children:s.completedChecks.filter(p=>p.status==="passed").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Warnings"}),r.jsx("span",{className:"font-bold text-yellow-600",children:s.completedChecks.filter(p=>p.status==="warning").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),r.jsx("span",{className:"font-bold text-red-600",children:s.completedChecks.filter(p=>p.status==="failed").length})]})]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(bs,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Security Score"})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s.securityStatus.overallScore,"%"]}),r.jsx(Vr,{value:s.securityStatus.overallScore,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.securityStatus.vulnerabilities.length," vulnerabilities"]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(H,{children:[r.jsx(Q,{className:"pb-3",children:r.jsxs(X,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(io,{className:"h-4 w-4"}),r.jsx("span",{children:"API Response"})]})}),r.jsxs(K,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]}),r.jsxs(H,{children:[r.jsx(Q,{className:"pb-3",children:r.jsxs(X,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(rr,{className:"h-4 w-4"}),r.jsx("span",{children:"DB Efficiency"})]})}),r.jsxs(K,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Index efficiency"})]})]}),r.jsxs(H,{children:[r.jsx(Q,{className:"pb-3",children:r.jsxs(X,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(rV,{className:"h-4 w-4"}),r.jsx("span",{children:"Memory Usage"})]})}),r.jsxs(K,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"System memory"})]})]}),r.jsxs(H,{children:[r.jsx(Q,{className:"pb-3",children:r.jsxs(X,{className:"flex items-center space-x-2 text-sm",children:[r.jsx($i,{className:"h-4 w-4"}),r.jsx("span",{children:"Throughput"})]})}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.performanceMetrics.apiResponseTimes.throughput}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests/second"})]})]})]}),r.jsxs(Yn,{defaultValue:"checks",className:"space-y-4",children:[r.jsxs(qn,{className:"grid w-full grid-cols-5",children:[r.jsxs(Oe,{value:"checks",children:["System Checks (",s.completedChecks.length,")"]}),r.jsx(Oe,{value:"performance",children:"Performance"}),r.jsx(Oe,{value:"security",children:"Security"}),r.jsx(Oe,{value:"compliance",children:"Compliance"}),r.jsxs(Oe,{value:"optimizations",children:["Optimizations (",s.optimizations.length,")"]})]}),r.jsx(Ee,{value:"checks",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Deployment Checks"}),r.jsx(ye,{children:"Comprehensive system validation across all functional areas"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:s.completedChecks.map((p,x)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[a(p.status),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:p.checkName}),r.jsxs("div",{className:"text-sm text-muted-foreground capitalize",children:[p.checkType,"  Priority: ",p.priority]})]})]}),r.jsx(ee,{variant:l(p.priority),children:p.status.toUpperCase()})]}),r.jsx("p",{className:"text-sm mb-2",children:p.description}),p.result&&r.jsxs("div",{className:"text-sm bg-muted p-2 rounded mb-2",children:[r.jsx("strong",{children:"Result:"})," ",p.result]}),p.recommendations&&p.recommendations.length>0&&r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Recommendations:"}),r.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:p.recommendations.map((h,m)=>r.jsx("li",{children:h},m))})]}),p.timestamp&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Checked: ",new Date(p.timestamp).toLocaleString()]})]},x))})})]})}),r.jsx(Ee,{value:"performance",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"API Performance"})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Average Response Time:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"95th Percentile:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p95ResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"99th Percentile:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p99ResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Throughput:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.throughput," req/s"]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Database Performance"})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Connection Pool Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.connectionPoolUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Index Efficiency:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Storage Utilization:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.storageUtilization,"%"]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Frontend Performance"})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Bundle Size:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.bundleSize,"MB"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Render Performance:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.renderPerformance,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Interactivity Score:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.interactivityScore,"%"]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"System Resources"})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Memory Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"CPU Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.cpuUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Disk Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.diskUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Network Latency:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.networkLatency,"ms"]})]})]})})]})]})}),r.jsx(Ee,{value:"security",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2",children:[r.jsx(bs,{className:"h-5 w-5"}),r.jsx("span",{children:"Security Assessment"})]}),r.jsxs(ye,{children:["Overall security score: ",s.securityStatus.overallScore,"%"]})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Security Score"}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[s.securityStatus.overallScore,"%"]})]}),r.jsx(Vr,{value:s.securityStatus.overallScore,className:"w-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Vulnerabilities"}),r.jsx("div",{className:"text-sm",children:s.securityStatus.vulnerabilities.length===0?r.jsx("div",{className:"text-green-600",children:"No critical vulnerabilities detected"}):r.jsxs("div",{children:[s.securityStatus.vulnerabilities.length," issues found"]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Last Assessment"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.securityStatus.lastAssessmentDate).toLocaleString()})]})]})]})})]})}),r.jsx(Ee,{value:"compliance",children:r.jsx("div",{className:"space-y-4",children:Object.entries(s.complianceStatus).map(([p,x])=>r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center justify-between",children:[r.jsx("span",{className:"capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx(ee,{variant:"outline",className:c(x.status),children:x.status.toUpperCase()})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Compliance Score:"}),r.jsxs("span",{className:"font-bold",children:[x.score,"%"]})]}),r.jsx(Vr,{value:x.score,className:"w-full"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-sm mb-1",children:["Checked Items (",x.checkedItems.length,")"]}),r.jsxs("ul",{className:"text-sm space-y-1",children:[x.checkedItems.slice(0,3).map((h,m)=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(kt,{className:"h-3 w-3 text-green-600"}),r.jsx("span",{children:h})]},m)),x.checkedItems.length>3&&r.jsxs("li",{className:"text-muted-foreground",children:["+",x.checkedItems.length-3," more"]})]})]}),x.failedItems.length>0&&r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-sm mb-1 text-red-600",children:["Failed Items (",x.failedItems.length,")"]}),r.jsx("ul",{className:"text-sm space-y-1",children:x.failedItems.map((h,m)=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(so,{className:"h-3 w-3 text-red-600"}),r.jsx("span",{children:h})]},m))})]})]}),x.recommendations.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-1",children:"Recommendations"}),r.jsx("ul",{className:"text-sm space-y-1",children:x.recommendations.map((h,m)=>r.jsxs("li",{className:"flex items-start space-x-2",children:[r.jsx(pt,{className:"h-3 w-3 text-yellow-600 mt-0.5"}),r.jsx("span",{children:h})]},m))})]})]})})]},p))})}),r.jsx(Ee,{value:"optimizations",children:r.jsxs(H,{children:[r.jsxs(Q,{children:[r.jsx(X,{children:"System Optimizations"}),r.jsx(ye,{children:"Performance improvements and resource optimizations"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:s.optimizations.map((p,x)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zp,{className:"h-4 w-4 text-blue-500"}),r.jsxs("span",{className:"font-semibold capitalize",children:[p.optimizationType.replace("_"," ")," Optimization"]})]}),r.jsx(ee,{variant:p.implementationStatus==="deployed"?"default":p.implementationStatus==="implemented"?"secondary":"outline",children:p.implementationStatus.replace("_"," ")})]}),r.jsx("p",{className:"text-sm mb-3",children:p.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Impact: "}),r.jsx(ee,{variant:p.impact==="high"?"default":p.impact==="medium"?"secondary":"outline",children:p.impact})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Performance Gain:"})," ",p.performanceGain]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Resource Savings:"})," ",p.resourceSavings]})]})]},x))})})]})})]}),s.readinessScore>=95&&r.jsxs(H,{className:"border-green-200 bg-green-50",children:[r.jsxs(Q,{children:[r.jsxs(X,{className:"flex items-center space-x-2 text-green-700",children:[r.jsx(By,{className:"h-5 w-5"}),r.jsx("span",{children:"Ready for Production Deployment"})]}),r.jsx(ye,{children:"System has passed all critical checks and is ready for production deployment."})]}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(V,{className:"bg-green-600 hover:bg-green-700",children:[r.jsx(By,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]}),r.jsxs(V,{variant:"outline",children:[r.jsx(ZR,{className:"h-4 w-4 mr-2"}),"Generate Deployment Report"]})]})})]})]})}const Zm={NONE:"NONE",ALL_STATUS:"ALL_STATUS",ALL_TYPES:"ALL_TYPES",ALL_GROUPS:"ALL_GROUPS",ALL_SUBTYPES:"ALL_SUBTYPES",ALL_EVIDENCE_TYPES:"ALL_EVIDENCE_TYPES",LOADING_GROUPS:"LOADING_GROUPS",LOADING_TYPES:"LOADING_TYPES",LOADING_SUBTYPES:"LOADING_SUBTYPES",NO_RISK_RANKINGS:"NO_RISK_RANKINGS",FIELD_EMPTY:void 0,SELECT_OPTION:"SELECT_OPTION",FILTER_EQUIPMENT_GROUPS:"FILTER_EQUIPMENT_GROUPS",FILTER_EQUIPMENT_TYPES:"FILTER_EQUIPMENT_TYPES",FILTER_SUBTYPES:"FILTER_SUBTYPES"};function CCe({value:e,onChange:t,options:n,placeholder:i="Select",allowAll:s=!1,allValue:a=Zm.ALL_STATUS,allLabel:o="All",disabled:l=!1,className:c=""}){const d=e??Zm.NONE,u=f=>{f===Zm.NONE?t(void 0):t(f)};return r.jsxs($e,{value:d,onValueChange:u,disabled:l,children:[r.jsx(Me,{className:c,"aria-label":i,children:r.jsx(De,{placeholder:i})}),r.jsxs(Le,{children:[r.jsx(te,{value:Zm.NONE,disabled:!0,children:i}),s&&r.jsx(te,{value:a,children:o}),n.map(f=>r.jsx(te,{value:f.value,children:f.label},f.value))]})]})}function ECe(){const{toast:e}=Mt(),t=wr(),[n,i]=b.useState(null),[s,a]=b.useState({workflowType:"Standard",documentationLevel:"Standard",analysisDepth:"Standard",priority:"Medium",requiresApproval:!1,observedSymptoms:"",stakeholders:[],enableNotifications:!0,enableMilestoneReminders:!0}),[o,l]=b.useState(""),[c,d]=b.useState(!1),{data:u,isLoading:f}=Ce({queryKey:["/api/incidents"],queryFn:async()=>{const{api:v}=await Ye(async()=>{const{api:w}=await Promise.resolve().then(()=>ot);return{api:w}},void 0),N=await v("/incidents");if(!N.ok)throw new Error("Failed to fetch incidents");return N.json()}}),{data:p,isLoading:x}=Ce({queryKey:["/api/workflows/notification-preview",n,s],queryFn:async()=>{if(!n)return null;const{apiPost:v}=await Ye(async()=>{const{apiPost:w}=await Promise.resolve().then(()=>ot);return{apiPost:w}},void 0),N=await v(`/workflows/${n}/notifications/preview`,s);if(!N.ok)throw new Error("Failed to get preview");return N.json()},enabled:c&&!!n}),h=Ke({mutationFn:async v=>{const{apiPost:N}=await Ye(async()=>{const{apiPost:S}=await Promise.resolve().then(()=>ot);return{apiPost:S}},void 0),w=await N("/workflows/initiate",v);if(!w.ok){const S=await w.json();throw new Error(S.message||"Failed to initiate workflow")}return w.json()},onSuccess:v=>{e({title:"Workflow Initiated",description:`Workflow ${v.workflowId} created successfully. Due by ${Sp(new Date(v.dueAt),"PPP")}`}),i(null),a({workflowType:"Standard",documentationLevel:"Standard",analysisDepth:"Standard",priority:"Medium",requiresApproval:!1,observedSymptoms:"",stakeholders:[],enableNotifications:!0,enableMilestoneReminders:!0}),t.invalidateQueries({queryKey:["/api/incidents"]})},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),m=u==null?void 0:u.find(v=>v.id===n),y=()=>{o.trim()&&s.stakeholders&&(a(v=>({...v,stakeholders:[...v.stakeholders||[],o.trim()]})),l(""))},j=v=>{a(N=>{var w;return{...N,stakeholders:((w=N.stakeholders)==null?void 0:w.filter(S=>S!==v))||[]}})},g=()=>{if(!n||!s){e({title:"Error",description:"Please select an incident and fill all required fields",variant:"destructive"});return}h.mutate({...s,incidentId:n})};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Workflow Integration"}),r.jsx("p",{className:"text-muted-foreground",children:"Initiate comprehensive analysis workflows for existing incidents"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5"}),"Select Incident"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsx(CCe,{value:n==null?void 0:n.toString(),onChange:v=>i(v?parseInt(v):void 0),options:(u==null?void 0:u.map(v=>({value:v.id.toString(),label:`INC_${v.id.toString().padStart(6,"0")} - ${v.priority}`})))||[],placeholder:"Choose incident to analyze...",disabled:f,className:"data-testid-select-incident"}),m&&r.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium",children:m.title||"Untitled Incident"}),r.jsx(ee,{children:m.workflowStatus})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Equipment:"})," ",m.equipmentGroup," - ",m.equipmentType]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Location:"})," ",m.location]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Reported by:"})," ",m.reportedBy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date:"})," ",Sp(new Date(m.incidentDateTime),"PPP")]})]})]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5"}),"Workflow Configuration"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Workflow Type"}),r.jsxs($e,{value:s.workflowType,onValueChange:v=>a(N=>({...N,workflowType:v})),"data-testid":"select-workflow-type",children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsx(Le,{children:r.jsx(te,{value:"Standard",children:"Standard (24h)"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Priority"}),r.jsxs($e,{value:s.priority,onValueChange:v=>a(N=>({...N,priority:v})),"data-testid":"select-priority",children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Low",children:"Low"}),r.jsx(te,{value:"Medium",children:"Medium"}),r.jsx(te,{value:"High",children:"High"}),r.jsx(te,{value:"Critical",children:"Critical"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Documentation Level"}),r.jsxs($e,{value:s.documentationLevel,onValueChange:v=>a(N=>({...N,documentationLevel:v})),"data-testid":"select-documentation-level",children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Basic",children:"Basic"}),r.jsx(te,{value:"Standard",children:"Standard"}),r.jsx(te,{value:"Comprehensive",children:"Comprehensive"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Analysis Depth"}),r.jsxs($e,{value:s.analysisDepth,onValueChange:v=>a(N=>({...N,analysisDepth:v})),"data-testid":"select-analysis-depth",children:[r.jsx(Me,{children:r.jsx(De,{})}),r.jsxs(Le,{children:[r.jsx(te,{value:"Surface",children:"Surface"}),r.jsx(te,{value:"Standard",children:"Standard"}),r.jsx(te,{value:"Deep",children:"Deep"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{checked:s.requiresApproval,onCheckedChange:v=>a(N=>({...N,requiresApproval:v})),"data-testid":"switch-requires-approval"}),r.jsx("label",{className:"text-sm font-medium",children:"Requires Approval"})]})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-5 w-5"}),"Observed Symptoms"]})}),r.jsx(K,{children:r.jsx(Qe,{placeholder:"Describe the observed symptoms and manifestations...",value:s.observedSymptoms,onChange:v=>a(N=>({...N,observedSymptoms:v.target.value})),rows:4,"data-testid":"input-observed-symptoms"})})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(f1,{className:"h-5 w-5"}),"Stakeholders & Notifications"]})}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"email",placeholder:"Add stakeholder email...",value:o,onChange:v=>l(v.target.value),onKeyPress:v=>v.key==="Enter"&&y(),className:"flex-1 px-3 py-2 border rounded-md","data-testid":"input-stakeholder-email"}),r.jsx(V,{onClick:y,variant:"outline","data-testid":"button-add-stakeholder",children:"Add"})]}),s.stakeholders&&s.stakeholders.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:s.stakeholders.map(v=>r.jsxs(ee,{variant:"secondary",className:"cursor-pointer",onClick:()=>j(v),"data-testid":`stakeholder-${v}`,children:[v," "]},v))}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{checked:s.enableNotifications,onCheckedChange:v=>a(N=>({...N,enableNotifications:v})),"data-testid":"switch-enable-notifications"}),r.jsx("label",{className:"text-sm font-medium",children:"Enable Notifications"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{checked:s.enableMilestoneReminders,onCheckedChange:v=>a(N=>({...N,enableMilestoneReminders:v})),"data-testid":"switch-enable-reminders"}),r.jsx("label",{className:"text-sm font-medium",children:"Enable Milestone Reminders"})]})]})]})]})]}),n&&r.jsxs(H,{children:[r.jsx(Q,{children:r.jsx(X,{children:"Notification Preview"})}),r.jsxs(K,{children:[r.jsx("div",{className:"flex gap-2 mb-4",children:r.jsx(V,{variant:"outline",onClick:()=>d(!c),disabled:x,"data-testid":"button-preview-notifications",children:x?r.jsxs(r.Fragment,{children:[r.jsx(Xb,{className:"h-4 w-4 animate-spin mr-2"}),"Loading Preview..."]}):"Preview Notifications"})}),c&&p&&r.jsx(rn,{children:r.jsx(sn,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Recipients:"})," ",p.recipients.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Subject:"})," ",p.subject]}),r.jsx("div",{className:"border rounded p-2 bg-muted",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:p.content}})})]})})})]})]}),r.jsx("div",{className:"flex justify-end gap-4",children:r.jsx(V,{onClick:g,disabled:!n||h.isPending,className:"min-w-[200px]","data-testid":"button-initiate-workflow",children:h.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Xb,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})})]})}var xC="Radio",[kCe,aq]=Nr(xC),[ACe,_Ce]=kCe(xC),oq=b.forwardRef((e,t)=>{const{__scopeRadio:n,name:i,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,p]=b.useState(null),x=jt(t,y=>p(y)),h=b.useRef(!1),m=f?d||!!f.closest("form"):!0;return r.jsxs(ACe,{scope:n,checked:s,disabled:o,children:[r.jsx(nt.button,{type:"button",role:"radio","aria-checked":s,"data-state":dq(s),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:x,onClick:We(e.onClick,y=>{s||c==null||c(),m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})}),m&&r.jsx(PCe,{control:f,bubbles:!h.current,name:i,value:l,checked:s,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});oq.displayName=xC;var lq="RadioIndicator",cq=b.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:i,...s}=e,a=_Ce(lq,n);return r.jsx(Zr,{present:i||a.checked,children:r.jsx(nt.span,{"data-state":dq(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});cq.displayName=lq;var PCe=e=>{const{control:t,checked:n,bubbles:i=!0,...s}=e,a=b.useRef(null),o=Yg(n),l=Wv(t);return b.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:i});f.call(c,n),c.dispatchEvent(p)}},[o,n,i]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dq(e){return e?"checked":"unchecked"}var TCe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vC="RadioGroup",[OCe,iEe]=Nr(vC,[Zv,aq]),uq=Zv(),fq=aq(),[ICe,RCe]=OCe(vC),pq=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:i,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...p}=e,x=uq(n),h=Up(d),[m,y]=ys({prop:a,defaultProp:s,onChange:f});return r.jsx(ICe,{scope:n,name:i,required:o,disabled:l,value:m,onValueChange:y,children:r.jsx(r4,{asChild:!0,...x,orientation:c,dir:h,loop:u,children:r.jsx(nt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:h,...p,ref:t})})})});pq.displayName=vC;var mq="RadioGroupItem",hq=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:i,...s}=e,a=RCe(mq,n),o=a.disabled||i,l=uq(n),c=fq(n),d=b.useRef(null),u=jt(t,d),f=a.value===s.value,p=b.useRef(!1);return b.useEffect(()=>{const x=m=>{TCe.includes(m.key)&&(p.current=!0)},h=()=>p.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",h)}},[]),r.jsx(i4,{asChild:!0,...l,focusable:!o,active:f,children:r.jsx(oq,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:u,onCheck:()=>a.onValueChange(s.value),onKeyDown:We(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:We(s.onFocus,()=>{var x;p.current&&((x=d.current)==null||x.click())})})})});hq.displayName=mq;var MCe="RadioGroupIndicator",xq=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...i}=e,s=fq(n);return r.jsx(cq,{...s,...i,ref:t})});xq.displayName=MCe;var vq=pq,gq=hq,$Ce=xq;const eN=b.forwardRef(({className:e,...t},n)=>r.jsx(vq,{className:Xe("grid gap-2",e),...t,ref:n}));eN.displayName=vq.displayName;const Do=b.forwardRef(({className:e,...t},n)=>r.jsx(gq,{ref:n,className:Xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx($Ce,{className:"flex items-center justify-center",children:r.jsx(KU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Do.displayName=gq.displayName;const DCe={Low:{Low:{level:1,label:"Level 1 RCA",method:"Quick check / mini 5 Whys",timebox:"24h"},Medium:{level:2,label:"Level 2 RCA",method:"5 Whys",timebox:"2448h"},High:{level:3,label:"Level 3 RCA",method:"Fishbone (+ 5 Whys)",timebox:"7 days"}},Medium:{Low:{level:2,label:"Level 2 RCA",method:"5 Whys",timebox:"2448h"},Medium:{level:3,label:"Level 3 RCA",method:"Fishbone (+ 5 Whys)",timebox:"7 days"},High:{level:4,label:"Level 4 RCA",method:"Logic Tree (+ Fishbone)",timebox:"13 weeks"}},High:{Low:{level:3,label:"Level 3 RCA",method:"Fishbone (+ 5 Whys)",timebox:"7 days"},Medium:{level:4,label:"Level 4 RCA",method:"Logic Tree (+ Fishbone)",timebox:"13 weeks"},High:{level:5,label:"Level 5 RCA",method:"Full toolkit (Logic Tree + FMEA + CAPA)",timebox:"Programmatic"}}};function LCe(e,t){return DCe[e][t]}function FCe(){const e=qS(),[,t]=fa(),[n,i]=b.useState("Medium"),[s,a]=b.useState("Low"),[o,l]=b.useState(!1),{toast:c}=Mt(),d=wr(),u=e.id,{data:f,isLoading:p}=Ce({queryKey:["/api/incidents",u],enabled:!!u}),{data:x}=Ce({queryKey:["/api/v1/incidents",u,"triage"],enabled:!!u});b.useEffect(()=>{x&&(i(x.severity),a(x.recurrence))},[x]);const h=LCe(n,s),m=eq({incidentId:u||"",stepNumber:4,enabled:!!u&&(n!=="Medium"||s!=="Low"),onSuccess:()=>{console.log("[RCA-TRIAGE] Autosave successful")},onError:g=>{console.error("[RCA-TRIAGE] Autosave failed:",g)}});b.useEffect(()=>{if(u&&(n!=="Medium"||s!=="Low")){const g={severity:n,recurrence:s,level:h.level,label:h.label,method:h.method,timebox:h.timebox};m.saveIfChanged(g)}},[n,s,u,h,m]);const y=Ke({mutationFn:async()=>st(`/api/v1/incidents/${u}/triage`,{method:"POST",body:JSON.stringify({severity:n,recurrence:s})}),onSuccess:()=>{c({title:"RCA Level Determined",description:`${h.label} analysis recommended with ${h.method}`}),d.invalidateQueries({queryKey:["/api/v1/incidents",u,"triage"]}),t(`/incidents/${u}/evidence-checklist`)},onError:g=>{console.error("[RCA_TRIAGE] Error saving triage:",g),c({title:"Error",description:"Failed to save RCA determination. Please try again.",variant:"destructive"})}}),j=async()=>{l(!0);try{await y.mutateAsync()}finally{l(!1)}};return p?r.jsx("div",{className:"container mx-auto p-6","data-testid":"loading-spinner",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):f?r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl","data-testid":"rca-triage-page",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"RCA Level Determination"}),r.jsx("p",{className:"text-gray-600","data-testid":"page-description",children:"Determine the appropriate Root Cause Analysis level based on incident severity and recurrence"})]}),r.jsxs(H,{className:"mb-6","data-testid":"incident-overview",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"h-5 w-5"}),"Incident Overview"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Title"}),r.jsx("p",{className:"font-medium","data-testid":"incident-title",children:f.title})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Equipment"}),r.jsxs("p",{className:"font-medium","data-testid":"incident-equipment",children:[f.equipmentGroup," / ",f.equipmentType,f.equipmentSubtype&&` / ${f.equipmentSubtype}`]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),r.jsx("p",{className:"font-medium","data-testid":"incident-description",children:f.symptomDescription||"No description available"})]})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[r.jsxs(H,{"data-testid":"severity-card",children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Incident Severity"}),r.jsx(ye,{children:"Assess the impact and consequences of this incident"})]}),r.jsx(K,{children:r.jsx(eN,{value:n,onValueChange:g=>i(g),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2","data-testid":"severity-high",children:[r.jsx(Do,{value:"High",id:"severity-high"}),r.jsx(oe,{htmlFor:"severity-high",className:"flex-1",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-red-600",children:"High Severity"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Safety impact, major equipment damage, significant production loss"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2","data-testid":"severity-medium",children:[r.jsx(Do,{value:"Medium",id:"severity-medium"}),r.jsx(oe,{htmlFor:"severity-medium",className:"flex-1",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-orange-600",children:"Medium Severity"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Moderate impact, repairable damage, some production loss"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2","data-testid":"severity-low",children:[r.jsx(Do,{value:"Low",id:"severity-low"}),r.jsx(oe,{htmlFor:"severity-low",className:"flex-1",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-600",children:"Low Severity"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Minor impact, minimal damage, limited production effect"})]})})]})]})})})]}),r.jsxs(H,{"data-testid":"recurrence-card",children:[r.jsxs(Q,{children:[r.jsx(X,{children:"Recurrence Frequency"}),r.jsx(ye,{children:"How often does this type of failure occur?"})]}),r.jsx(K,{children:r.jsx(eN,{value:s,onValueChange:g=>a(g),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2","data-testid":"recurrence-high",children:[r.jsx(Do,{value:"High",id:"recurrence-high"}),r.jsx(oe,{htmlFor:"recurrence-high",className:"flex-1",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-red-600",children:"High Recurrence"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Chronic/Recurring - Multiple occurrences per month"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2","data-testid":"recurrence-medium",children:[r.jsx(Do,{value:"Medium",id:"recurrence-medium"}),r.jsx(oe,{htmlFor:"recurrence-medium",className:"flex-1",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-orange-600",children:"Medium Recurrence"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Intermittent - Occasional occurrences, has happened before"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2","data-testid":"recurrence-low",children:[r.jsx(Do,{value:"Low",id:"recurrence-low"}),r.jsx(oe,{htmlFor:"recurrence-low",className:"flex-1",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-600",children:"Low Recurrence"}),r.jsx("p",{className:"text-sm text-gray-500",children:"First Occurrence - Never happened before or very rare"})]})})]})]})})})]})]}),r.jsxs(H,{className:"mb-6","data-testid":"rca-recommendation",children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),"RCA Recommendation"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsxs(ee,{variant:"outline",className:"text-lg px-4 py-2","data-testid":"rca-level",children:["Level ",h.level]})}),r.jsx("p",{className:"font-medium","data-testid":"rca-label",children:h.label})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx(kt,{className:"h-6 w-6 text-blue-600"})}),r.jsx("p",{className:"font-medium","data-testid":"rca-method",children:h.method}),r.jsx("p",{className:"text-sm text-gray-500",children:"Recommended Method"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx(Kn,{className:"h-6 w-6 text-green-600"})}),r.jsx("p",{className:"font-medium","data-testid":"rca-timebox",children:h.timebox}),r.jsx("p",{className:"text-sm text-gray-500",children:"Time Allocation"})]})]})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(V,{variant:"outline",onClick:()=>t(`/incidents/${u}/equipment-selection`),"data-testid":"button-back",children:"Back to Equipment Selection"}),r.jsx(V,{onClick:j,disabled:o||y.isPending,className:"flex items-center gap-2","data-testid":"button-continue",children:o||y.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):r.jsxs(r.Fragment,{children:["Continue to Evidence Collection",r.jsx(_r,{className:"h-4 w-4"})]})})]})]}):r.jsx("div",{className:"container mx-auto p-6","data-testid":"incident-not-found",children:r.jsx(H,{children:r.jsx(K,{className:"pt-6",children:r.jsx("p",{className:"text-center text-gray-500",children:"Incident not found"})})})})}const bT={DRAFT:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",IN_PROGRESS:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",CLOSED:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",CANCELLED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},jT={DRAFT:"Draft",IN_PROGRESS:"In Progress",CLOSED:"Closed",CANCELLED:"Cancelled"},qCe={1:"Incident Reporting",2:"Equipment Selection",3:"Evidence Collection",4:"RCA Triage",5:"AI Questions",6:"RCA Workspace",7:"Actions & Approvals",8:"Summary & Closeout"};function zCe(){const e=yo(),[t,n]=b.useState("all"),[i,s]=b.useState(""),{data:a,isLoading:o,refetch:l}=Ce({queryKey:["/api/rca/cases",t!=="all"?t:void 0],queryFn:async({queryKey:f})=>{const[p,x]=f,h=new URLSearchParams;x&&h.set("status",x);const m=await fetch(`${p}?${h.toString()}`);if(!m.ok)throw new Error("Failed to fetch RCA cases");return m.json()}}),c=(a==null?void 0:a.data)||[],d=c.filter(f=>{var y,j,g,v;const p=i.toLowerCase(),x=((j=(y=f.payload)==null?void 0:y.step1)==null?void 0:j.incidentTitle)||"",h=f.summary||"",m=((v=(g=f.payload)==null?void 0:g.step2)==null?void 0:v.equipmentInfo)||"";return x.toLowerCase().includes(p)||h.toLowerCase().includes(p)||m.toLowerCase().includes(p)||f.incidentId.toLowerCase().includes(p)}),u=(f,p)=>{p<=1?e(`/incident-reporting?resume=${f}`):p<=2?e(`/equipment-selection?incident=${f}`):p<=3?e(`/evidence-checklist?incident=${f}`):p<=4?e(`/incidents/${f}/rca-triage`):e(`/incidents/${f}/analysis`)};return r.jsxs("div",{className:"container max-w-7xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"RCA Cases"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and resume your Root Cause Analysis investigations"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(V,{variant:"outline",onClick:()=>l(),disabled:o,"data-testid":"button-refresh",children:[r.jsx(On,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),r.jsx(ir,{to:"/incident-reporting",children:r.jsxs(V,{"data-testid":"button-new-incident",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),"New Incident"]})})]})]}),r.jsxs(H,{children:[r.jsx(Q,{children:r.jsxs(X,{className:"flex items-center gap-2",children:[r.jsx(eM,{className:"h-5 w-5"}),"Filters"]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:space-y-0 md:space-x-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(me,{placeholder:"Search by incident title, equipment, or ID...",value:i,onChange:f=>s(f.target.value),className:"w-full","data-testid":"input-search"})}),r.jsx("div",{className:"w-full md:w-48",children:r.jsxs($e,{value:t,onValueChange:n,"data-testid":"select-status-filter",children:[r.jsx(Me,{children:r.jsx(De,{placeholder:"Filter by status"})}),r.jsxs(Le,{children:[r.jsx(te,{value:"all",children:"All Statuses"}),r.jsx(te,{value:"DRAFT",children:"Draft"}),r.jsx(te,{value:"IN_PROGRESS",children:"In Progress"}),r.jsx(te,{value:"CLOSED",children:"Closed"}),r.jsx(te,{value:"CANCELLED",children:"Cancelled"})]})]})})]})})]}),r.jsx("div",{className:"space-y-4",children:o?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>r.jsx(H,{className:"animate-pulse",children:r.jsxs(K,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},f))}):d.length===0?r.jsx(H,{children:r.jsxs(K,{className:"p-12 text-center",children:[r.jsx(Ut,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No RCA cases found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:i||t!=="all"?"Try adjusting your search or filter criteria.":"Start by creating your first incident report."}),!i&&t==="all"&&r.jsx(ir,{to:"/incident-reporting",children:r.jsxs(V,{children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Report New Incident"]})})]})}):r.jsx("div",{className:"grid gap-4",children:d.map(f=>{var p,x,h,m;return r.jsx(H,{className:"hover:shadow-md transition-shadow",children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h3",{className:"font-semibold text-lg","data-testid":`text-case-title-${f.id}`,children:((x=(p=f.payload)==null?void 0:p.step1)==null?void 0:x.incidentTitle)||`Incident ${f.incidentId}`}),r.jsx(ee,{className:bT[f.status],"data-testid":`badge-status-${f.id}`,children:jT[f.status]})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-4 w-4"}),"ID: ",f.incidentId]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Step ",f.lastStep,": ",qCe[f.lastStep]]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(YR,{className:"h-4 w-4"}),"Updated ",LSe(new Date(f.updatedAt))," ago"]})]}),((m=(h=f.payload)==null?void 0:h.step2)==null?void 0:m.equipmentInfo)&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Equipment: ",f.payload.step2.equipmentInfo,f.payload.step2.manufacturer&&`  ${f.payload.step2.manufacturer}`,f.payload.step2.model&&`  ${f.payload.step2.model}`]}),f.summary&&r.jsx("p",{className:"text-sm",children:f.summary})]}),r.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:r.jsxs(V,{onClick:()=>u(f.incidentId,f.lastStep),disabled:f.status==="CLOSED"||f.status==="CANCELLED","data-testid":`button-resume-${f.id}`,children:[r.jsx(Zb,{className:"h-4 w-4 mr-2"}),f.status==="CLOSED"?"View":"Resume"]})})]})})},f.id)})})}),d.length>0&&r.jsx(H,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Showing ",d.length," of ",c.length," cases"]}),r.jsx("div",{className:"flex items-center space-x-4",children:Object.entries(jT).map(([f,p])=>{const x=c.filter(h=>h.status===f).length;return x>0?r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${bT[f].split(" ")[0]}`}),r.jsxs("span",{children:[p,": ",x]})]},f):null})})]})})})]})}function BCe(){return console.log("Current route:",window.location.pathname+window.location.search),console.log("Full URL:",window.location.href),b.useEffect(()=>{_H().catch(console.error)},[]),r.jsx(aB,{children:r.jsxs(Dz,{children:[r.jsx(ut,{path:"/admin",element:r.jsx(D0,{children:r.jsx(M0e,{})})}),r.jsx(ut,{path:"/admin/settings",element:r.jsx(qje,{})}),r.jsx(ut,{path:"/admin/evidence",element:r.jsx(dT,{})}),r.jsx(ut,{path:"/admin/integrations",element:r.jsx(gT,{})}),r.jsx(ut,{path:"/admin/taxonomy",element:r.jsx(gCe,{})}),r.jsx(ut,{path:"/new",element:r.jsx(zje,{})}),r.jsx(ut,{path:"/investigation/:id/type",element:r.jsx(Bje,{})}),r.jsx(ut,{path:"/investigation/:id/evidence",element:r.jsx(qP,{})}),r.jsx(ut,{path:"/investigation/:id",element:r.jsx(_je,{})}),r.jsx(ut,{path:"/incident-reporting",element:r.jsx(nCe,{})}),r.jsx(ut,{path:"/incidents/:id/rca-triage",element:r.jsx(FCe,{})}),r.jsx(ut,{path:"/rca/cases",element:r.jsx(zCe,{})}),r.jsx(ut,{path:"/workflow/integration",element:r.jsx(ECe,{})}),r.jsx(ut,{path:"/analysis-engine",element:r.jsx(D0,{children:r.jsx(xT,{})})}),r.jsx(ut,{path:"/ai-powered-rca",element:r.jsx(D0,{children:r.jsx(vT,{})})}),r.jsx(ut,{path:"/analysis-history",element:r.jsx(yT,{})}),r.jsx(ut,{path:"/admin/evidence-library",element:r.jsx(Dwe,{})}),r.jsx(ut,{path:"/admin/evidence-management",element:r.jsx(M0,{})}),r.jsx(ut,{path:"/admin/evidence-library-management",element:r.jsx(dT,{})}),r.jsx(ut,{path:"/admin/fault-reference-library",element:r.jsx(vCe,{})}),r.jsx(ut,{path:"/evidence-analysis-demo",element:r.jsx(xT,{})}),r.jsx(ut,{path:"/rca-analysis-demo",element:r.jsx(vT,{})}),r.jsx(ut,{path:"/workflow-integration-demo",element:r.jsx(gT,{})}),r.jsx(ut,{path:"/data-integration-demo",element:r.jsx(SCe,{})}),r.jsx(ut,{path:"/deployment-ready",element:r.jsx(yT,{})}),r.jsx(ut,{path:"/evidence-library-management",element:r.jsx(M0,{})}),r.jsx(ut,{path:"/evidence-library",element:r.jsx(M0,{})}),r.jsx(ut,{path:"/debug",element:r.jsx(xCe,{})}),r.jsx(ut,{path:"/admin/analysis-engine",element:r.jsx(Oo,{replace:!0,to:"/analysis-engine"})}),r.jsx(ut,{path:"/admin/ai-powered-rca",element:r.jsx(Oo,{replace:!0,to:"/ai-powered-rca"})}),r.jsx(ut,{path:"/admin/analysis",element:r.jsx(Oo,{replace:!0,to:"/analysis-engine"})}),r.jsx(ut,{path:"/admin/ai",element:r.jsx(Oo,{replace:!0,to:"/ai-powered-rca"})}),r.jsx(ut,{path:"/equipment-selection",element:r.jsx(aCe,{})}),r.jsx(ut,{path:"/evidence-checklist",element:r.jsx(cCe,{})}),r.jsx(ut,{path:"/evidence-collection",element:r.jsx(qP,{})}),r.jsx(ut,{path:"/human-review",element:r.jsx(mT,{})}),r.jsx(ut,{path:"/incidents/:id/human-review",element:r.jsx(mT,{})}),r.jsx(ut,{path:"/incidents/:id/analysis",element:r.jsx(hT,{})}),r.jsx(ut,{path:"/ai-analysis",element:r.jsx(hT,{})}),r.jsx(ut,{path:"/engineer-review",element:r.jsx(uCe,{})}),r.jsx(ut,{path:"/nlp-analysis",element:r.jsx(fCe,{})}),r.jsx(ut,{path:"/incidents/:id/fallback-analysis",element:r.jsx(dCe,{})}),r.jsx(ut,{path:"/summary-report/:incidentId",element:r.jsx(pCe,{})}),r.jsx(ut,{path:"/analysis-details/:incidentId",element:r.jsx(mCe,{})}),r.jsx(ut,{path:"/",element:r.jsx(Oo,{to:"/admin",replace:!0})}),r.jsx(ut,{path:"*",element:r.jsx(Oo,{to:"/admin",replace:!0})})]})})}function UCe(){return r.jsx(CH,{children:r.jsx(MB,{client:wt,children:r.jsxs(YM,{children:[r.jsx(HV,{}),r.jsx(BCe,{})]})})})}VI(document.getElementById("root")).render(r.jsx(UCe,{}));
